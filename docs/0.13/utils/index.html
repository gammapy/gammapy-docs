

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>utils - Utilities &mdash; gammapy v0.13</title>
  

  
  
    <link rel="shortcut icon" href="../_static/gammapy_logo.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.gammapy.org/dev/utils/index.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
        <script type="text/javascript" src="../_static/gammapy.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="standardise_unit" href="../api/gammapy.utils.units.standardise_unit.html" />
    <link rel="prev" title="Stats" href="../api/gammapy.stats.Stats.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> gammapy
          

          
          </a>

          
            
            
              <div class="version">
                0.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#help">Help!?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#install">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#download-tutorials">Download tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#check-your-setup">Check your setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#use-gammapy">Use Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#id2">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#ipython">IPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#python-script">Python script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#command-line">Command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started.html#jupyter-notebooks">Jupyter notebooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html#install-issues">Install issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorial notebooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#notebooks">Notebooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/first_steps.html">Getting started with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Maps">Maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Event-lists">Event lists</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Source-catalogs">Source catalogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#Spectral-models-and-flux-points">Spectral models and flux points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/first_steps.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/intro_maps.html">Gammapy Maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#0.-Setup">0. Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#1.-Creating-WCS-Maps">1. Creating WCS Maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#2.-Accessing-and-Modifying-Data">2. Accessing and Modifying Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#3.-Reading-and-Writing">3. Reading and Writing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#4.-Visualizing-and-Plotting">4. Visualizing and Plotting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/intro_maps.html#5.-Reprojecting,-Interpolating-and-Miscellaneous">5. Reprojecting, Interpolating and Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html">CTA first data challenge (1DC) with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Notebook-and-Gammapy-Setup">Notebook and Gammapy Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#DC-1-data">DC-1 data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#EVENT-data">EVENT data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#EVENT-analysis-example">EVENT analysis example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#IRFs">IRFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Index-files-and-DataStore">Index files and DataStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Select-observations">Select observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Load-data">Load data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Model-XML-files">Model XML files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_1dc_introduction.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/cta_data_analysis.html">CTA data analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Select-observations">Select observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Make-sky-images">Make sky images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Source-Detection">Source Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Spatial-analysis">Spatial analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Spectrum">Spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_data_analysis.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/analysis_3d.html">3D analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Prepare-modeling-input-data">Prepare modeling input data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Likelihood-fit">Likelihood fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Computing-Flux-Points">Computing Flux Points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/analysis_3d_joint.html">Joint 3D Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d_joint.html#Prepare-modeling-input-data">Prepare modeling input data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d_joint.html#Likelihood-fit">Likelihood fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/analysis_3d_joint.html#Plotting-residuals">Plotting residuals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/simulate_3d.html">3D simulation and fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/simulate_3d.html#Imports-and-versions">Imports and versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/simulate_3d.html#Simulate">Simulate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/simulate_3d.html#Fit">Fit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/hess.html">H.E.S.S. with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Data-access">Data access</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Maps">Maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#PSF">PSF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Map-fit">Map fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Residual-image">Residual image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Spectrum">Spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Classical-Ring-Background-Analysis">Classical Ring Background Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hess.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/detect_ts.html">Source detection with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Read-in-input-images">Read in input images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Plot-images">Plot images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Source-catalog">Source catalog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Measurements">Measurements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Compare-to-3FHL">Compare to 3FHL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/detect_ts.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html">Fitting 2D images with Sherpa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Necessary-imports">Necessary imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Making-a-PSF-Map">Making a PSF Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Make-2D-images-from-3D-ones">Make 2D images from 3D ones</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Read-the-maps-and-store-them-in-a-sherpa-model">Read the maps and store them in a sherpa model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Find-and-fit-the-brightest-source">Find and fit the brightest source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Iteratively-find-and-fit-additional-sources">Iteratively find and fit additional sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Generating-output-table-and-Test-Statistics-estimation">Generating output table and Test Statistics estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_fitting_with_sherpa.html#More-about-sherpa">More about sherpa</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/spectrum_analysis.html">Spectral analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Load-Data">Load Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Define-Target-Region">Define Target Region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Create-exclusion-mask">Create exclusion mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Estimate-background">Estimate background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Source-statistic">Source statistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Extract-spectrum">Extract spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Fit-spectrum">Fit spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Compute-Flux-Points">Compute Flux Points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Stack-observations">Stack observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_analysis.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html">Fitting gammapy spectra with sherpa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Load-data-stack">Load data stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Define-source-model">Define source model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Fit-and-error-estimation">Fit and error estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Results-plot">Results plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Errors-and-confidence-contours">Errors and confidence contours</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_fitting_with_sherpa.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html">Flux point fitting in Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Load-spectral-points">Load spectral points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Power-Law-Fit">Power Law Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Exponential-Cut-Off-Powerlaw-Fit">Exponential Cut-Off Powerlaw Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Log-Parabola-Fit">Log-Parabola Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/sed_fitting_gammacat_fermi.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/fermi_lat.html">Fermi-LAT data with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Counts">Counts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Exposure">Exposure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Galactic-diffuse-background">Galactic diffuse background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Isotropic-diffuse-background">Isotropic diffuse background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#PSF">PSF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Background">Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Excess-and-flux">Excess and flux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Fit">Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/fermi_lat.html#Summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/light_curve.html">Light curve estimation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Select-the-data">Select the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Define-time-intervals">Define time intervals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#3D-data-reduction">3D data reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Light-Curve-estimation:-the-3D-case">Light Curve estimation: the 3D case</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Performing-the-same-analysis-with-1D-spectra">Performing the same analysis with 1D spectra</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/light_curve.html#Light-Curve-estimation-for-1D-spectra">Light Curve estimation for 1D spectra</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/cta_sensitivity.html">Estimation of the CTA point source sensitivity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Define-analysis-region-and-energy-binning">Define analysis region and energy binning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Load-IRFs">Load IRFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Determine-energy-dependent-integration-radius">Determine energy dependent integration radius</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Estimate-background">Estimate background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Compute-sensitivity">Compute sensitivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Results">Results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cta_sensitivity.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/spectrum_simulation.html">Spectrum simulation for CTA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#Simulation-of-a-single-spectrum">Simulation of a single spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#Include-Background">Include Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#Adding-a-user-defined-model">Adding a user defined model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/spectrum_simulation.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/image_analysis.html">Fitting 2D images with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Prepare-modeling-input-data">Prepare modeling input data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Define-a-mask">Define a mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Modeling-the-source">Modeling the source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Modeling-the-background">Modeling the background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Todo:-Demonstrate-plotting-a-flux-map">Todo: Demonstrate plotting a flux map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/image_analysis.html#Exercises">Exercises</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#extra-topics">Extra topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/hgps.html">HGPS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Notebook-Overview">Notebook Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Packages">Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Download-Data">Download Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Catalog-with-Astropy">Catalog with Astropy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Maps-with-Astropy">Maps with Astropy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Catalog-with-Gammapy">Catalog with Gammapy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Maps-with-Gammapy">Maps with Gammapy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Conclusions">Conclusions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/hgps.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/source_population_model.html">Astrophysical source population modeling with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Simulate-positions">Simulate positions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Simulate-luminosities">Simulate luminosities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Compute-observable-parameters">Compute observable parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Check-output">Check output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/source_population_model.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/cwt.html">CWT Algorithm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cwt.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cwt.html#CWT-Algorithm">CWT Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/cwt.html#Results-of-analysis">Results of analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/astro_dark_matter.html">Dark matter utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#Profiles">Profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#J-Factors">J Factors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#Gamma-ray-spectra-at-production">Gamma-ray spectra at production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/astro_dark_matter.html#Flux-maps">Flux maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/background_model.html">Make template background model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Select-off-data">Select off data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Background-model">Background model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Zenith-dependence">Zenith dependence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Index-tables">Index tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/background_model.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/mcmc_sampling.html">Fitting and error estimation with MCMC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Simulate-an-observation">Simulate an observation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Estimate-parameter-correlations-with-MCMC">Estimate parameter correlations with MCMC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Plot-the-results">Plot the results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Plot-the-model-dispersion">Plot the model dispersion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#Fun-Zone">Fun Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/mcmc_sampling.html#PeVatrons-in-CTA-?">PeVatrons in CTA ?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/pulsar_analysis.html">Pulsar analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/pulsar_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/pulsar_analysis.html#Opening-the-data">Opening the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/pulsar_analysis.html#Phasogram">Phasogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/pulsar_analysis.html#Phase-resolved-map">Phase-resolved map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/pulsar_analysis.html#Phase-resolved-spectrum">Phase-resolved spectrum</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#basics">Basics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#quick-install-guide">Quick install guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/index.html#stable-version">Stable version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/index.html#development-version">Development version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/index.html#verify">Verify</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#need-help">Need help?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html#detailed-information">Detailed information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/conda.html">Installation with conda</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/pip.html">Installation with pip or setup.py</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install/pip.html#install-pip">pip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/pip.html#setup-py">setup.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../install/macports.html">Installation with Macports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/other.html">Other package managers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install/other.html#id1">apt-get</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/other.html#id2">yum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/other.html#id3">Homebrew</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/other.html#id4">Fermi ScienceTools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../install/check.html">Check Gammapy installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install/check.html#how-to-run-checks">How to run checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/check.html#common-issues">Common issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/check.html#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../install/dependencies.html">Dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../references.html#publications">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#other-gamma-ray-packages">Other gamma-ray packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../references.html#other-useful-packages">Other useful packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#july-26-2019">0.13 (July 26, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#may-30-2019">0.12 (May 30, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id2">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id3">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#mar-29-2019">0.11 (Mar 29, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id4">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id5">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#jan-28-2019">0.10 (Jan 28, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id6">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id7">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-29-2018">0.9 (Nov 29, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id8">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id9">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#sep-23-2018">0.8 (Sep 23, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id10">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id11">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#feb-28-2018">0.7 (Feb 28, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id12">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id13">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-28-2017">0.6 (Apr 28, 2017)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id14">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id15">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#nov-22-2016">0.5 (Nov 22, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id16">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id17">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-20-2016">0.4 (Apr 20, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id18">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id19">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#aug-13-2015">0.3 (Aug 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id20">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id21">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#apr-13-2015">0.2 (Apr 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id22">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id23">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#aug-25-2014">0.1 (Aug 25, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id24">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#id25">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Gammapy Package</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">data - Data and observations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#using-gammapy-data">Using <code class="docutils literal notranslate"><span class="pre">gammapy.data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/index.html#module-gammapy.data">gammapy.data Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../data/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../irf/index.html">irf - Instrument response functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#effective-area">Effective area</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#psf">PSF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#energy-dispersion">Energy Dispersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#using-gammapy-irf">Using <code class="docutils literal notranslate"><span class="pre">gammapy.irf</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../irf/theory.html">IRF Theory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/aeff.html">Effective area</a></li>
<li class="toctree-l3"><a class="reference internal" href="../irf/edisp.html">Energy dispersion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../irf/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../irf/index.html#module-gammapy.irf">gammapy.irf Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../irf/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../irf/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maps/index.html">maps - Sky maps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#constructing-with-factory-methods">Constructing with Factory Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#indexing-and-slicing">Indexing and Slicing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#accessor-methods">Accessor Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#interface-with-mapcoord-and-skycoord">Interface with <code class="docutils literal notranslate"><span class="pre">MapCoord</span></code> and <code class="docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#mapcoord">MapCoord</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#interpolation">Interpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#projection">Projection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#iterating-by-image">Iterating by image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#fits-i-o">FITS I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#creating-a-counts-cube-from-an-ft1-file">Creating a Counts Cube from an FT1 File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#generating-a-cutout-of-a-model-cube">Generating a Cutout of a Model Cube</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#using-gammapy-maps">Using <code class="docutils literal notranslate"><span class="pre">gammapy.maps</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/hpxmap.html">HEALPix-based Maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maps/hpxmap.html#healpix-geometry">HEALPix Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../maps/hpxmap.html#sparse-maps">Sparse Maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../maps/wcsmap.html">WCS-based Maps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maps/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maps/index.html#module-gammapy.maps">gammapy.maps Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../maps/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../image/index.html">image - Map image analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#using-gammapy-image">Using <code class="docutils literal notranslate"><span class="pre">gammapy.image</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../image/plotting.html">Image plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../image/plotting.html#colormaps">Colormaps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../image/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../image/index.html#module-gammapy.image">gammapy.image Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../image/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../image/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../image/index.html#module-gammapy.image.models">gammapy.image.models Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../image/index.html#id1">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cube/index.html">cube - Map cube analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cube/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cube/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cube/index.html#using-gammapy-cube">Using <code class="docutils literal notranslate"><span class="pre">gammapy.cube</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../cube/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cube/index.html#module-gammapy.cube">gammapy.cube Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cube/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cube/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cube/index.html#module-gammapy.cube.models">gammapy.cube.models Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cube/index.html#id1">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../detect/index.html">detect - Source detection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../detect/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detect/index.html#computation-of-ts-images">Computation of TS images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detect/index.html#computation-of-li-ma-significance-images">Computation of Li &amp; Ma significance images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detect/index.html#using-gammapy-detect">Using <code class="docutils literal notranslate"><span class="pre">gammapy.detect</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../detect/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../detect/index.html#module-gammapy.detect">gammapy.detect Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../detect/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../detect/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../background/index.html">background - Background modeling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../background/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../background/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../background/index.html#using-gammapy-background">Using <code class="docutils literal notranslate"><span class="pre">gammapy.background</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../background/reflected.html">Reflected regions background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../background/reflected.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../background/reflected.html#using-regions">Using regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../background/reflected.html#the-reflected-region-finder">The reflected region finder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../background/reflected.html#using-the-reflected-background-estimator">Using the reflected background estimator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../background/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../background/index.html#module-gammapy.background">gammapy.background Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../background/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../spectrum/index.html">spectrum - 1D spectrum analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../spectrum/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spectrum/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spectrum/index.html#using-gammapy-spectrum">Using <code class="docutils literal notranslate"><span class="pre">gammapy.spectrum</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../spectrum/fitting.html">Spectral Fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../spectrum/fitting.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spectrum/fitting.html#interactive-sherpa-fit">Interactive Sherpa Fit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spectrum/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../spectrum/index.html#module-gammapy.spectrum">gammapy.spectrum Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../spectrum/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spectrum/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../spectrum/index.html#module-gammapy.spectrum.models">gammapy.spectrum.models Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../spectrum/index.html#id4">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../time/index.html">time - Time analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../time/index.html#lightcurve">Lightcurve</a></li>
<li class="toctree-l3"><a class="reference internal" href="../time/index.html#variability-test">Variability test</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html#other-codes">Other codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html#using-gammapy-time">Using <code class="docutils literal notranslate"><span class="pre">gammapy.time</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../time/period.html">Period detection and plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../time/period.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../time/period.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../time/period.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../time/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../time/index.html#module-gammapy.time">gammapy.time Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../time/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../time/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../time/index.html#module-gammapy.time.models">gammapy.time.models Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../time/index.html#id1">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stats/index.html">stats - Statistics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#li-ma-significance">Li &amp; Ma Significance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#confidence-intervals">Confidence Intervals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#using-gammapy-stats">Using <code class="docutils literal notranslate"><span class="pre">gammapy.stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/feldman_cousins.html">Feldman and Cousins Confidence Intervals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stats/feldman_cousins.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/feldman_cousins.html#acceptance-interval-fixing">Acceptance Interval Fixing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/feldman_cousins.html#sensitivity">Sensitivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/feldman_cousins.html#general-case">General Case</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/feldman_cousins.html#verification">Verification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stats/fit_statistics.html">Fit statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stats/fit_statistics.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/fit_statistics.html#gaussian-data">Gaussian data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/fit_statistics.html#poisson-data">Poisson data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/fit_statistics.html#poisson-data-with-background-measurement">Poisson data with background measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/fit_statistics.html#further-references">Further references</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stats/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stats/index.html#module-gammapy.stats">gammapy.stats Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stats/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stats/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">utils - Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-handling-in-gammapy">Time handling in Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#time-format-and-scale">Time format and scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mission-elapsed-times-met">Mission elapsed times (MET)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-differences">Time differences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.units">gammapy.utils.units Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.coordinates">gammapy.utils.coordinates Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.interpolation">gammapy.utils.interpolation Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.table">gammapy.utils.table Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.fits">gammapy.utils.fits Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gammapy-fits-utilities">Gammapy FITS utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.random">gammapy.utils.random Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.regions">gammapy.utils.regions Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.scripts">gammapy.utils.scripts Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.testing">gammapy.utils.testing Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.nddata">gammapy.utils.nddata Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.time">gammapy.utils.time Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-gammapy.utils.fitting">gammapy.utils.fitting Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">scripts - Command line tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#execute">Execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#command-not-found">Command not found</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#reference">Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#gammapy">gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#gammapy-check">check</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#gammapy-download">download</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#gammapy-image">image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#gammapy-info">info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#gammapy-jupyter">jupyter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#plan">Plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#write-your-own-cli">Write your own CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../scripts/index.html#module-gammapy.scripts">gammapy.scripts Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../scripts/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../catalog/index.html">catalog - Source catalogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../catalog/index.html#available-catalogs">Available catalogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../catalog/index.html#how-it-works">How it works</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#using-gammapy-catalog">Using <code class="docutils literal notranslate"><span class="pre">gammapy.catalog</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../catalog/gammacat.html">gamma-cat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../catalog/gammacat.html#catalog">Catalog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../catalog/gammacat.html#data-collection">Data collection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../catalog/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../catalog/index.html#module-gammapy.catalog">gammapy.catalog Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../catalog/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../catalog/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../astro/index.html">astro - Astrophysics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astro/index.html#sub-packages">Sub-packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../astro/source/index.html">Astrophysical source models (<code class="docutils literal notranslate"><span class="pre">gammapy.astro.source</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../astro/source/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/source/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/source/index.html#using-gammapy-astro-source">Using <code class="docutils literal notranslate"><span class="pre">gammapy.astro.source</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/source/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../astro/population/index.html">Astrophysical source population models (<code class="docutils literal notranslate"><span class="pre">gammapy.astro.population</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../astro/population/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/population/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/population/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../astro/darkmatter/index.html">Dark matter (<code class="docutils literal notranslate"><span class="pre">gammapy.astro.darkmatter</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../astro/darkmatter/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/darkmatter/index.html#other-packages">Other packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/darkmatter/index.html#using-gammapy-spectrum">Using <code class="docutils literal notranslate"><span class="pre">gammapy.spectrum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../astro/darkmatter/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/intro.html">How to contribute to Gammapy?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/setup.html">Gammapy project setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/howto.html">Developer HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/release.html">How to make a Gammapy release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/pigs/index.html">PIGs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-001.html">PIG 1 - PIG purpose and guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-002.html">PIG 2 - Organization of low-level analysis code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-003.html">PIG 3 - Plan for dropping Python 2.7 support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-004.html">PIG 4 - Setup for tutorial notebooks and data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-005.html">PIG 5 - Gammapy 1.0 Roadmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/pigs/pig-010.html">PIG 10 - Regions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/dataformats.html">Data Formats</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gammapy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>utils - Utilities</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/utils/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="utils-utilities">
<span id="utils"></span><h1>utils - Utilities<a class="headerlink" href="#utils-utilities" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">gammapy.utils</span></code> is a collection of utility functions that are used in many
places or don’t fit in one of the other packages.</p>
<p>Since the various sub-modules of <code class="docutils literal notranslate"><span class="pre">gammapy.utils</span></code> are mostly unrelated, they
are not imported into the top-level namespace. Here are some examples of how to
import functionality from the <code class="docutils literal notranslate"><span class="pre">gammapy.utils</span></code> sub-modules:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gammapy.utils.random</span> <span class="kn">import</span> <span class="n">sample_sphere</span>
<span class="n">sample_sphere</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">gammapy.utils</span> <span class="kn">import</span> <span class="n">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">sample_sphere</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="time-handling-in-gammapy">
<span id="time-handling"></span><h2>Time handling in Gammapy<a class="headerlink" href="#time-handling-in-gammapy" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="#module-gammapy.utils.time" title="gammapy.utils.time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.utils.time</span></code></a>.</p>
<div class="section" id="time-format-and-scale">
<h3>Time format and scale<a class="headerlink" href="#time-format-and-scale" title="Permalink to this headline">¶</a></h3>
<p>In Gammapy, <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.time.Time</span></code></a> objects are used to represent times:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Time</span><span class="p">([</span><span class="s1">&#39;1999-01-01T00:00:00.123456789&#39;</span><span class="p">,</span> <span class="s1">&#39;2010-01-01T00:00:00&#39;</span><span class="p">])</span>
<span class="go">&lt;Time object: scale=&#39;utc&#39; format=&#39;isot&#39; value=[&#39;1999-01-01T00:00:00.123&#39; &#39;2010-01-01T00:00:00.000&#39;]&gt;</span>
</pre></div>
</div>
<p>Note that Astropy chose <code class="docutils literal notranslate"><span class="pre">format='isot'</span></code> and <code class="docutils literal notranslate"><span class="pre">scale='utc'</span></code> as default and in
Gammapy these are also the recommended format and time scale.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Actually what’s written here is not true. In CTA it hasn’t been decided if
times will be in <code class="docutils literal notranslate"><span class="pre">utc</span></code> or <code class="docutils literal notranslate"><span class="pre">tt</span></code> (terrestial time) format.</p>
<p class="last">Here’s a reminder that this needs to be settled / updated:
<a class="reference external" href="https://github.com/gammapy/gammapy/issues/284">https://github.com/gammapy/gammapy/issues/284</a></p>
</div>
<p>When other time formats are needed it’s easy to convert, see the <a class="reference external" href="http://docs.astropy.org/en/latest/time/index.html#time-format" title="(in Astropy v4.0.dev694)"><span class="xref std std-ref">time
format section and table in the Astropy docs</span></a>.</p>
<p>E.g. sometimes in astronomy the modified Julian date <code class="docutils literal notranslate"><span class="pre">mjd</span></code> is used and for
passing times to matplotlib for plotting the <code class="docutils literal notranslate"><span class="pre">plot_date</span></code> format should be
used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.time</span> <span class="kn">import</span> <span class="n">Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="n">Time</span><span class="p">([</span><span class="s1">&#39;1999-01-01T00:00:00.123456789&#39;</span><span class="p">,</span> <span class="s1">&#39;2010-01-01T00:00:00&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">mjd</span>
<span class="go">array([ 51179.00000143,  55197.        ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">plot_date</span>
<span class="go">array([ 729755.00000143,  733773.        ])</span>
</pre></div>
</div>
<p>Converting to other time scales is also easy, see the <a class="reference external" href="http://docs.astropy.org/en/latest/time/index.html#time-scale" title="(in Astropy v4.0.dev694)"><span class="xref std std-ref">time scale section,
diagram and table in the Astropy docs</span></a>.</p>
<p>E.g. when converting celestial (RA/DEC) to horizontal (ALT/AZ) coordinates, the
<a class="reference external" href="https://en.wikipedia.org/wiki/Sidereal_time">sidereal time</a> is needed. This
is done automatically by <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.AltAz.html#astropy.coordinates.AltAz" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates.AltAz</span></code></a> when the
<a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.AltAz.html#astropy.coordinates.AltAz.obstime" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates.AltAz.obstime</span></code></a> is set with a <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code></a> object in
any scale, no need for explicit time scale transformations in Gammapy (although
if you do want to explicitly compute it, it’s easy, see <a class="reference external" href="http://docs.astropy.org/en/latest/time/index.html#sidereal-time">here</a>).</p>
<p>The <a class="reference external" href="https://fermi.gsfc.nasa.gov/ssc/data/analysis/documentation/Cicerone/Cicerone_Data/Time_in_ScienceTools.html">Fermi-LAT time systems in a nutshell</a> page gives a good, brief explanation
of the differences between the relevant time scales <code class="docutils literal notranslate"><span class="pre">UT1</span></code>, <code class="docutils literal notranslate"><span class="pre">UTC</span></code> and <code class="docutils literal notranslate"><span class="pre">TT</span></code>.</p>
</div>
<div class="section" id="mission-elapsed-times-met">
<span id="met-definition"></span><h3>Mission elapsed times (MET)<a class="headerlink" href="#mission-elapsed-times-met" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../references.html#met" id="id1">[MET]</a> time references are times representing UTC seconds after a specific
origin. Each experiment may have a different MET origin that should be included
in the header of the corresponding data files. For more details see <a class="reference external" href="https://fermi.gsfc.nasa.gov/ssc/data/analysis/documentation/Cicerone/Cicerone_Data/Time_in_ScienceTools.html">Fermi-LAT
time systems in a nutshell</a>.</p>
<p>It’s not clear yet how to best implement METs in Gammapy, it’s one of the tasks
here: <a class="reference external" href="https://github.com/gammapy/gammapy/issues/284">https://github.com/gammapy/gammapy/issues/284</a></p>
<p>For now, we use the <a class="reference internal" href="../api/gammapy.utils.time.time_ref_from_dict.html#gammapy.utils.time.time_ref_from_dict" title="gammapy.utils.time.time_ref_from_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.utils.time.time_ref_from_dict</span></code></a>,
<a class="reference internal" href="../api/gammapy.utils.time.time_relative_to_ref.html#gammapy.utils.time.time_relative_to_ref" title="gammapy.utils.time.time_relative_to_ref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.utils.time.time_relative_to_ref</span></code></a> and <a class="reference internal" href="../api/gammapy.utils.time.absolute_time.html#gammapy.utils.time.absolute_time" title="gammapy.utils.time.absolute_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.utils.time.absolute_time</span></code></a> functions
to convert MET floats to <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code></a> objects via the reference times
stored in FITS headers.</p>
</div>
<div class="section" id="time-differences">
<h3>Time differences<a class="headerlink" href="#time-differences" title="Permalink to this headline">¶</a></h3>
<p>TODO: discuss when to use <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.time.TimeDelta.html#astropy.time.TimeDelta" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeDelta</span></code></a> or <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a>
or <a class="reference internal" href="../references.html#met" id="id2">[MET]</a> floats and where one needs to convert between those and what to watch
out for.</p>
</div>
</div>
<div class="section" id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-gammapy.utils.units">
<span id="gammapy-utils-units-module"></span><h3>gammapy.utils.units Module<a class="headerlink" href="#module-gammapy.utils.units" title="Permalink to this headline">¶</a></h3>
<p>Units and Quantity related helper functions</p>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.units.standardise_unit.html#gammapy.utils.units.standardise_unit" title="gammapy.utils.units.standardise_unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">standardise_unit</span></code></a>(unit)</td>
<td>Standardise unit.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.units.unit_from_fits_image_hdu.html#gammapy.utils.units.unit_from_fits_image_hdu" title="gammapy.utils.units.unit_from_fits_image_hdu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unit_from_fits_image_hdu</span></code></a>(header)</td>
<td>Read unit from a FITS image HDU.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.coordinates">
<span id="gammapy-utils-coordinates-package"></span><h3>gammapy.utils.coordinates Package<a class="headerlink" href="#module-gammapy.utils.coordinates" title="Permalink to this headline">¶</a></h3>
<p>Astronomical coordinate calculation utility functions.</p>
<div class="section" id="id3">
<h4>Functions<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.cartesian.html#gammapy.utils.coordinates.cartesian" title="gammapy.utils.coordinates.cartesian"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cartesian</span></code></a>(r,&nbsp;theta)</td>
<td>Convert polar coordinates to cartesian coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.fov_to_sky.html#gammapy.utils.coordinates.fov_to_sky" title="gammapy.utils.coordinates.fov_to_sky"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fov_to_sky</span></code></a>(lon,&nbsp;lat,&nbsp;lon_pnt,&nbsp;lat_pnt)</td>
<td>Transform field-of-view coordinates to sky coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.galactic.html#gammapy.utils.coordinates.galactic" title="gammapy.utils.coordinates.galactic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">galactic</span></code></a>(x,&nbsp;y,&nbsp;z[,&nbsp;obs_pos])</td>
<td>Compute galactic coordinates lon, lat (deg) and distance (kpc) for given position in cartesian coordinates (kpc).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.motion_since_birth.html#gammapy.utils.coordinates.motion_since_birth" title="gammapy.utils.coordinates.motion_since_birth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">motion_since_birth</span></code></a>(v,&nbsp;age,&nbsp;theta,&nbsp;phi)</td>
<td>Compute motion of a object with given velocity, direction and age.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.polar.html#gammapy.utils.coordinates.polar" title="gammapy.utils.coordinates.polar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">polar</span></code></a>(x,&nbsp;y)</td>
<td>Convert cartesian coordinates to polar coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.sky_to_fov.html#gammapy.utils.coordinates.sky_to_fov" title="gammapy.utils.coordinates.sky_to_fov"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sky_to_fov</span></code></a>(lon,&nbsp;lat,&nbsp;lon_pnt,&nbsp;lat_pnt)</td>
<td>Transform sky coordinates to field-of-view coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.velocity_glon_glat.html#gammapy.utils.coordinates.velocity_glon_glat" title="gammapy.utils.coordinates.velocity_glon_glat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_glon_glat</span></code></a>(x,&nbsp;y,&nbsp;z,&nbsp;vx,&nbsp;vy,&nbsp;vz)</td>
<td>Compute projected angular velocity in galactic coordinates.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="variables">
<h4>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.coordinates.D_SUN_TO_GALACTIC_CENTER.html#gammapy.utils.coordinates.D_SUN_TO_GALACTIC_CENTER" title="gammapy.utils.coordinates.D_SUN_TO_GALACTIC_CENTER"><code class="xref py py-obj docutils literal notranslate"><span class="pre">D_SUN_TO_GALACTIC_CENTER</span></code></a></td>
<td>A <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a> represents a number with some associated unit.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.interpolation">
<span id="gammapy-utils-interpolation-module"></span><h3>gammapy.utils.interpolation Module<a class="headerlink" href="#module-gammapy.utils.interpolation" title="Permalink to this headline">¶</a></h3>
<p>Interpolation utilities</p>
<div class="section" id="id4">
<h4>Functions<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.interpolation.interpolation_scale.html#gammapy.utils.interpolation.interpolation_scale" title="gammapy.utils.interpolation.interpolation_scale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolation_scale</span></code></a>([scale])</td>
<td>Interpolation scaling.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.interpolation.interpolate_likelihood_profile.html#gammapy.utils.interpolation.interpolate_likelihood_profile" title="gammapy.utils.interpolation.interpolate_likelihood_profile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate_likelihood_profile</span></code></a>(value_scan,&nbsp;…)</td>
<td>Helper function to interpolate likelihood profiles.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.interpolation.ScaledRegularGridInterpolator.html#gammapy.utils.interpolation.ScaledRegularGridInterpolator" title="gammapy.utils.interpolation.ScaledRegularGridInterpolator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ScaledRegularGridInterpolator</span></code></a>(points,&nbsp;values)</td>
<td>Thin wrapper around <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RegularGridInterpolator.html#scipy.interpolate.RegularGridInterpolator" title="(in SciPy v1.3.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.interpolate.RegularGridInterpolator</span></code></a>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.table">
<span id="gammapy-utils-table-module"></span><h3>gammapy.utils.table Module<a class="headerlink" href="#module-gammapy.utils.table" title="Permalink to this headline">¶</a></h3>
<p>Table helper utilities.</p>
<div class="section" id="id5">
<h4>Functions<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.table.table_standardise_units_copy.html#gammapy.utils.table.table_standardise_units_copy" title="gammapy.utils.table.table_standardise_units_copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_standardise_units_copy</span></code></a>(table)</td>
<td>Standardise units for all columns in a table in a copy.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.table.table_standardise_units_inplace.html#gammapy.utils.table.table_standardise_units_inplace" title="gammapy.utils.table.table_standardise_units_inplace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_standardise_units_inplace</span></code></a>(table)</td>
<td>Standardise units for all columns in a table in place.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.table.table_row_to_dict.html#gammapy.utils.table.table_row_to_dict" title="gammapy.utils.table.table_row_to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_row_to_dict</span></code></a>(row[,&nbsp;make_quantity])</td>
<td>Make one source data dict.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.table.table_from_row_data.html#gammapy.utils.table.table_from_row_data" title="gammapy.utils.table.table_from_row_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_from_row_data</span></code></a>(rows,&nbsp;\*\*kwargs)</td>
<td>Helper function to create table objects from row data.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.fits">
<span id="gammapy-utils-fits-module"></span><h3>gammapy.utils.fits Module<a class="headerlink" href="#module-gammapy.utils.fits" title="Permalink to this headline">¶</a></h3>
<div class="section" id="gammapy-fits-utilities">
<span id="utils-fits"></span><h4>Gammapy FITS utilities<a class="headerlink" href="#gammapy-fits-utilities" title="Permalink to this headline">¶</a></h4>
<div class="section" id="fits-tables">
<span id="utils-fits-tables"></span><h5>FITS tables<a class="headerlink" href="#fits-tables" title="Permalink to this headline">¶</a></h5>
<p>In Gammapy we use the nice <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a> class a lot to represent all
kinds of data (e.g. event lists, spectral points, light curves, source catalogs).
The most common format to store tables is FITS. In this section we show examples
and mention some limitations of Table FITS I/O.</p>
<p>Also, note that if you have the choice, you might want to use a better format
than FITS to store tables. All of these are nice and have very good support
in Astropy: <code class="docutils literal notranslate"><span class="pre">ECSV</span></code>, <code class="docutils literal notranslate"><span class="pre">HDF5</span></code>, <code class="docutils literal notranslate"><span class="pre">ASDF</span></code>.</p>
<p>In Astropy, there is the <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a> class with a nice data model
and API. Let’s make an example table object that has some metadata on the
table and columns of different types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.table</span> <span class="k">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Column</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Velocity&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;yy&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a     b    c</span>
<span class="go">        m</span>
<span class="go">int64 int64 str2</span>
<span class="go">----- ----- ----</span>
<span class="go">    1     1    x</span>
<span class="go">    2     2   yy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">name dtype unit description</span>
<span class="go">---- ----- ---- -----------</span>
<span class="go">   a int64</span>
<span class="go">   b int64    m    Velocity</span>
<span class="go">   c  str2</span>
</pre></div>
</div>
<p>Writing and reading the table to FITS is easy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;table.fits&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;table.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and works very nicely, column units and description round-trip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">  a      b      c</span>
<span class="go">         m</span>
<span class="go">int64 float64 bytes2</span>
<span class="go">----- ------- ------</span>
<span class="go">    1     1.0      x</span>
<span class="go">    2     2.0     yy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">name  dtype  unit description</span>
<span class="go">---- ------- ---- -----------</span>
<span class="go">   a   int64</span>
<span class="go">   b float64    m    Velocity</span>
<span class="go">   c  bytes2</span>
</pre></div>
</div>
<p>This is with Astropy 3.0. In older versions of Astropy this didn’t use
to work, namely column description was lost.</p>
<p>Looking at the FITS header and <code class="docutils literal notranslate"><span class="pre">table2.meta</span></code>, one can see that
they are cheating a bit, storing table meta in <code class="docutils literal notranslate"><span class="pre">COMMENT</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;table.fits&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header</span>
<span class="go">XTENSION= &#39;BINTABLE&#39;           / binary table extension</span>
<span class="go">BITPIX  =                    8 / array data type</span>
<span class="go">NAXIS   =                    2 / number of array dimensions</span>
<span class="go">NAXIS1  =                   18 / length of dimension 1</span>
<span class="go">NAXIS2  =                    2 / length of dimension 2</span>
<span class="go">PCOUNT  =                    0 / number of group parameters</span>
<span class="go">GCOUNT  =                    1 / number of groups</span>
<span class="go">TFIELDS =                    3 / number of table fields</span>
<span class="go">TTYPE1  = &#39;a       &#39;</span>
<span class="go">TFORM1  = &#39;K       &#39;</span>
<span class="go">TTYPE2  = &#39;b       &#39;</span>
<span class="go">TFORM2  = &#39;K       &#39;</span>
<span class="go">TUNIT2  = &#39;m       &#39;</span>
<span class="go">TTYPE3  = &#39;c       &#39;</span>
<span class="go">TFORM3  = &#39;2A      &#39;</span>
<span class="go">VERSION =                   42</span>
<span class="go">COMMENT --BEGIN-ASTROPY-SERIALIZED-COLUMNS--</span>
<span class="go">COMMENT datatype:</span>
<span class="go">COMMENT - {name: a, datatype: int64}</span>
<span class="go">COMMENT - {name: b, unit: m, datatype: int64, description: Velocity}</span>
<span class="go">COMMENT - {name: c, datatype: string}</span>
<span class="go">COMMENT meta:</span>
<span class="go">COMMENT   __serialized_columns__: {}</span>
<span class="go">COMMENT --END-ASTROPY-SERIALIZED-COLUMNS--</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span><span class="o">.</span><span class="n">meta</span>
<span class="go">OrderedDict([(&#39;VERSION&#39;, 42),</span>
<span class="go">             (&#39;comments&#39;,</span>
<span class="go">              [&#39;--BEGIN-ASTROPY-SERIALIZED-COLUMNS--&#39;,</span>
<span class="go">               &#39;datatype:&#39;,</span>
<span class="go">               &#39;- {name: a, datatype: int64}&#39;,</span>
<span class="go">               &#39;- {name: b, unit: m, datatype: int64, description: Velocity}&#39;,</span>
<span class="go">               &#39;- {name: c, datatype: string}&#39;,</span>
<span class="go">               &#39;meta:&#39;,</span>
<span class="go">               &#39;  __serialized_columns__: {}&#39;,</span>
<span class="go">               &#39;--END-ASTROPY-SERIALIZED-COLUMNS--&#39;])])</span>
</pre></div>
</div>
<p>TODO: we’ll have to see how to handle this, i.e. if we want that
behaviour or not, and how to get consistent output accross Astropy versions.
See <a class="reference external" href="https://github.com/astropy/astropy/issues/7364">https://github.com/astropy/astropy/issues/7364</a></p>
<p>Let’s make sure for the following examples we have a clean <code class="docutils literal notranslate"><span class="pre">table.meta</span></code>
like we did at the start:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to avoid writing to disk, the way to directly convert between
<a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a> is like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdu</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">BinTableHDU</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
<p>This calls <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.table_to_hdu" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.io.fits.table_to_hdu</span></code></a> in <code class="docutils literal notranslate"><span class="pre">BinTableHDU.__init__</span></code>,
i.e. if you don’t pass extra options, this is equivalent to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdu</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">table_to_hdu</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
<p>However, in this case, the column metadata that is serialized is
doesn’t include the column <code class="docutils literal notranslate"><span class="pre">description</span></code>.
TODO: how to get consistent behaviour and FITS headers?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hdu</span><span class="o">.</span><span class="n">header</span>
<span class="go">XTENSION= &#39;BINTABLE&#39;           / binary table extension</span>
<span class="go">BITPIX  =                    8 / array data type</span>
<span class="go">NAXIS   =                    2 / number of array dimensions</span>
<span class="go">NAXIS1  =                   18 / length of dimension 1</span>
<span class="go">NAXIS2  =                    2 / length of dimension 2</span>
<span class="go">PCOUNT  =                    0 / number of group parameters</span>
<span class="go">GCOUNT  =                    1 / number of groups</span>
<span class="go">TFIELDS =                    3 / number of table fields</span>
<span class="go">VERSION =                   42</span>
<span class="go">TTYPE1  = &#39;a       &#39;</span>
<span class="go">TFORM1  = &#39;K       &#39;</span>
<span class="go">TTYPE2  = &#39;b       &#39;</span>
<span class="go">TFORM2  = &#39;K       &#39;</span>
<span class="go">TUNIT2  = &#39;m       &#39;</span>
<span class="go">TTYPE3  = &#39;c       &#39;</span>
<span class="go">TFORM3  = &#39;2A      &#39;</span>
</pre></div>
</div>
<p>Somewhat surprisingly, <code class="docutils literal notranslate"><span class="pre">Table(hdu)</span></code> doesn’t work and there is no
<code class="docutils literal notranslate"><span class="pre">hdu_to_table</span></code> function; instead you have to call <code class="docutils literal notranslate"><span class="pre">Table.read</span></code>
if you want to convert in the other direction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">hdu</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">&lt;Table length=2&gt;</span>
<span class="go">name dtype unit</span>
<span class="go">---- ----- ----</span>
<span class="go">   a int64</span>
<span class="go">   b int64    m</span>
<span class="go">   c  str2</span>
</pre></div>
</div>
<p>Another trick worth knowing about is how to read and write multiple tables
to one FITS file. There is support in the <code class="docutils literal notranslate"><span class="pre">Table</span></code> API to read any HDU
from a FITS file with multiple HDUs via the <code class="docutils literal notranslate"><span class="pre">hdu</span></code> option to <code class="docutils literal notranslate"><span class="pre">Table.read</span></code>;
you can pass an integer HDU index or an HDU extension name string
(see <a class="reference external" href="http://docs.astropy.org/en/latest/io/unified.html#table-io-fits" title="(in Astropy v4.0.dev694)"><span>FITS</span></a>).</p>
<p>For writing (or if you prefer also for reading) multiple tables, you should
use the in-memory conversion to HDU objects and the <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a>
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hdu_list</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">HDUList</span><span class="p">([</span>
    <span class="n">fits</span><span class="o">.</span><span class="n">PrimaryHDU</span><span class="p">(),</span>
    <span class="n">fits</span><span class="o">.</span><span class="n">BinTableHDU</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">),</span>
    <span class="n">fits</span><span class="o">.</span><span class="n">BinTableHDU</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ham&#39;</span><span class="p">),</span>
<span class="p">])</span>
<span class="n">hdu_list</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="n">hdu_list</span><span class="o">.</span><span class="n">writeto</span><span class="p">(</span><span class="s1">&#39;tables.fits&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For further information on Astropy, see the Astropy docs at
<a class="reference external" href="http://docs.astropy.org/en/latest/table/index.html#astropy-table" title="(in Astropy v4.0.dev694)"><span>Data Tables (astropy.table)</span></a> and <a class="reference external" href="http://docs.astropy.org/en/latest/io/unified.html#table-io-fits" title="(in Astropy v4.0.dev694)"><span>FITS</span></a>.</p>
<p>We will have to see if / what we need here in <a class="reference internal" href="#module-gammapy.utils.fits" title="gammapy.utils.fits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.utils.fits</span></code></a>
as a stable and nice interface on top of what Astropy provides.</p>
</div>
</div>
<div class="section" id="id6">
<h4>Functions<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fits.energy_axis_to_ebounds.html#gammapy.utils.fits.energy_axis_to_ebounds" title="gammapy.utils.fits.energy_axis_to_ebounds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_axis_to_ebounds</span></code></a>(energy)</td>
<td>Convert <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a> to OGIP <code class="docutils literal notranslate"><span class="pre">EBOUNDS</span></code> extension.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fits.earth_location_from_dict.html#gammapy.utils.fits.earth_location_from_dict" title="gammapy.utils.fits.earth_location_from_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">earth_location_from_dict</span></code></a>(meta)</td>
<td>Create <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.EarthLocation.html#astropy.coordinates.EarthLocation" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EarthLocation</span></code></a> from FITS header dict.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h4>Classes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fits.SmartHDUList.html#gammapy.utils.fits.SmartHDUList" title="gammapy.utils.fits.SmartHDUList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SmartHDUList</span></code></a>(hdu_list)</td>
<td>A FITS HDU list wrapper with some sugar.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.random">
<span id="gammapy-utils-random-package"></span><h3>gammapy.utils.random Package<a class="headerlink" href="#module-gammapy.utils.random" title="Permalink to this headline">¶</a></h3>
<p>Utility functions / classes for working with distributions
(e.g. probability density functions)</p>
<div class="section" id="id8">
<h4>Functions<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.random.density.html#gammapy.utils.random.density" title="gammapy.utils.random.density"><code class="xref py py-obj docutils literal notranslate"><span class="pre">density</span></code></a>(func)</td>
<td>Radial surface density of a given one dimensional PDF.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.random.draw.html#gammapy.utils.random.draw" title="gammapy.utils.random.draw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">draw</span></code></a>(low,&nbsp;high,&nbsp;size,&nbsp;dist[,&nbsp;random_state])</td>
<td>Allows drawing of random numbers from any distribution.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.random.get_random_state.html#gammapy.utils.random.get_random_state" title="gammapy.utils.random.get_random_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_random_state</span></code></a>(init)</td>
<td>Get a <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.RandomState.html#numpy.random.RandomState" title="(in NumPy v1.16)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.RandomState</span></code></a> instance.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.random.normalize.html#gammapy.utils.random.normalize" title="gammapy.utils.random.normalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize</span></code></a>(func,&nbsp;x_min,&nbsp;x_max)</td>
<td>Normalize a 1D function over a given range.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.random.pdf.html#gammapy.utils.random.pdf" title="gammapy.utils.random.pdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pdf</span></code></a>(func)</td>
<td>One-dimensional PDF of a given radial surface density.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.random.sample_powerlaw.html#gammapy.utils.random.sample_powerlaw" title="gammapy.utils.random.sample_powerlaw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_powerlaw</span></code></a>(x_min,&nbsp;x_max,&nbsp;gamma[,&nbsp;size,&nbsp;…])</td>
<td>Sample random values from a power law distribution.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.random.sample_sphere.html#gammapy.utils.random.sample_sphere" title="gammapy.utils.random.sample_sphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_sphere</span></code></a>(size[,&nbsp;lon_range,&nbsp;lat_range,&nbsp;…])</td>
<td>Sample random points on the sphere.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.random.sample_sphere_distance.html#gammapy.utils.random.sample_sphere_distance" title="gammapy.utils.random.sample_sphere_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_sphere_distance</span></code></a>([distance_min,&nbsp;…])</td>
<td>Sample random distances if the 3-dim space density is constant.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h4>Classes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.random.InverseCDFSampler.html#gammapy.utils.random.InverseCDFSampler" title="gammapy.utils.random.InverseCDFSampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InverseCDFSampler</span></code></a>(pdf[,&nbsp;axis,&nbsp;random_state])</td>
<td>Inverse CDF sampler.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.random.MapEventSampler.html#gammapy.utils.random.MapEventSampler" title="gammapy.utils.random.MapEventSampler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapEventSampler</span></code></a>(npred_map,&nbsp;t_min,&nbsp;t_max[,&nbsp;…])</td>
<td>Map event sampler.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.regions">
<span id="gammapy-utils-regions-module"></span><h3>gammapy.utils.regions Module<a class="headerlink" href="#module-gammapy.utils.regions" title="Permalink to this headline">¶</a></h3>
<p>Regions helper functions.</p>
<p>Throughout Gammapy, we use <a class="reference external" href="https://astropy-regions.readthedocs.io/en/latest/api.html#module-regions" title="(in regions v0.5.dev470)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions</span></code></a> to represent and work with regions.</p>
<p><a class="reference external" href="https://astropy-regions.readthedocs.io">https://astropy-regions.readthedocs.io</a></p>
<p>The functions <code class="docutils literal notranslate"><span class="pre">make_region</span></code> and <code class="docutils literal notranslate"><span class="pre">make_pixel_region</span></code> should be used
throughout Gammapy in all functions that take <code class="docutils literal notranslate"><span class="pre">region</span></code> objects as input.
They do conversion to a standard form, and some validation.</p>
<p>We might add in other conveniences and features here, e.g. sky coord contains
without a WCS (see “sky and pixel regions” in PIG 10), or some HEALPix integration.</p>
<p>TODO: before Gammapy v1.0, discuss what to do about <code class="docutils literal notranslate"><span class="pre">gammapy.utils.regions</span></code>.
Options: keep as-is, hide from the docs, or to remove it completely
(if the functionality is available in <code class="docutils literal notranslate"><span class="pre">astropy-regions</span></code> directly.</p>
<div class="section" id="id10">
<h4>Functions<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.regions.make_region.html#gammapy.utils.regions.make_region" title="gammapy.utils.regions.make_region"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_region</span></code></a>(region)</td>
<td>Make region object (<a class="reference external" href="https://astropy-regions.readthedocs.io/en/latest/api/regions.Region.html#regions.Region" title="(in regions v0.5.dev470)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions.Region</span></code></a>).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.regions.make_pixel_region.html#gammapy.utils.regions.make_pixel_region" title="gammapy.utils.regions.make_pixel_region"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_pixel_region</span></code></a>(region[,&nbsp;wcs])</td>
<td>Make pixel region object (<a class="reference external" href="https://astropy-regions.readthedocs.io/en/latest/api/regions.PixelRegion.html#regions.PixelRegion" title="(in regions v0.5.dev470)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions.PixelRegion</span></code></a>).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.scripts">
<span id="gammapy-utils-scripts-module"></span><h3>gammapy.utils.scripts Module<a class="headerlink" href="#module-gammapy.utils.scripts" title="Permalink to this headline">¶</a></h3>
<p>Utils to create scripts and command-line tools</p>
<div class="section" id="id11">
<h4>Functions<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.scripts.read_yaml.html#gammapy.utils.scripts.read_yaml" title="gammapy.utils.scripts.read_yaml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_yaml</span></code></a>(filename[,&nbsp;logger])</td>
<td>Read YAML file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.scripts.write_yaml.html#gammapy.utils.scripts.write_yaml" title="gammapy.utils.scripts.write_yaml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_yaml</span></code></a>(dictionary,&nbsp;filename[,&nbsp;logger])</td>
<td>Write YAML file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.scripts.make_path.html#gammapy.utils.scripts.make_path" title="gammapy.utils.scripts.make_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_path</span></code></a>(path)</td>
<td>Expand environment variables on <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Path</span></code></a> construction.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.scripts.recursive_merge_dicts.html#gammapy.utils.scripts.recursive_merge_dicts" title="gammapy.utils.scripts.recursive_merge_dicts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recursive_merge_dicts</span></code></a>(a,&nbsp;b)</td>
<td>Recursively merge two dictionaries.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.testing">
<span id="gammapy-utils-testing-module"></span><h3>gammapy.utils.testing Module<a class="headerlink" href="#module-gammapy.utils.testing" title="Permalink to this headline">¶</a></h3>
<p>Utilities for testing</p>
<div class="section" id="id12">
<h4>Functions<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.testing.requires_dependency.html#gammapy.utils.testing.requires_dependency" title="gammapy.utils.testing.requires_dependency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">requires_dependency</span></code></a>(name)</td>
<td>Decorator to declare required dependencies for tests.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.testing.requires_data.html#gammapy.utils.testing.requires_data" title="gammapy.utils.testing.requires_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">requires_data</span></code></a>([name])</td>
<td>Decorator to declare required data for tests.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.testing.assert_quantity_allclose.html#gammapy.utils.testing.assert_quantity_allclose" title="gammapy.utils.testing.assert_quantity_allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_quantity_allclose</span></code></a>(actual,&nbsp;desired[,&nbsp;…])</td>
<td>Assert all-close for <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.units.Quantity</span></code></a> objects.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.testing.assert_wcs_allclose.html#gammapy.utils.testing.assert_wcs_allclose" title="gammapy.utils.testing.assert_wcs_allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_wcs_allclose</span></code></a>(wcs1,&nbsp;wcs2)</td>
<td>Assert all-close for <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.wcs.WCS.html#astropy.wcs.WCS" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.wcs.WCS</span></code></a> objects.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.testing.assert_skycoord_allclose.html#gammapy.utils.testing.assert_skycoord_allclose" title="gammapy.utils.testing.assert_skycoord_allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_skycoord_allclose</span></code></a>(actual,&nbsp;desired)</td>
<td>Assert all-close for <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates.SkyCoord</span></code></a> objects.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.testing.assert_time_allclose.html#gammapy.utils.testing.assert_time_allclose" title="gammapy.utils.testing.assert_time_allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assert_time_allclose</span></code></a>(actual,&nbsp;desired[,&nbsp;atol])</td>
<td>Assert all-close for <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v4.0.dev694)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.time.Time</span></code></a> objects.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id13">
<h4>Classes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.testing.Checker.html#gammapy.utils.testing.Checker" title="gammapy.utils.testing.Checker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Checker</span></code></a></td>
<td>Base class for checker classes in Gammapy.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.nddata">
<span id="gammapy-utils-nddata-module"></span><h3>gammapy.utils.nddata Module<a class="headerlink" href="#module-gammapy.utils.nddata" title="Permalink to this headline">¶</a></h3>
<p>Utility functions and classes for n-dimensional data and axes.</p>
<div class="section" id="id14">
<h4>Functions<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.nddata.sqrt_space.html#gammapy.utils.nddata.sqrt_space" title="gammapy.utils.nddata.sqrt_space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sqrt_space</span></code></a>(start,&nbsp;stop,&nbsp;num)</td>
<td>Return numbers spaced evenly on a square root scale.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id15">
<h4>Classes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.nddata.NDDataArray.html#gammapy.utils.nddata.NDDataArray" title="gammapy.utils.nddata.NDDataArray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NDDataArray</span></code></a>(axes[,&nbsp;data,&nbsp;meta,&nbsp;interp_kwargs])</td>
<td>ND Data Array Base class</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.time">
<span id="gammapy-utils-time-module"></span><h3>gammapy.utils.time Module<a class="headerlink" href="#module-gammapy.utils.time" title="Permalink to this headline">¶</a></h3>
<p>Time related utility functions.</p>
<div class="section" id="id16">
<h4>Functions<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.time.time_ref_from_dict.html#gammapy.utils.time.time_ref_from_dict" title="gammapy.utils.time.time_ref_from_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_ref_from_dict</span></code></a>(meta[,&nbsp;format,&nbsp;scale])</td>
<td>Calculate the time reference from metadata.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.time.time_ref_to_dict.html#gammapy.utils.time.time_ref_to_dict" title="gammapy.utils.time.time_ref_to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_ref_to_dict</span></code></a>(time[,&nbsp;scale])</td>
<td>TODO: document and test.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.time.time_relative_to_ref.html#gammapy.utils.time.time_relative_to_ref" title="gammapy.utils.time.time_relative_to_ref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_relative_to_ref</span></code></a>(time,&nbsp;meta)</td>
<td>Convert a time using an existing reference.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.time.absolute_time.html#gammapy.utils.time.absolute_time" title="gammapy.utils.time.absolute_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">absolute_time</span></code></a>(time_delta,&nbsp;meta)</td>
<td>Convert a MET into human readable date and time.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-gammapy.utils.fitting">
<span id="gammapy-utils-fitting-package"></span><h3>gammapy.utils.fitting Package<a class="headerlink" href="#module-gammapy.utils.fitting" title="Permalink to this headline">¶</a></h3>
<p>Fitting framework and backends.</p>
<div class="section" id="id17">
<h4>Functions<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.confidence_iminuit.html#gammapy.utils.fitting.confidence_iminuit" title="gammapy.utils.fitting.confidence_iminuit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">confidence_iminuit</span></code></a>(minuit,&nbsp;parameters,&nbsp;…)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.confidence_scipy.html#gammapy.utils.fitting.confidence_scipy" title="gammapy.utils.fitting.confidence_scipy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">confidence_scipy</span></code></a>(parameters,&nbsp;parameter,&nbsp;…)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.covariance_iminuit.html#gammapy.utils.fitting.covariance_iminuit" title="gammapy.utils.fitting.covariance_iminuit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">covariance_iminuit</span></code></a>(minuit)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.covariance_scipy.html#gammapy.utils.fitting.covariance_scipy" title="gammapy.utils.fitting.covariance_scipy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">covariance_scipy</span></code></a>(parameters,&nbsp;function)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.covariance_sherpa.html#gammapy.utils.fitting.covariance_sherpa" title="gammapy.utils.fitting.covariance_sherpa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">covariance_sherpa</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.likelihood_profile_ul_scipy.html#gammapy.utils.fitting.likelihood_profile_ul_scipy" title="gammapy.utils.fitting.likelihood_profile_ul_scipy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">likelihood_profile_ul_scipy</span></code></a>(value_scan,&nbsp;…)</td>
<td>Compute upper limit of a parameter from a likelihood profile.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.mncontour.html#gammapy.utils.fitting.mncontour" title="gammapy.utils.fitting.mncontour"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mncontour</span></code></a>(minuit,&nbsp;parameters,&nbsp;x,&nbsp;y,&nbsp;…)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.optimize_iminuit.html#gammapy.utils.fitting.optimize_iminuit" title="gammapy.utils.fitting.optimize_iminuit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize_iminuit</span></code></a>(parameters,&nbsp;function,&nbsp;…)</td>
<td>iminuit optimization</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.optimize_scipy.html#gammapy.utils.fitting.optimize_scipy" title="gammapy.utils.fitting.optimize_scipy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize_scipy</span></code></a>(parameters,&nbsp;function,&nbsp;\*\*kwargs)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.optimize_sherpa.html#gammapy.utils.fitting.optimize_sherpa" title="gammapy.utils.fitting.optimize_sherpa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize_sherpa</span></code></a>(parameters,&nbsp;function,&nbsp;\*\*kwargs)</td>
<td>Sherpa optimization wrapper method.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id18">
<h4>Classes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Dataset.html#gammapy.utils.fitting.Dataset" title="gammapy.utils.fitting.Dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dataset</span></code></a></td>
<td>Dataset abstract base class.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Datasets.html#gammapy.utils.fitting.Datasets" title="gammapy.utils.fitting.Datasets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Datasets</span></code></a>(datasets)</td>
<td>Join multiple datasets.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Fit.html#gammapy.utils.fitting.Fit" title="gammapy.utils.fitting.Fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Fit</span></code></a>(datasets)</td>
<td>Fit class.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Likelihood.html#gammapy.utils.fitting.Likelihood" title="gammapy.utils.fitting.Likelihood"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Likelihood</span></code></a>(function,&nbsp;parameters)</td>
<td>Wrapper of the likelihood function used by the optimiser.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Model.html#gammapy.utils.fitting.Model" title="gammapy.utils.fitting.Model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Model</span></code></a>([params])</td>
<td>Model base class.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Parameter.html#gammapy.utils.fitting.Parameter" title="gammapy.utils.fitting.Parameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parameter</span></code></a>(name,&nbsp;factor[,&nbsp;unit,&nbsp;scale,&nbsp;min,&nbsp;…])</td>
<td>A model parameter.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.utils.fitting.Parameters.html#gammapy.utils.fitting.Parameters" title="gammapy.utils.fitting.Parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parameters</span></code></a>([parameters,&nbsp;covariance,&nbsp;…])</td>
<td>List of <a class="reference internal" href="../api/gammapy.utils.fitting.Parameter.html#gammapy.utils.fitting.Parameter" title="gammapy.utils.fitting.Parameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Parameter</span></code></a>.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/gammapy.utils.units.standardise_unit.html" class="btn btn-neutral float-right" title="standardise_unit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../api/gammapy.stats.Stats.html" class="btn btn-neutral float-left" title="Stats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, The Gammapy developers
      <span class="lastupdated">
        Last updated on 26 Jul 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>