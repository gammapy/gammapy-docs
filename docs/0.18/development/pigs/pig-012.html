

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PIG 12 - High-level interface &mdash; gammapy v0.18</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gammapy.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/gammapy_logo.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.gammapy.org/dev/development/pigs/pig-012.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/gammapy.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PIG 13 - Gammapy dependencies and distribution" href="pig-013.html" />
    <link rel="prev" title="PIG 11 - Light curves" href="pig-011.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> gammapy
          

          
          </a>

          
            
            
              <div class="version">
                0.18
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#data-reduction">Data reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#datasets">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#modeling-and-fitting">Modeling and Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#time-analysis">Time analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#simulation">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#other-topics">Other topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#what-next">What next?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/DL3.html">The Data Level 3 (DL3) format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../overview/DL3.html#data-levels-in-cta">Data levels in CTA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../overview/DL3.html#application-in-gammapy">Application in gammapy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install/index.html#using-anaconda">Using Anaconda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install/index.html#using-other-package-managers">Using other package managers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install/index.html#download-tutorials">Download tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../install/index.html#what-next">What next?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install/dependencies.html">Gammapy Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../install/dependencies.html#required-dependencies">Required dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../install/dependencies.html#optional-dependencies">Optional dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../install/other.html">Other package managers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install/pip.html">Installation with pip</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started.html#help">Help!?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started.html#check-your-setup">Check your setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started.html#use-gammapy">Use Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started.html#id2">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started.html#id3">IPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started.html#python-script">Python script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started.html#jupyter-notebooks">Jupyter notebooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started.html#install-issues">Install issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#getting-started">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/analysis_1.html">First analysis with gammapy high level interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Analysis-configuration">Analysis configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Running-the-analysis">Running the analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Data-reduction">Data reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Save-dataset-to-disk">Save dataset to disk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#Model-fitting">Model fitting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_1.html#What’s-next">What’s next</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/analysis_2.html">First analysis with gammapy library API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Defining-the-datastore-and-selecting-observations">Defining the datastore and selecting observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Preparing-reduced-datasets-geometry">Preparing reduced datasets geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Data-reduction">Data reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Save-dataset-to-disk">Save dataset to disk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Define-the-model">Define the model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Fit-the-model">Fit the model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_2.html#Plot-the-fitted-spectrum">Plot the fitted spectrum</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#core-tutorials">Core tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/cta.html">CTA with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Tutorial-overview">Tutorial overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#CTA-1DC">CTA 1DC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#IRFs">IRFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Source-models">Source models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#CTA-performance-files">CTA performance files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta.html#Next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/hess.html">H.E.S.S. data with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/hess.html#DL3-DR1">DL3 DR1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/hess.html#Theta-squared-event-distribution">Theta squared event distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/hess.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/hess.html#Next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/fermi_lat.html">Fermi-LAT data with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Events">Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Counts">Counts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Exposure">Exposure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Galactic-diffuse-background">Galactic diffuse background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Isotropic-diffuse-background">Isotropic diffuse background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#PSF">PSF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Fit">Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/fermi_lat.html#Summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/cta_data_analysis.html">CTA data analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Select-observations">Select observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Make-sky-images">Make sky images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Source-Detection">Source Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Spatial-analysis">Spatial analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Spectrum">Spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_data_analysis.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/analysis_3d.html">3D analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Analysis-configuration">Analysis configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Configuration-for-stacked-and-joint-analysis">Configuration for stacked and joint analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Stacked-analysis">Stacked analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Joint-analysis">Joint analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_3d.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/simulate_3d.html">3D simulation and fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Imports-and-versions">Imports and versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Simulation">Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/simulate_3d.html#Fit">Fit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/spectrum_analysis.html">Spectral analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Load-Data">Load Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Define-Target-Region">Define Target Region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Create-exclusion-mask">Create exclusion mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Run-data-reduction-chain">Run data reduction chain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Plot-off-regions">Plot off regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Source-statistic">Source statistic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Fit-spectrum">Fit spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Fit-quality-and-model-residuals">Fit quality and model residuals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Compute-Flux-Points">Compute Flux Points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Stack-observations">Stack observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_analysis.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/sed_fitting.html">Flux point fitting in Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Load-spectral-points">Load spectral points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Power-Law-Fit">Power Law Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Exponential-Cut-Off-Powerlaw-Fit">Exponential Cut-Off Powerlaw Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Log-Parabola-Fit">Log-Parabola Fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/sed_fitting.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/light_curve.html">Light curve estimation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Analysis-configuration">Analysis configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Light-Curve-estimation:-by-observation">Light Curve estimation: by observation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Running-the-light-curve-extraction-in-1D">Running the light curve extraction in 1D</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#Night-wise-LC-estimation">Night-wise LC estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/light_curve_flare.html">Light curve - Flare</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Select-the-data">Select the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Define-time-intervals">Define time intervals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Filter-the-observations-list-in-time-intervals">Filter the observations list in time intervals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Building-1D-datasets-from-the-new-observations">Building 1D datasets from the new observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Define-the-Model">Define the Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_flare.html#Extract-the-light-curve">Extract the light curve</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/light_curve_simulation.html">Binned light curve simulation and fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#id1">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Simulating-a-light-curve">Simulating a light curve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Extract-the-lightcurve">Extract the lightcurve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Fit-the-datasets">Fit the datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/light_curve_simulation.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/spectrum_simulation.html">Spectrum simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Simulation-of-a-single-spectrum">Simulation of a single spectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/spectrum_simulation.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/modeling_2D.html">Modeling and fitting 2D images using Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Context:">Context:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Objective:">Objective:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Creating-the-config-file">Creating the config file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Getting-the-reduced-dataset">Getting the reduced dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Modelling">Modelling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ring_background.html">Ring Background Estimation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Context:">Context:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Objective:">Objective:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Creating-the-config-file">Creating the config file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Getting-the-reduced-dataset">Getting the reduced dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Extracting-the-ring-background">Extracting the ring background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Compute-correlated-significance-and-correlated-excess-maps">Compute correlated significance and correlated excess maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/event_sampling.html">Event Sampling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Objective">Objective</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Extended-source-using-a-template">Extended source using a template</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/event_sampling.html#Exercises">Exercises</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#advanced-tutorials">Advanced tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/analysis_mwl.html">Joint modeling, fitting, and serialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#The-setup">The setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Data-and-models-files">Data and models files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Reading-different-datasets">Reading different datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Datasets-serialization">Datasets serialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/analysis_mwl.html#Joint-analysis">Joint analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html">Spectral analysis of extended sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Select-the-data">Select the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Prepare-the-datasets-creation">Prepare the datasets creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Perform-the-data-reduction-loop.">Perform the data reduction loop.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Explore-the-results">Explore the results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/extended_source_spectral_analysis.html#Perform-spectral-model-fitting">Perform spectral model fitting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/detect.html">Source detection with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Read-in-input-images">Read in input images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Adaptive-smoothing">Adaptive smoothing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#TS-map-estimation">TS map estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#Source-candidates">Source candidates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/detect.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/cta_sensitivity.html">Estimation of the CTA point source sensitivity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Define-analysis-region-and-energy-binning">Define analysis region and energy binning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Load-IRFs-and-prepare-dataset">Load IRFs and prepare dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Compute-sensitivity">Compute sensitivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Results">Results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/cta_sensitivity.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/modeling_2D.html">Modeling and fitting 2D images using Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Prerequisites:">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Context:">Context:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Objective:">Objective:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Creating-the-config-file">Creating the config file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Getting-the-reduced-dataset">Getting the reduced dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling_2D.html#Modelling">Modelling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/ring_background.html">Ring Background Estimation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Context:">Context:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Objective:">Objective:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Proposed-approach:">Proposed approach:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Creating-the-config-file">Creating the config file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Getting-the-reduced-dataset">Getting the reduced dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Extracting-the-ring-background">Extracting the ring background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/ring_background.html#Compute-correlated-significance-and-correlated-excess-maps">Compute correlated significance and correlated excess maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/exclusion_mask.html">Creating exclusion masks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Create-the-mask-from-a-list-of-regions">Create the mask from a list of regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Create-the-mask-from-a-catalog-of-sources">Create the mask from a catalog of sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Create-the-mask-from-statistically-significant-pixels-in-a-dataset">Create the mask from statistically significant pixels in a dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/exclusion_mask.html#Reading-and-writing-exclusion-masks">Reading and writing exclusion masks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/overview.html">Getting started with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Maps">Maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Event-lists">Event lists</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Source-catalogs">Source catalogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#Spectral-models-and-flux-points">Spectral models and flux points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/overview.html#What-next?">What next?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/maps.html">Gammapy Maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Creating-WCS-Maps">Creating WCS Maps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Accessing-and-Modifying-Data">Accessing and Modifying Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Reading-and-Writing">Reading and Writing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Visualizing-and-Plotting">Visualizing and Plotting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/maps.html#Interpolating-and-Miscellaneous">Interpolating and Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/modeling.html">Modeling and fitting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#The-setup">The setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Model-and-dataset">Model and dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Fitting-options">Fitting options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Fit-quality-assessment">Fit quality assessment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Covariance-and-parameters-errors">Covariance and parameters errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/modeling.html#Confidence-contours">Confidence contours</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html">Gammapy Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Spectral-Models">Spectral Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Spatial-Models">Spatial Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#SkyModel">SkyModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Model-Lists-and-Serialisation">Model Lists and Serialisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Implementing-a-Custom-Model">Implementing a Custom Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/models.html#Models-with-Energy-dependent-morphology">Models with Energy dependent morphology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/catalog.html">Source catalogs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#List-available-catalogs">List available catalogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Load-catalogs">Load catalogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Select-a-source">Select a source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Pretty-print-source-information">Pretty-print source information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Source-models">Source models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Flux-points">Flux points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Lightcurves">Lightcurves</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Catalog-table-and-source-dictionary">Catalog table and source dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/catalog.html#Next-steps">Next steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#scripts">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/survey_map.html">Survey map</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html#extra-topics">Extra topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/astro_dark_matter.html">Dark matter utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#Profiles">Profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#J-Factors">J Factors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#Gamma-ray-spectra-at-production">Gamma-ray spectra at production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/astro_dark_matter.html#Flux-maps">Flux maps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/background_model.html">Make template background model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Proposed-approach">Proposed approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Select-off-data">Select off data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Background-model">Background model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Zenith-dependence">Zenith dependence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Index-tables">Index tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/background_model.html#Exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/mcmc_sampling.html">Fitting and error estimation with MCMC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Simulate-an-observation">Simulate an observation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Estimate-parameter-correlations-with-MCMC">Estimate parameter correlations with MCMC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Plot-the-results">Plot the results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Plot-the-model-dispersion">Plot the model dispersion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#Fun-Zone">Fun Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/mcmc_sampling.html#PeVatrons-in-CTA-?">PeVatrons in CTA ?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/pulsar_analysis.html">Pulsar analysis with Gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/pulsar_analysis.html#Introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/pulsar_analysis.html#Opening-the-data">Opening the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/pulsar_analysis.html#Phasogram">Phasogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/pulsar_analysis.html#Phase-resolved-map">Phase-resolved map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/pulsar_analysis.html#Phase-resolved-spectrum">Phase-resolved spectrum</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../howto.html">How To</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#access-iact-data">Access IACT data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#check-irfs">Check IRFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#use-gammapy-for-modeling-2d-images">Use gammapy for modeling 2D images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#extract-1d-spectra">Extract 1D spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#extract-a-lightcurve">Extract a lightcurve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#compute-source-significance">Compute source significance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#compute-cumulative-significance">Compute cumulative significance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#detect-sources-in-a-map">Detect sources in a map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#astrophysical-source-modeling">Astrophysical source modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#implement-a-custom-model">Implement a custom model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../howto.html#energy-dependent-spatial-models">Energy Dependent Spatial Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">Glossary and references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../references.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../references.html#publications">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../references.html#other-gamma-ray-packages">Other gamma-ray packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../references.html#other-useful-packages">Other useful packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#nov-4th-2020">0.18 (Nov 4th, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#apr-1-2020">0.17 (Apr 1, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id2">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#feb-1-2020">0.16 (Feb 1, 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id3">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id4">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#dec-3-2019">0.15 (Dec 3, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id5">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id6">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#sep-30-2019">0.14 (Sep 30, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id7">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id8">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#jul-26-2019">0.13 (Jul 26, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id9">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id10">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#may-30-2019">0.12 (May 30, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id11">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id12">Pull Requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#mar-29-2019">0.11 (Mar 29, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id13">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id14">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#jan-28-2019">0.10 (Jan 28, 2019)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id15">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id16">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#nov-29-2018">0.9 (Nov 29, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id17">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id18">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#sep-23-2018">0.8 (Sep 23, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id19">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id20">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#feb-28-2018">0.7 (Feb 28, 2018)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id21">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id22">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#apr-28-2017">0.6 (Apr 28, 2017)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id23">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id24">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#nov-22-2016">0.5 (Nov 22, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id25">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id26">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#apr-20-2016">0.4 (Apr 20, 2016)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id27">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id28">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#aug-13-2015">0.3 (Aug 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id29">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id30">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#apr-13-2015">0.2 (Apr 13, 2015)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id31">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id32">Pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#aug-25-2014">0.1 (Aug 25, 2014)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id33">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id34">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Gammapy Package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../analysis/index.html">analysis - High-level interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../analysis/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analysis/index.html#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analysis/index.html#configuration-and-methods">Configuration and methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#general-settings">General settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#observations-selection">Observations selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#data-reduction-and-datasets">Data reduction and datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#fitting">Fitting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#flux-points">Flux points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#residuals">Residuals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#using-the-high-level-interface">Using the high-level interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../analysis/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../analysis/index.html#module-gammapy.analysis">gammapy.analysis Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../analysis/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">data - DL3 data access and observations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/index.html#using-gammapy-data">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data/index.html#module-gammapy.data">gammapy.data Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../data/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../makers/index.html">makers - Data reduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#safe-data-range-handling">Safe Data Range Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#stacking-of-datasets">Stacking of Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#combining-data-reduction-steps">Combining Data Reduction Steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../makers/reflected.html">Reflected regions background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../makers/reflected.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../makers/reflected.html#using-regions">Using regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../makers/reflected.html#the-reflected-region-finder">The reflected region finder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../makers/reflected.html#using-the-reflected-background-estimator">Using the reflected background estimator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../makers/ring.html">Ring background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../makers/ring.html#overview">Overview</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#using-gammapy-makers">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.makers</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../makers/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../makers/index.html#module-gammapy.makers">gammapy.makers Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../makers/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../makers/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../datasets/index.html">datasets - Reduced datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../datasets/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datasets/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../datasets/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../datasets/index.html#module-gammapy.datasets">gammapy.datasets Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../datasets/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../datasets/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modeling/index.html">modeling - Models and fitting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modeling/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling/index.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modeling/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modeling/index.html#module-gammapy.modeling">gammapy.modeling Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modeling/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modeling/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../modeling/index.html#module-gammapy.modeling.models">gammapy.modeling.models Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../modeling/index.html#id1">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modeling/index.html#id2">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../modeling/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../estimators/index.html">estimators - High level estimators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../estimators/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../estimators/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../estimators/detect.html">Flux and significance maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/detect.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/detect.html#computation-of-ts-images">Computation of TS images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/detect.html#computation-of-significance-images-a-la-li-ma">Computation of significance images a la Li &amp; Ma</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/detect.html#using-gammapy-estimators">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.estimators</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../estimators/lightcurve.html">Lightcurves</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/lightcurve.html#id1">Lightcurve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/lightcurve.html#light-curve-extraction">Light Curve Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/lightcurve.html#tutorials">Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../estimators/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../estimators/index.html#module-gammapy.estimators">gammapy.estimators Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../estimators/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../irf/index.html">irf - Instrument response functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../irf/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../irf/index.html#irf-axis-naming">IRF Axis naming</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../irf/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../irf/index.html#using-gammapy-irf">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.irf</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../irf/theory.html">IRF Theory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/theory.html#modeling-the-expected-number-of-detected-events">Modeling the expected number of detected events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/theory.html#the-instrument-response-functions">The Instrument Response Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../irf/aeff.html">Effective area</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/aeff.html#as-a-function-of-true-energy-and-offset-angle-gadf-aeff-2d">as a function of true energy and offset angle (<span class="xref std std-ref">gadf:aeff_2d</span>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/aeff.html#as-a-function-of-true-energy-gadf-ogip-arf">as a function of true energy (<span class="xref std std-ref">gadf:ogip-arf</span>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../irf/edisp.html">Energy Dispersion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/edisp.html#as-a-function-of-of-true-energy-and-offset-angle-gadf-edisp-2d">as a function of of true energy and offset angle (<span class="xref std std-ref">gadf:edisp_2d</span>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/edisp.html#as-a-function-of-true-energy-gadf-ogip-rmf">as a function of true energy (<span class="xref std std-ref">gadf:ogip-rmf</span>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../irf/psf.html">Point Spread Function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/psf.html#as-a-function-of-of-true-energy-and-offset-angle-gadf-psf-table">as a function of of true energy and offset angle (<span class="xref std std-ref">gadf:psf_table</span>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/psf.html#as-a-function-of-true-energy-gadf-psf-gtpsf">as a function of true energy (<span class="xref std std-ref">gadf:psf_gtpsf</span>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/psf.html#additional-psf-classes">additional PSF classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../irf/bkg.html">Background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/bkg.html#as-a-function-of-reconstructed-energy-and-detector-coordinates-gadf-bkg-3d">as a function of reconstructed energy and detector coordinates (<span class="xref std std-ref">gadf:bkg_3d</span>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/bkg.html#as-a-function-of-reconstructed-energy-and-offset-angle-radially-symmetric-gadf-bkg-2d">as a function of reconstructed energy and offset angle, radially symmetric (<span class="xref std std-ref">gadf:bkg_2d</span>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../irf/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../irf/index.html#module-gammapy.irf">gammapy.irf Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../irf/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../irf/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../maps/index.html">maps - Sky maps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../maps/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maps/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#constructing-with-factory-methods">Constructing with Factory Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#indexing-and-slicing">Indexing and Slicing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#accessor-methods">Accessor Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#interface-with-mapcoord-and-skycoord">Interface with <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#differential-and-integral-maps">Differential and integral maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#mapcoord">MapCoord</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#interpolation">Interpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#iterating-by-image">Iterating by image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#fits-i-o">FITS I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../maps/index.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#creating-counts-cubes-from-event-lists">Creating counts cubes from event lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#generating-a-cutout-of-a-model-cube">Generating a Cutout of a Model Cube</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../maps/index.html#using-gammapy-maps">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.maps</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../maps/hpxmap.html">HEALPix-based Maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../maps/hpxmap.html#healpix-geometry">HEALPix Geometry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../maps/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../maps/index.html#module-gammapy.maps">gammapy.maps Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../maps/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../catalog/index.html">catalog - Source catalogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../catalog/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../catalog/index.html#tutorials">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../catalog/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../catalog/index.html#module-gammapy.catalog">gammapy.catalog Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../catalog/index.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../catalog/index.html#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../astro/index.html">astro - Astrophysics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../astro/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../astro/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../astro/index.html#sub-packages">Sub-packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../astro/source/index.html">Astrophysical source models (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.source</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../astro/source/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/source/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/source/index.html#using-gammapy-astro-source">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.source</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/source/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../astro/population/index.html">Astrophysical source population models (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.population</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../astro/population/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/population/index.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/population/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../astro/darkmatter/index.html">Dark matter (<code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.darkmatter</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../astro/darkmatter/index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/darkmatter/index.html#other-packages">Other packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/darkmatter/index.html#using-gammapy-astro-darkmatter">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.astro.darkmatter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../astro/darkmatter/index.html#reference-api">Reference/API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts/index.html">scripts - Command line tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../scripts/index.html#execute">Execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../scripts/index.html#running-config-driven-data-reduction">Running config driven data reduction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/index.html#write-your-own-cli">Write your own CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/index.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../scripts/index.html#command-not-found">Command not found</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts/index.html#reference">Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../scripts/index.html#gammapy">gammapy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../scripts/index.html#gammapy-analysis">analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../scripts/index.html#gammapy-check">check</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../scripts/index.html#gammapy-download">download</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../scripts/index.html#gammapy-info">info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../scripts/index.html#gammapy-jupyter">jupyter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../stats/index.html">stats - Statistics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stats/index.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#notations">Notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#counts-and-fit-statistics">Counts and fit statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#estimating-ts">Estimating TS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../stats/index.html#counts-statistics-classes">Counts statistics classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#cash-counts-statistic">Cash counts statistic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#excess-and-significance">Excess and Significance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#excess-errors">Excess errors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#wstat-counts-statistic">WStat counts statistic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#id2">Excess and Significance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#id4">Excess errors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../stats/index.html#using-gammapy-stats">Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stats/fit_statistics.html">Fit statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../stats/fit_statistics.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/fit_statistics.html#cash-poisson-data-with-background-model">Cash : Poisson data with background model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/fit_statistics.html#wstat-poisson-data-with-background-measurement">WStat : Poisson data with background measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/fit_statistics.html#further-references">Further references</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../stats/wstat_derivation.html">Derivation of the WStat formula</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../stats/wstat_derivation.html#profile-likelihood">Profile Likelihood</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/wstat_derivation.html#goodness-of-fit">Goodness of fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/wstat_derivation.html#final-result">Final result</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/wstat_derivation.html#special-cases">Special cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../stats/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stats/index.html#module-gammapy.stats">gammapy.stats Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../stats/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization/index.html">visualization - Plotting and Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../visualization/index.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../visualization/index.html#colormaps">Colormaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../visualization/index.html#survey-panel-plots">Survey Panel Plots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../visualization/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../visualization/index.html#module-gammapy.visualization">gammapy.visualization Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../visualization/index.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../visualization/index.html#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/index.html">utils - Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../utils/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../utils/index.html#time-handling-in-gammapy">Time handling in Gammapy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#time-format-and-scale">Time format and scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#mission-elapsed-times-met">Mission elapsed times (MET)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#time-differences">Time differences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../utils/index.html#reference-api">Reference/API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.units">gammapy.utils.units Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.coordinates">gammapy.utils.coordinates Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id1">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.integrate">gammapy.utils.integrate Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id2">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.interpolation">gammapy.utils.interpolation Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id3">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.table">gammapy.utils.table Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id4">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.fits">gammapy.utils.fits Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id5">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id6">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.random">gammapy.utils.random Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id7">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id8">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.regions">gammapy.utils.regions Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id9">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.scripts">gammapy.utils.scripts Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id10">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.testing">gammapy.utils.testing Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id11">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id12">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.nddata">gammapy.utils.nddata Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id13">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utils/index.html#module-gammapy.utils.time">gammapy.utils.time Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../utils/index.html#id14">Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro.html">How to contribute to Gammapy?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Gammapy project setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto.html">Developer HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release.html">How to make a Gammapy release</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">PIGs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pig-001.html">PIG 1 - PIG purpose and guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-002.html">PIG 2 - Organization of low-level analysis code</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-003.html">PIG 3 - Plan for dropping Python 2.7 support</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-004.html">PIG 4 - Setup for tutorial notebooks and data</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-005.html">PIG 5 - Gammapy 1.0 Roadmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-006.html">PIG 6 - CTA observation handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-007.html">PIG 7 - Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-008.html">PIG 8 - Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-009.html">PIG 9 - Event Sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-010.html">PIG 10 - Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-011.html">PIG 11 - Light curves</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">PIG 12 - High-level interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-013.html">PIG 13 - Gammapy dependencies and distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-014.html">PIG 14 - Uncertainty estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-016.html">PIG 16 - Gammapy package structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-018.html">PIG 18 - Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-019.html">PIG 19 - Gammapy package structure follow up</a></li>
<li class="toctree-l3"><a class="reference internal" href="pig-021.html">PIG 21 - Models Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dataformats.html">Data Formats</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">gammapy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Developer documentation</a> &raquo;</li>
        
          <li><a href="index.html">PIGs</a> &raquo;</li>
        
      <li>PIG 12 - High-level interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/development/pigs/pig-012.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="pig-12-high-level-interface">
<span id="pig-012"></span><h1>PIG 12 - High-level interface<a class="headerlink" href="#pig-12-high-level-interface" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Author: José Enrique Ruiz, Christoph Deil, Axel Donath, Regis Terrier, Lars Mohrmann</p></li>
<li><p>Created: Jun 6, 2019</p></li>
<li><p>Accepted: Aug 19, 2019</p></li>
<li><p>Status: accepted</p></li>
<li><p>Discussion: <a class="reference external" href="https://github.com/gammapy/gammapy/pull/2219">GH 2219</a></p></li>
</ul>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>The high-level interface is one of the projects considered in the Gammapy
roadmap for Gammapy v1.0 (see <a class="reference internal" href="pig-003.html#pig-003"><span class="std std-ref">PIG 3 - Plan for dropping Python 2.7 support</span></a>). It should be easy to use and
allow users to do the most common analysis tasks and workflows quickly. It would
be built on top of the existing Gammapy code-base, first on it’s own, but likely
starting to develop it would inform improvements in code organisation throughout
Gammapy.</p>
<p>Achieving a stable high-level interface should allow us to continue improving
the Gammapy code-base without breaking user-defined workflows or recipes made
that would have been made with this high-level interface.</p>
<p>We propose to develop a high-level interface Python API, similar to Fermipy or
HAP in HESS, based on a single <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> class communicating with a set of
tool classes, and that supports config-file driven analysis of the main IACT
source analysis use cases.</p>
</div>
<div class="section" id="what-we-have">
<h2>What we have<a class="headerlink" href="#what-we-have" title="Permalink to this headline">¶</a></h2>
<p>We have been using <a class="reference external" href="http://click.pocoo.org/">Click</a> to develop a very small set of tools for an
embryonic <a class="reference external" href="https://docs.gammapy.org/0.12/scripts/index.html">Gammapy command line interface</a>. Among the existing tools (<code class="docutils literal notranslate"><span class="pre">gammapy</span>
<span class="pre">image</span></code>, <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">download</span></code>, <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">jupyter</span></code>), only
<a class="reference external" href="https://docs.gammapy.org/0.12/scripts/index.html#example">gammapy image</a> can be considered as potentially needed in a data analysis
process. It actually creates a counts image from an event-list file and an image
that serves as a reference geometry. Hence, we have a code set-up in
<code class="docutils literal notranslate"><span class="pre">gammapy.scripts</span></code>, that we will not use it for the moment to expose the
high-level interface API, but to develop a very small set of specific command
line tools identified (i.e. perform long-time processing tasks, see <em>Command
line tools</em> section below)</p>
<p>We have a set of <a class="reference external" href="https://docs.gammapy.org/0.12/tutorials.html">Jupyter notebooks</a> as examples of tutorials and recipes
demonstrating the use of Gammapy. These notebooks are continuously tested and
are one of the pillars of the user documentation. We could check most of the use
cases are covered by the high-level interface with the help of these notebooks.
We will have to translate most of them to use the high-level interface, but we
could also use them as a basis for experimental automated workflows driven by
parametrized notebooks executed with  <a class="reference external" href="https://github.com/nteract/papermill/">papermill</a>. (see <em>Outlook</em> section
below) Moreover, some Python scripts have been added recently to perform
<a class="reference external" href="https://github.com/gammapy/gammapy-benchmarks">benchmarks</a> of Gammapy, surely we could rewrite some of all of these
benchmarks to use the high-level interface.</p>
<p>We also have some <em>high-level analysis</em> classes in the API that concatenate
several atomic actions and provide rough estimated results for more complex
processes. (i.e. <a class="reference external" href="https://docs.gammapy.org/0.12/api/gammapy.scripts.SpectrumAnalysisIACT.html">SpectrumAnalysisIACT</a>, <a class="reference external" href="https://docs.gammapy.org/0.12/api/gammapy.time.LightCurveEstimator.html">LightCurveEstimator</a>) These classes
would serve as a basis to design and prototype some of the tools of the
high-level interface.</p>
</div>
<div class="section" id="proposal">
<h2>Proposal<a class="headerlink" href="#proposal" title="Permalink to this headline">¶</a></h2>
<p>We will develop a high-level interface Python API which uses a params-values
configuration file defined by the user. This API would be used in Python
scripts, notebooks or in IPython sessions to perform simple and most common IACT
analysis.</p>
<p>We see then two main options on how to use the High Level Interface API:</p>
<ul class="simple">
<li><p>Within an IPython session or notebook, mostly dealing with a manager object to perform specific tasks in an <strong>interactive</strong> analysis process</p></li>
<li><p>In a Python script or notebook, declaring the orchestration of the tasks with a manager object for an <strong>automatized</strong> process</p></li>
</ul>
<p>This high-level interface API is similar to what it is done in <a class="reference external" href="https://github.com/fermiPy/fermipy">Fermipy</a> or HAP
in HESS, including also the options to save and recover session states, as well
as serialization of intermediate data products and logging. It is flexible
enough to allow the user to work with the API at any stage of the analysis
process, and not only from the start to the very end or in automatized process.</p>
<p><strong>Use cases</strong></p>
<p>The use cases covered are in the scope of a single analysis and model, not
parametrized variations in a multidimensional grid space of variables, and
within a single region (e.g. 10 deg region with 5 sources).</p>
<p>The main use cases for analysis to be covered are:</p>
<ul class="simple">
<li><p>3D map analysis</p></li>
<li><p>2D map analysis</p></li>
<li><p>1D spectrum analysis</p></li>
<li><p>Light curve estimation</p></li>
</ul>
<p>Including the main methods for data reduction, modeling and fitting:</p>
<ul class="simple">
<li><p>On vs on/off data reduction</p></li>
<li><p>Different background models</p></li>
<li><p>Joint vs stacked likelihood fitting</p></li>
<li><p>Diagnostics (residuals, significance, TS)</p></li>
<li><p>Spectral flux points</p></li>
</ul>
<p>Making a SED may be the final part of the analysis, as many SED methods require
the full model and all energy data.</p>
<p><strong>Configuration file</strong></p>
<p>The configuration file will be in YAML format exposing the parameters and values
needed for each one of the tasks involved in the analysis process. To generate
the config file, we could add a <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">config</span></code> command line tool
which dumps the config file with all lines commented out, and the users can then
uncomment and fill in the parameters and values they care about. As an
alternative users could copy &amp; paste from a config file example in the docs. We
will develop a schema and validate / give good error messages on read.</p>
<p>We roughly sketch below an example of a prototype configuration file in YAML
format, just to illustrate how a structured schema could expose most of the
parameter/values needed in a data analysis process. The configuration file
should be explicit enough for the users to understand which parameters to edit
in order to define a specific configuration for an analysis session or workflow,
and should use units for quantities where it makes sense, e.g. “angle: 3 deg”
instead of “angle: 3”. The final schema for this configuration file will be
achieved iteratively during the development of the high-level interface and
later on eventual improvements, also taking user feedback into account.</p>
<p>Prototype configuration file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>analysis:
    process:
        # add options to allow either in-memory or disk-based processing
        out_folder: &quot;.&quot;  # default is current working directory
        store_per_obs: {true, false}
    reduce:
        type: {&quot;1D, &quot;3D&quot;}
        stacked: {true, false}
        background: {&quot;irf&quot;, &quot;reflected&quot;, &quot;ring&quot;}
        roi: max_offset
        exclusion: exclusion.fits
    fit:
        energy_min, energy_max
    logging:
        level: debug

grid:
    spatial: center, width, binsz
    energy: min, max, nbins
    time: min, max
    # PSF RAD and EDISP MIGRA not exposed for now
    # Per-obs energy_safe and roi_max ?

observations:
    data_store: $GAMMAPY_DATA/cta-1dc/index/gps/
    ids: 110380, 111140, 111159
    conesearch:
        ra:
        dec:
        radius:
        energy_min:
        energy_max:
        time_min:
        time_max:

model:
    # Model configuration will mostly be designed in different PIG
    sources:
        source_1:
            spectrum: powerlaw
            spatial: shell
        diffuse: gal_diffuse.fits
    background:
        IRF
</pre></div>
</div>
<p><strong>API design</strong></p>
<p>The design of the high-level interface API is driven by the use cases
considered, the different tools (tasks) identified and their responsibilities,
as well as the need of a main <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> session object that drives and
orchestrates internally the different tools involved, their inputs and products.
The <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> session object will be initialized with a configuration file
(see <em>prototype configuration file</em> above) and will be the responsible to
instantiate and run the different tools classes (see <em>session workflow</em> below).
The tools are middle  management agents (e.g. MapMaker, ReflectedBgEstimator,
…) responsible to perform the different tasks identified in the use cases
covered.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> session object will provide access to every object involved and
data structure produced during the session. <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> methods calls will
produce and modify datasets (i.e. models, maps,..), but in between method calls
advanced users can do a lot of custom processing by their own with scripting
using the Gammapy Python toolbox.</p>
<p>The code of the <code class="docutils literal notranslate"><span class="pre">Analysis</span></code> class as well as any other eventual class needed
will be placed in <code class="docutils literal notranslate"><span class="pre">gammapy.scripts</span></code>. This module will contain also the set of
different command line tools provided, where some small cleaning and refactoring
may be needed (i.e. remove <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">image</span></code> command line tool)</p>
<p><strong>Serialisation</strong></p>
<p>There will be the possibility to save and recover session states with their
associated data products. The user could also choose in the configuration file,
with the help of a boolean parameter, to work with serialised intermediate
products delivered by the tools instead of in memory. The state serialisation
will be a mix of YAML (i.e. models, state) and FITS files (i.e. maps), where the
delegated tools should know how to serialise and read themselves. The solution
to address serialization of different datasets by the different tools is not in
the scope of this PIG.</p>
<p><strong>Session workflow</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir analysis
$ cd analysis
$ edit gammapy_analysis_config.yaml
</pre></div>
</div>
<p>Then the user would type <code class="docutils literal notranslate"><span class="pre">ipython</span></code>, <code class="docutils literal notranslate"><span class="pre">juypter</span> <span class="pre">notebook</span></code> or write a script
with the code below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gammapy.analysis</span> <span class="kn">import</span> <span class="n">Analysis</span>

<span class="n">analysis</span> <span class="o">=</span> <span class="n">Analysis</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="n">analysis</span><span class="o">.</span><span class="n">select_observations</span><span class="p">()</span>
<span class="c1"># Select observations using the parameters defined in the configuration file.</span>

<span class="n">analysis</span><span class="o">.</span><span class="n">reduce_data</span><span class="p">()</span>  <span class="c1"># often slow, can be hours</span>
<span class="c1"># If the user wants they can save all results from data reduction and re-start later.</span>
<span class="c1"># This stores config, datasets, ... all the analysis class state.</span>
<span class="c1"># analysis.write()</span>
<span class="c1"># analysis = Analysis.read()</span>

<span class="n">analysis</span><span class="o">.</span><span class="n">optimise</span><span class="p">()</span>  <span class="c1"># often slow, can be hours</span>
<span class="c1"># Again, we could write and read, do the slow things only once.</span>
<span class="c1"># e.g. supervisor comes in and asks about significance of some model component or whatever.</span>
<span class="c1"># analysis.write()</span>
<span class="c1"># analysis = Analysis.read()</span>

<span class="c1"># Since anything is accessible from the Analysis object</span>
<span class="c1"># many advanced use cases can be done with the Analysis API.</span>
<span class="n">analysis</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s2">&quot;source_42&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">spectrum</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Should we need energy_binning for the SED points in config or only here?</span>
<span class="n">sed</span> <span class="o">=</span> <span class="n">analysis</span><span class="o">.</span><span class="n">spectral_points</span><span class="p">(</span><span class="s2">&quot;source_42&quot;</span><span class="p">,</span> <span class="n">energy_binning</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Command line tools</strong></p>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">config</span></code>, we will have a <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span>
<span class="pre">data_reduction</span></code> and a <code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">optimise</span></code> which perform the long
processing tasks from the terminal outside an ipython session or jupyter
notebook, using all the information from the config file and/or saved state.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">config</span></code>: dumps a template configuration file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">data_reduction</span></code>: performs a data reduction process</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gammapy</span> <span class="pre">analysis</span> <span class="pre">optimise</span></code>: performs a model fitting process</p></li>
</ul>
</div>
<div class="section" id="outlook">
<h2>Outlook<a class="headerlink" href="#outlook" title="Permalink to this headline">¶</a></h2>
<p>Some of the use cases not covered by this high-level interface API are the
following:</p>
<ul class="simple">
<li><p>Generation of simulated events and/or counts</p></li>
<li><p>Iterative source detection methods</p></li>
<li><p>Complex or memory eager processing on lightcurves</p></li>
</ul>
<p>These use cases can be actually addressed using Gammapy as a Python toolbox,
though in the near future some of them could be incorporated progressively to
the high-level interface. For example, making a lightcurve could be part of one
Analysis (like it is in Fermi), or could be done at higher-level, creating
Analysis instances and running them for each time bin. This exercise of pro/con
is left to the <a class="reference internal" href="pig-006.html#pig-006"><span class="std std-ref">PIG 6 - CTA observation handling</span></a>. We could expect that restructuring all of Gammapy
to be tools based with good tool chains and config handling will be eventually
achieved after a certain time if we define a solid high-level interface API.</p>
<p>We could explore the use of <a class="reference external" href="https://github.com/nteract/papermill/">papermill</a> to run workflows defined in a notebook
using the values of the parameter-value configuration file defined for the
high-level interface API. The notebooks could be provided as skeleton-templates
for specific use cases or built by the user. This option would provide a
rich-text formatted report of the analysis process execution.</p>
<p>One extra dimension that arises from the development of this high-level
interface API is the possibility to capture data provenance as structured logs
of tasks executions in a session or in an automated workflow. Capturing
provenance in this way is more useful if we also provide the means for it to be
easily queried and inspected in multiple ways, allowing also forensic studies of
the research analysis process as well as improving reproducibility and reuse by
the community. This work will be the scope of another PIG.</p>
</div>
<div class="section" id="alternatives">
<h2>Alternatives<a class="headerlink" href="#alternatives" title="Permalink to this headline">¶</a></h2>
<p>A different approach to this high-level interface API is that of command line
tools executed from the terminal, what  <a class="reference external" href="https://fermi.gsfc.nasa.gov/ssc/data/analysis/scitools/overview.html">Fermitools</a> and <a class="reference external" href="http://cta.irap.omp.eu/ctools">ctools</a> do, where
each tool is simple/atomic enough to allow users to inspect the output results
before taking a decision on how to run and set the parameter values for the next
tool. A similar approach could be done with the Gammapy high-level interface
API, but inside a notebook or IPython session.</p>
<p>Concerning the code implementation, <a class="reference external" href="https://cta-observatory.github.io/ctapipe/ctapipe_api/tools/index.html">ctapipe tools</a> provides a solution based
on Python traitlets, acting as an extensible framework to easily transform
Python classes into command line tools. We will explore the adoption of this
approach after Gammapy v1.0 since it requires a considerable effort on
refactoring of the Gammapy code-base.</p>
<p>Another config-file based solution is what is implemented in <a class="reference external" href="https://enrico.readthedocs.io/en/latest/configfile.html">Enrico</a>. It
performs basic orchestrated analysis workflows using a set of input parameters
that the user provides via a configuration file. The user may be guided in the
declaration of values for the config file using an assistant command line tool
for config-file building, which asks for parameter values providing also
defaults. This is done in <a class="reference external" href="https://enrico.readthedocs.io/en/latest/configfile.html">Enrico</a> with  <code class="docutils literal notranslate"><span class="pre">enrico_config</span></code> and <code class="docutils literal notranslate"><span class="pre">enrico_xml</span></code>,
where each workflow is set-up and then run with its own command line tool. In
our case, we define the workflow steps in a simple Python script and declare
parameter-value pairs in a configuration file. The Python script is then
executed to run the workflow.</p>
<p>Also Python scripts and/or notebook files could be generated with an assistant
command line tool. Then, the user could edit and tweak the config files, scripts
or notebooks. There isn’t much precedence for this workflow in science, but a
lot of dev-ops and programming tools work like that, it is a standard technique.
One random example of such a tool is the <a class="reference external" href="https://cli.angular.io/">Angular CLI</a>, or <a class="reference external" href="https://cookiecutter.readthedocs.io">cookiecutter</a>.</p>
</div>
<div class="section" id="task-list">
<h2>Task list<a class="headerlink" href="#task-list" title="Permalink to this headline">¶</a></h2>
<p>Required for Gammapy v1.0</p>
<ul class="simple">
<li><p>Prototype for a manager class, agents, tools, etc.</p></li>
<li><p>Define a syntax for the declaration of parameter-value pairs needed for all tools in the analysis process.</p></li>
<li><p>Develop the session manager class responsible to drive the orchestration of tools in the analysis process.</p></li>
<li><p>Develop the tools classes responsible to perform each one of the tasks in the analysis process.</p></li>
<li><p>Design use cases and/or choose among the existing tutorials or benchmarks those that may be translated into high-level interface notebooks.</p></li>
<li><p>Provide notebooks using the high-level interface API for each of the chosen tutorials, benchmarks and/or use cases identified.</p></li>
<li><p>Add documentation for the high-level interface API and clean the list of documentation tutorials, making a distinct separation among those using Gammapy as a high-level interface API and those using Gammapy as a Python toolbox.</p></li>
</ul>
<p>Extra features (command line tools)</p>
<ul class="simple">
<li><p>Develop the small set of helpers command line tools described above.</p></li>
<li><p>Develop an assistant command line tool that produces Python scripts and/or notebooks using the high-level interface API.</p></li>
<li><p>Cleaning and refactoring of <code class="docutils literal notranslate"><span class="pre">gammapy.scripts</span></code> module to remove old and unused command line tools.</p></li>
<li><p>Cleaning present documentation on <code class="docutils literal notranslate"><span class="pre">gammapy.scripts</span></code> to transform into documentation of helper command line tools.</p></li>
</ul>
</div>
<div class="section" id="decision">
<h2>Decision<a class="headerlink" href="#decision" title="Permalink to this headline">¶</a></h2>
<p>The PIG has benn discussed at the Gammapy coding sprint in July 2019. A final
review announced on the Gammapy and CC mailing lists provided additional
comments that were addressed in <a class="reference external" href="https://github.com/gammapy/gammapy/pull/2219">GH 2219</a>. The PIG was accepted on August 19,
2019.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pig-013.html" class="btn btn-neutral float-right" title="PIG 13 - Gammapy dependencies and distribution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pig-011.html" class="btn btn-neutral float-left" title="PIG 11 - Light curves" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Gammapy developers
      <span class="lastupdated">
        Last updated on 04 Nov 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>