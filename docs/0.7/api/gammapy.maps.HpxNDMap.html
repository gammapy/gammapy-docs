
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HpxNDMap &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HpxSparseMap" href="gammapy.maps.HpxSparseMap.html" />
    <link rel="prev" title="HpxMap" href="gammapy.maps.HpxMap.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="gammapy.maps.HpxSparseMap.html" title="HpxSparseMap">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="gammapy.maps.HpxMap.html" title="HpxMap">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      <li><a href="../maps/index.html" accesskey="U">Data Structures for Images and Cubes (<code class="docutils literal"><span class="pre">gammapy.maps</span></code>)</a> &#187;</li>
      
      <li>HpxNDMap</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hpxndmap">
<h1>HpxNDMap<a class="headerlink" href="#hpxndmap" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gammapy.maps.HpxNDMap">
<em class="property">class </em><code class="descclassname">gammapy.maps.</code><code class="descname">HpxNDMap</code><span class="sig-paren">(</span><em>geom</em>, <em>data=None</em>, <em>dtype='float32'</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.hpxmap.HpxMap"><code class="docutils literal"><span class="pre">gammapy.maps.HpxMap</span></code></a></p>
<p>Representation of a N+2D map using HEALPix with two spatial
dimensions and N non-spatial dimensions.</p>
<p>This class uses a N+1D numpy array to represent the sequence of
HEALPix image planes.  Following the convention of WCS-based maps
this class uses a column-wise ordering for the data array with the
spatial dimension being tied to the last index of the array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.HpxGeom.html#gammapy.maps.HpxGeom" title="gammapy.maps.HpxGeom"><code class="xref py py-obj docutils literal"><span class="pre">HpxGeom</span></code></a></p>
<blockquote>
<div><p>HEALPIX geometry object.</p>
</div></blockquote>
<p><strong>data</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>HEALPIX data array.
If none then an empty array will be allocated.</p>
</div></blockquote>
<p><strong>meta</strong> : <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">OrderedDict</span></code></a></p>
<blockquote class="last">
<div><p>Dictionary to store meta data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.data" title="gammapy.maps.HpxNDMap.data"><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></a></td>
<td>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.geom" title="gammapy.maps.HpxNDMap.geom"><code class="xref py py-obj docutils literal"><span class="pre">geom</span></code></a></td>
<td>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.coadd" title="gammapy.maps.HpxNDMap.coadd"><code class="xref py py-obj docutils literal"><span class="pre">coadd</span></code></a>(map_in)</td>
<td>Add the contents of <code class="docutils literal"><span class="pre">map_in</span></code> to this map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.create" title="gammapy.maps.HpxNDMap.create"><code class="xref py py-obj docutils literal"><span class="pre">create</span></code></a>([nside,&nbsp;binsz,&nbsp;nest,&nbsp;map_type,&nbsp;…])</td>
<td>Factory method to create an empty HEALPix map.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.crop" title="gammapy.maps.HpxNDMap.crop"><code class="xref py py-obj docutils literal"><span class="pre">crop</span></code></a>(crop_width)</td>
<td>Crop the spatial dimension of the map by removing a number of pixels from the edge of the map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.downsample" title="gammapy.maps.HpxNDMap.downsample"><code class="xref py py-obj docutils literal"><span class="pre">downsample</span></code></a>(factor[,&nbsp;preserve_counts])</td>
<td>Downsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="gammapy.maps.HpxNDMap.fill_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_coord</span></code></a>(coords[,&nbsp;weights])</td>
<td>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="gammapy.maps.HpxNDMap.fill_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_idx</span></code></a>(idx[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="gammapy.maps.HpxNDMap.fill_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_pix</span></code></a>(pix[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_geom" title="gammapy.maps.HpxNDMap.from_geom"><code class="xref py py-obj docutils literal"><span class="pre">from_geom</span></code></a>(geom[,&nbsp;meta,&nbsp;map_type])</td>
<td>Generate an empty map from a <code class="xref py py-obj docutils literal"><span class="pre">Geom</span></code> instance.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdu" title="gammapy.maps.HpxNDMap.from_hdu"><code class="xref py py-obj docutils literal"><span class="pre">from_hdu</span></code></a>(hdu[,&nbsp;hdu_bands])</td>
<td>Make a HpxNDMap object from a FITS HDU.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdu_list" title="gammapy.maps.HpxNDMap.from_hdu_list"><code class="xref py py-obj docutils literal"><span class="pre">from_hdu_list</span></code></a>(hdulist[,&nbsp;hdu,&nbsp;hdu_bands,&nbsp;…])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdulist" title="gammapy.maps.HpxNDMap.from_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">from_hdulist</span></code></a>(hdu_list[,&nbsp;hdu,&nbsp;hdu_bands])</td>
<td>Make a HpxMap object from a FITS HDUList.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_coord" title="gammapy.maps.HpxNDMap.get_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">get_by_coord</span></code></a>(coords)</td>
<td>Return map values at the given map coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_idx" title="gammapy.maps.HpxNDMap.get_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">get_by_idx</span></code></a>(idx)</td>
<td>Return map values at the given pixel indices.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_pix" title="gammapy.maps.HpxNDMap.get_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">get_by_pix</span></code></a>(pix)</td>
<td>Return map values at the given pixel coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="gammapy.maps.HpxNDMap.interp_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">interp_by_coord</span></code></a>(coords[,&nbsp;interp])</td>
<td>Interpolate map values at the given map coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="gammapy.maps.HpxNDMap.interp_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">interp_by_pix</span></code></a>(pix[,&nbsp;interp])</td>
<td>Interpolate map values at the given pixel coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_coord" title="gammapy.maps.HpxNDMap.iter_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_coord</span></code></a>([buffersize])</td>
<td>Iterate over elements of the map returning a tuple with values and map coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_image</span></code></a>()</td>
<td>Iterate over image planes of the map returning a tuple with the image array and image plane index.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_pix" title="gammapy.maps.HpxNDMap.iter_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_pix</span></code></a>([buffersize])</td>
<td>Iterate over elements of the map returning a tuple with values and pixel coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.make_hdu" title="gammapy.maps.HpxNDMap.make_hdu"><code class="xref py py-obj docutils literal"><span class="pre">make_hdu</span></code></a>([hdu,&nbsp;hdu_bands,&nbsp;sparse,&nbsp;conv])</td>
<td>Make a FITS HDU with input data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.make_wcs_mapping" title="gammapy.maps.HpxNDMap.make_wcs_mapping"><code class="xref py py-obj docutils literal"><span class="pre">make_wcs_mapping</span></code></a>([sum_bands,&nbsp;proj,&nbsp;…])</td>
<td>Make a HEALPix to WCS mapping object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.pad" title="gammapy.maps.HpxNDMap.pad"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>(pad_width[,&nbsp;mode,&nbsp;cval,&nbsp;order])</td>
<td>Pad the spatial dimension of the map by extending the edge of the map by the given number of pixels.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot" title="gammapy.maps.HpxNDMap.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>([method,&nbsp;ax,&nbsp;idx,&nbsp;normalize,&nbsp;proj,&nbsp;…])</td>
<td>Quickplot method.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.read" title="gammapy.maps.HpxNDMap.read"><code class="xref py py-obj docutils literal"><span class="pre">read</span></code></a>(filename[,&nbsp;hdu,&nbsp;hdu_bands,&nbsp;map_type])</td>
<td>Read a map from a FITS file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.reproject" title="gammapy.maps.HpxNDMap.reproject"><code class="xref py py-obj docutils literal"><span class="pre">reproject</span></code></a>(geom[,&nbsp;order,&nbsp;mode])</td>
<td>Reproject this map to a different geometry.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_coord" title="gammapy.maps.HpxNDMap.set_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">set_by_coord</span></code></a>(coords,&nbsp;vals)</td>
<td>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_idx" title="gammapy.maps.HpxNDMap.set_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">set_by_idx</span></code></a>(idx,&nbsp;vals)</td>
<td>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_pix" title="gammapy.maps.HpxNDMap.set_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">set_by_pix</span></code></a>(pix,&nbsp;vals)</td>
<td>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="gammapy.maps.HpxNDMap.sum_over_axes"><code class="xref py py-obj docutils literal"><span class="pre">sum_over_axes</span></code></a>()</td>
<td>Sum over all non-spatial dimensions.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_hdulist" title="gammapy.maps.HpxNDMap.to_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">to_hdulist</span></code></a>([hdu,&nbsp;hdu_bands,&nbsp;sparse,&nbsp;conv])</td>
<td>Convert to <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_swapped" title="gammapy.maps.HpxNDMap.to_swapped"><code class="xref py py-obj docutils literal"><span class="pre">to_swapped</span></code></a>()</td>
<td>Return a new map with the opposite scheme (ring or nested).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_ud_graded" title="gammapy.maps.HpxNDMap.to_ud_graded"><code class="xref py py-obj docutils literal"><span class="pre">to_ud_graded</span></code></a>(nside[,&nbsp;preserve_counts])</td>
<td>Upgrade or downgrade the resolution of the map to the chosen nside.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_wcs" title="gammapy.maps.HpxNDMap.to_wcs"><code class="xref py py-obj docutils literal"><span class="pre">to_wcs</span></code></a>([sum_bands,&nbsp;normalize,&nbsp;proj,&nbsp;…])</td>
<td>Make a WCS object and convert HEALPIX data into WCS projection.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.upsample" title="gammapy.maps.HpxNDMap.upsample"><code class="xref py py-obj docutils literal"><span class="pre">upsample</span></code></a>(factor[,&nbsp;preserve_counts])</td>
<td>Upsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxNDMap.write" title="gammapy.maps.HpxNDMap.write"><code class="xref py py-obj docutils literal"><span class="pre">write</span></code></a>(filename,&nbsp;**kwargs)</td>
<td>Write to a FITS file.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.data">
<code class="descname">data</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxNDMap.geom">
<code class="descname">geom</code><a class="headerlink" href="#gammapy.maps.HpxNDMap.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="gammapy.maps.HpxNDMap.coadd">
<code class="descname">coadd</code><span class="sig-paren">(</span><em>map_in</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.coadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the contents of <code class="docutils literal"><span class="pre">map_in</span></code> to this map.  This method can be
used to combine maps containing integral quantities (e.g. counts)
or differential quantities if the maps have the same binning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>map_in</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Input map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>nside=None</em>, <em>binsz=None</em>, <em>nest=True</em>, <em>map_type='hpx'</em>, <em>coordsys='CEL'</em>, <em>data=None</em>, <em>skydir=None</em>, <em>width=None</em>, <em>dtype='float32'</em>, <em>region=None</em>, <em>axes=None</em>, <em>conv='gadf'</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to create an empty HEALPix map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nside</strong> : int or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>HEALPix NSIDE parameter.  This parameter sets the size of
the spatial pixels in the map.</p>
</div></blockquote>
<p><strong>binsz</strong> : float or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Approximate pixel size in degrees.  An NSIDE will be
chosen that correponds to a pixel size closest to this
value.  This option is superseded by nside.</p>
</div></blockquote>
<p><strong>nest</strong> : bool</p>
<blockquote>
<div><p>True for HEALPix “NESTED” indexing scheme, False for “RING” scheme.</p>
</div></blockquote>
<p><strong>coordsys</strong> : {‘CEL’, ‘GAL’}, optional</p>
<blockquote>
<div><p>Coordinate system, either Galactic (‘GAL’) or Equatorial (‘CEL’).</p>
</div></blockquote>
<p><strong>skydir</strong> : tuple or <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a></p>
<blockquote>
<div><p>Sky position of map center.  Can be either a SkyCoord
object or a tuple of longitude and latitude in deg in the
coordinate system of the map.</p>
</div></blockquote>
<p><strong>map_type</strong> : {‘hpx’, ‘hpx-sparse’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>Diameter of the map in degrees.  If None then an all-sky
geometry will be created.</p>
</div></blockquote>
<p><strong>axes</strong> : list</p>
<blockquote>
<div><p>List of <a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal"><span class="pre">MapAxis</span></code></a> objects for each non-spatial dimension.</p>
</div></blockquote>
<p><strong>conv</strong> : {‘fgst-ccube’,’fgst-template’,’gadf’}, optional</p>
<blockquote>
<div><p>Default FITS format convention that will be used when
writing this map to a file.  Default is ‘gadf’.</p>
</div></blockquote>
<p><strong>meta</strong> : <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">OrderedDict</span></code></a></p>
<blockquote>
<div><p>Dictionary to store meta data.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxMap</span></code></a></p>
<blockquote class="last">
<div><p>A HPX map object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.crop">
<code class="descname">crop</code><span class="sig-paren">(</span><em>crop_width</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.crop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the spatial dimension of the map by removing a number of
pixels from the edge of the map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>crop_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of pixels cropped from the edges of each axis.
Defined analogously to <code class="xref py py-obj docutils literal"><span class="pre">pad_with</span></code> from <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Cropped map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.downsample">
<code class="descname">downsample</code><span class="sig-paren">(</span><em>factor</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.downsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Downsampling factor.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote>
<div><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Downsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_coord">
<code class="descname">fill_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_idx">
<code class="descname">fill_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.fill_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.fill_by_pix">
<code class="descname">fill_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_geom">
<code class="descname">from_geom</code><span class="sig-paren">(</span><em>geom</em>, <em>meta=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an empty map from a <code class="xref py py-obj docutils literal"><span class="pre">Geom</span></code> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a></p>
<blockquote>
<div><p>Map geometry.</p>
</div></blockquote>
<p><strong>meta</strong> : <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">OrderedDict</span></code></a></p>
<blockquote>
<div><p>Dictionary to store meta data.</p>
</div></blockquote>
<p><strong>map_type</strong> : {‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘auto’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.  The map type should be consistent
with the geometry.  If map_type is ‘auto’ then an
appropriate map type will be inferred from type of
<code class="docutils literal"><span class="pre">geom</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gammapy.maps.HpxNDMap.from_hdu">
<em class="property">classmethod </em><code class="descname">from_hdu</code><span class="sig-paren">(</span><em>hdu</em>, <em>hdu_bands=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.from_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxNDMap object from a FITS HDU.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></a></p>
<blockquote>
<div><p>The FITS HDU</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></a></p>
<blockquote class="last">
<div><p>The BANDS table HDU</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_hdu_list">
<code class="descname">from_hdu_list</code><span class="sig-paren">(</span><em>hdulist</em>, <em>hdu=None</em>, <em>hdu_bands=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdu_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.from_hdulist">
<code class="descname">from_hdulist</code><span class="sig-paren">(</span><em>hdu_list</em>, <em>hdu=None</em>, <em>hdu_bands=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxMap object from a FITS HDUList.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu_list</strong> :  <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a></p>
<blockquote>
<div><p>HDU list containing HDUs for map data and bands.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.  If None then
the method will try to load map data from the first
BinTableHDU in the file.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>hpx_map</strong> : <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxMap</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_coord">
<code class="descname">get_by_coord</code><span class="sig-paren">(</span><em>coords</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values of pixels in the map.  np.nan used to flag coords
outside of map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_idx">
<code class="descname">get_by_idx</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.get_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.
np.nan used to flag coordinate outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.get_by_pix">
<code class="descname">get_by_pix</code><span class="sig-paren">(</span><em>pix</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.  np.nan used to flag coordinates
outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.interp_by_coord">
<code class="descname">interp_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>interp=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.interp_by_coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Interpolated pixel values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.interp_by_pix">
<code class="descname">interp_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.interp_by_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given pixel coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.iter_by_coord">
<code class="descname">iter_by_coord</code><span class="sig-paren">(</span><em>buffersize=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.iter_by_coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>coords</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of map coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.iter_by_image">
<code class="descname">iter_by_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.iter_by_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over image planes of the map returning a tuple with the image
array and image plane index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Array of image plane values.</p>
</div></blockquote>
<p><strong>idx</strong> : tuple</p>
<blockquote class="last">
<div><p>Index of image plane.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.iter_by_pix">
<code class="descname">iter_by_pix</code><span class="sig-paren">(</span><em>buffersize=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.iter_by_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>pix</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of pixel coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.make_hdu">
<code class="descname">make_hdu</code><span class="sig-paren">(</span><em>hdu=None</em>, <em>hdu_bands=None</em>, <em>sparse=False</em>, <em>conv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.make_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a FITS HDU with input data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : str</p>
<blockquote>
<div><p>The HDU extension name.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>The HDU extension name for BANDS table.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote>
<div><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</div></blockquote>
<p><strong>conv</strong> : {‘fgst-ccube’,’fgst-template’,’gadf’,None}, optional</p>
<blockquote>
<div><p>FITS format convention.  If None this will be set to the
default convention of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>hdu_out</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></a> or <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/images.html#astropy.io.fits.ImageHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">ImageHDU</span></code></a></p>
<blockquote class="last">
<div><p>Output HDU containing map data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.make_wcs_mapping">
<code class="descname">make_wcs_mapping</code><span class="sig-paren">(</span><em>sum_bands=False</em>, <em>proj='AIT'</em>, <em>oversample=2</em>, <em>width_pix=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.make_wcs_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.make_wcs_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HEALPix to WCS mapping object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sum_bands</strong> : bool</p>
<blockquote>
<div><p>sum over non-spatial dimensions before reprojecting</p>
</div></blockquote>
<p><strong>proj</strong> : str</p>
<blockquote>
<div><p>WCS-projection</p>
</div></blockquote>
<p><strong>oversample</strong> : float</p>
<blockquote>
<div><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal"><span class="pre">width_pix</span></code>.</p>
</div></blockquote>
<p><strong>width_pix</strong> : int</p>
<blockquote>
<div><p>Width of the WCS geometry in pixels.  The pixel size will
be set to the number of pixels satisfying <code class="docutils literal"><span class="pre">oversample</span></code>
or <code class="docutils literal"><span class="pre">width_pix</span></code> whichever is smaller.  If this parameter
is None then the width will be set from <code class="docutils literal"><span class="pre">oversample</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>hpx2wcs</strong> : <code class="xref py py-obj docutils literal"><span class="pre">HpxToWcsMapping</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.pad">
<code class="descname">pad</code><span class="sig-paren">(</span><em>pad_width</em>, <em>mode='constant'</em>, <em>cval=0.0</em>, <em>order=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the spatial dimension of the map by extending the edge of the
map by the given number of pixels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pad_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of pixels padded to the edges of each axis.</p>
</div></blockquote>
<p><strong>mode</strong> : {‘edge’, ‘constant’, ‘interp’}</p>
<blockquote>
<div><p>Padding mode.  ‘edge’ pads with the closest edge value.
‘constant’ pads with a constant value. ‘interp’ pads with
an extrapolated value.</p>
</div></blockquote>
<p><strong>cval</strong> : float</p>
<blockquote>
<div><p>Padding value when mode=’consant’.</p>
</div></blockquote>
<p><strong>order</strong> : int</p>
<blockquote>
<div><p>Order of interpolation when mode=’constant’ (0 =
nearest-neighbor, 1 = linear, 2 = quadratic, 3 = cubic).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Padded map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>method='raster'</em>, <em>ax=None</em>, <em>idx=None</em>, <em>normalize=False</em>, <em>proj='AIT'</em>, <em>oversample=4</em>, <em>width_pix=1000</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickplot method.</p>
<p>This will generate a visualization of the map by converting to
a rasterized WCS image (method=’raster’) or drawing polygons
for each pixel (method=’poly’).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method</strong> : {‘raster’,’poly’}</p>
<blockquote>
<div><p>Method for mapping HEALPix pixels to a two-dimensional
image.  Can be set to ‘raster’ (rasterization to cartesian
image plane) or ‘poly’ (explicit polygons for each pixel).
WARNING: The ‘poly’ method is much slower than ‘raster’
and only suitable for maps with less than ~10k pixels.</p>
</div></blockquote>
<p><strong>proj</strong> : string, optional</p>
<blockquote>
<div><p>Any valid WCS projection type.</p>
</div></blockquote>
<p><strong>oversample</strong> : float</p>
<blockquote>
<div><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal"><span class="pre">width_pix</span></code>.</p>
</div></blockquote>
<p><strong>width_pix</strong> : int</p>
<blockquote>
<div><p>Width of the WCS geometry in pixels.  The pixel size will
be set to the number of pixels satisfying <code class="docutils literal"><span class="pre">oversample</span></code>
or <code class="docutils literal"><span class="pre">width_pix</span></code> whichever is smaller.  If this parameter
is None then the width will be set from <code class="docutils literal"><span class="pre">oversample</span></code>.</p>
</div></blockquote>
<p><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Set the image slice to plot if this map has non-spatial
dimensions.</p>
</div></blockquote>
<p><strong>**kwargs</strong> : dict</p>
<blockquote>
<div><p>Keyword arguments passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v2.1.2)"><code class="xref py py-obj docutils literal"><span class="pre">imshow</span></code></a>.</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>——-</strong></p>
<p><strong>fig</strong> : <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v2.1.2)"><code class="xref py py-obj docutils literal"><span class="pre">Figure</span></code></a></p>
<blockquote>
<div><p>Figure object.</p>
</div></blockquote>
<p><strong>ax</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.visualization.wcsaxes.WCSAxes.html#astropy.visualization.wcsaxes.WCSAxes" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">WCSAxes</span></code></a></p>
<blockquote>
<div><p>WCS axis object</p>
</div></blockquote>
<p><strong>im</strong> : <a class="reference external" href="https://matplotlib.org/api/image_api.html#matplotlib.image.AxesImage" title="(in Matplotlib v2.1.2)"><code class="xref py py-obj docutils literal"><span class="pre">AxesImage</span></code></a> or <a class="reference external" href="https://matplotlib.org/api/collections_api.html#matplotlib.collections.PatchCollection" title="(in Matplotlib v2.1.2)"><code class="xref py py-obj docutils literal"><span class="pre">PatchCollection</span></code></a></p>
<blockquote class="last">
<div><p>Image object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>filename</em>, <em>hdu=None</em>, <em>hdu_bands=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a map from a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Name of the FITS file.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.  If not
defined this will be inferred from the FITS header of the
map HDU.</p>
</div></blockquote>
<p><strong>map_type</strong> : {‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘auto’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.  The map type should be consistent
with the format of the input file.  If map_type is ‘auto’
then an appropriate map type will be inferred from the
input file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.reproject">
<code class="descname">reproject</code><span class="sig-paren">(</span><em>geom</em>, <em>order=1</em>, <em>mode='interp'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject this map to a different geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a></p>
<blockquote>
<div><p>Geometry of projection.</p>
</div></blockquote>
<p><strong>mode</strong> : {‘interp’, ‘exact’}</p>
<blockquote>
<div><p>Method for reprojection.  ‘interp’ method interpolates at pixel
centers.  ‘exact’ method integrates over intersection of pixels.</p>
</div></blockquote>
<p><strong>order</strong> : int or str</p>
<blockquote>
<div><p>Order of interpolating polynomial (0 = nearest-neighbor, 1 =
linear, 2 = quadratic, 3 = cubic).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Reprojected map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_coord">
<code class="descname">set_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector.  Pixels at <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_idx">
<code class="descname">set_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.set_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.set_by_pix">
<code class="descname">set_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.sum_over_axes">
<code class="descname">sum_over_axes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.sum_over_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum over all non-spatial dimensions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxNDMap</span></code></a></p>
<blockquote class="last">
<div><p>Summed map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_hdulist">
<code class="descname">to_hdulist</code><span class="sig-paren">(</span><em>hdu='SKYMAP'</em>, <em>hdu_bands=None</em>, <em>sparse=False</em>, <em>conv=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : str</p>
<blockquote>
<div><p>The HDU extension name.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>The HDU extension name for BANDS table.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote>
<div><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</div></blockquote>
<p><strong>conv</strong> : {‘fgst-ccube’,’fgst-template’,’gadf’,None}, optional</p>
<blockquote>
<div><p>FITS format convention.  If None this will be set to the
default convention of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>hdu_list</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_swapped">
<code class="descname">to_swapped</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_swapped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_swapped" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new map with the opposite scheme (ring or nested).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxMap</span></code></a></p>
<blockquote class="last">
<div><p>Map object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_ud_graded">
<code class="descname">to_ud_graded</code><span class="sig-paren">(</span><em>nside</em>, <em>preserve_counts=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_ud_graded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_ud_graded" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrade or downgrade the resolution of the map to the chosen nside.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nside</strong> : int</p>
<blockquote>
<div><p>NSIDE parameter of the new map.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote>
<div><p>Choose whether to preserve counts (total amplitude) or
intensity (amplitude per unit solid angle).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxMap</span></code></a></p>
<blockquote class="last">
<div><p>Map object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.to_wcs">
<code class="descname">to_wcs</code><span class="sig-paren">(</span><em>sum_bands=False</em>, <em>normalize=True</em>, <em>proj='AIT'</em>, <em>oversample=2</em>, <em>width_pix=None</em>, <em>hpx2wcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.to_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WCS object and convert HEALPIX data into WCS projection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sum_bands</strong> : bool</p>
<blockquote>
<div><p>Sum over non-spatial axes before reprojecting.  If False
then the WCS map will have the same dimensionality as the
HEALPix one.</p>
</div></blockquote>
<p><strong>normalize</strong> : bool</p>
<blockquote>
<div><p>True -&gt; preserve integral by splitting HEALPIX values between bins</p>
</div></blockquote>
<p><strong>proj</strong> : str</p>
<blockquote>
<div><p>WCS-projection</p>
</div></blockquote>
<p><strong>oversample</strong> : float</p>
<blockquote>
<div><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal"><span class="pre">width_pix</span></code>.</p>
</div></blockquote>
<p><strong>width_pix</strong> : int</p>
<blockquote>
<div><p>Width of the WCS geometry in pixels.  The pixel size will
be set to the number of pixels satisfying <code class="docutils literal"><span class="pre">oversample</span></code>
or <code class="docutils literal"><span class="pre">width_pix</span></code> whichever is smaller.  If this parameter
is None then the width will be set from <code class="docutils literal"><span class="pre">oversample</span></code>.</p>
</div></blockquote>
<p><strong>hpx2wcs</strong> : <code class="xref py py-obj docutils literal"><span class="pre">HpxToWcsMapping</span></code></p>
<blockquote>
<div><p>Set the HPX to WCS mapping object that will be used to
generate the WCS map.  If none then a new mapping will be
generated based on <code class="docutils literal"><span class="pre">proj</span></code> and <code class="docutils literal"><span class="pre">oversample</span></code> arguments.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.WcsMap.html#gammapy.maps.WcsMap" title="gammapy.maps.WcsMap"><code class="xref py py-obj docutils literal"><span class="pre">WcsMap</span></code></a></p>
<blockquote class="last">
<div><p>WCS map object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.upsample">
<code class="descname">upsample</code><span class="sig-paren">(</span><em>factor</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxnd.html#HpxNDMap.upsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Upsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Upsampling factor.</p>
</div></blockquote>
<p><strong>order</strong> : int</p>
<blockquote>
<div><p>Order of the interpolation used for upsampling.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote>
<div><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Upsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxNDMap.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Output file name.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Set the name of the image extension.  By default this will
be set to SKYMAP (for BINTABLE HDU) or PRIMARY (for IMAGE
HDU).</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Set the name of the bands table extension.  By default this will
be set to BANDS.</p>
</div></blockquote>
<p><strong>conv</strong> : str</p>
<blockquote>
<div><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools).  Supported conventions are ‘gadf’,
‘fgst-ccube’, ‘fgst-ltcube’, ‘fgst-bexpcube’,
‘fgst-template’, ‘fgst-srcmap’, ‘fgst-srcmap-sparse’,
‘galprop’, and ‘galprop2’.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote class="last">
<div><p>Sparsify the map by dropping pixels with zero amplitude.
This option is only compatible with the ‘gadf’ format.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">HpxNDMap</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/gammapy.maps.HpxNDMap.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>