
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>WcsMap &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WcsNDMap" href="gammapy.maps.WcsNDMap.html" />
    <link rel="prev" title="WcsGeom" href="gammapy.maps.WcsGeom.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="gammapy.maps.WcsNDMap.html" title="WcsNDMap">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="gammapy.maps.WcsGeom.html" title="WcsGeom">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      <li><a href="../maps/index.html" accesskey="U">Data Structures for Images and Cubes (<code class="docutils literal"><span class="pre">gammapy.maps</span></code>)</a> &#187;</li>
      
      <li>WcsMap</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="wcsmap">
<h1>WcsMap<a class="headerlink" href="#wcsmap" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gammapy.maps.WcsMap">
<em class="property">class </em><code class="descclassname">gammapy.maps.</code><code class="descname">WcsMap</code><span class="sig-paren">(</span><em>geom</em>, <em>data</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/wcsmap.html#WcsMap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.WcsMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.base.Map"><code class="docutils literal"><span class="pre">gammapy.maps.Map</span></code></a></p>
<p>Base class for WCS map classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.WcsGeom.html#gammapy.maps.WcsGeom" title="gammapy.maps.WcsGeom"><code class="xref py py-obj docutils literal"><span class="pre">WcsGeom</span></code></a></p>
<blockquote>
<div><p>A WCS geometry object.</p>
</div></blockquote>
<p><strong>data</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Data array.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.data" title="gammapy.maps.WcsMap.data"><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></a></td>
<td>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.geom" title="gammapy.maps.WcsMap.geom"><code class="xref py py-obj docutils literal"><span class="pre">geom</span></code></a></td>
<td>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.coadd" title="gammapy.maps.WcsMap.coadd"><code class="xref py py-obj docutils literal"><span class="pre">coadd</span></code></a>(map_in)</td>
<td>Add the contents of <code class="docutils literal"><span class="pre">map_in</span></code> to this map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.create" title="gammapy.maps.WcsMap.create"><code class="xref py py-obj docutils literal"><span class="pre">create</span></code></a>([map_type,&nbsp;npix,&nbsp;binsz,&nbsp;width,&nbsp;proj,&nbsp;…])</td>
<td>Factory method to create an empty WCS map.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.crop" title="gammapy.maps.WcsMap.crop"><code class="xref py py-obj docutils literal"><span class="pre">crop</span></code></a>(crop_width)</td>
<td>Crop the spatial dimension of the map by removing a number of pixels from the edge of the map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.downsample" title="gammapy.maps.WcsMap.downsample"><code class="xref py py-obj docutils literal"><span class="pre">downsample</span></code></a>(factor[,&nbsp;preserve_counts])</td>
<td>Downsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.fill_by_coord" title="gammapy.maps.WcsMap.fill_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_coord</span></code></a>(coords[,&nbsp;weights])</td>
<td>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.fill_by_idx" title="gammapy.maps.WcsMap.fill_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_idx</span></code></a>(idx[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.fill_by_pix" title="gammapy.maps.WcsMap.fill_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_pix</span></code></a>(pix[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.from_geom" title="gammapy.maps.WcsMap.from_geom"><code class="xref py py-obj docutils literal"><span class="pre">from_geom</span></code></a>(geom[,&nbsp;meta,&nbsp;map_type])</td>
<td>Generate an empty map from a <code class="xref py py-obj docutils literal"><span class="pre">Geom</span></code> instance.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.from_hdu_list" title="gammapy.maps.WcsMap.from_hdu_list"><code class="xref py py-obj docutils literal"><span class="pre">from_hdu_list</span></code></a>(hdulist[,&nbsp;hdu,&nbsp;hdu_bands,&nbsp;…])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.from_hdulist" title="gammapy.maps.WcsMap.from_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">from_hdulist</span></code></a>(hdu_list[,&nbsp;hdu,&nbsp;hdu_bands])</td>
<td>Make a WcsMap object from a FITS HDUList.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.get_by_coord" title="gammapy.maps.WcsMap.get_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">get_by_coord</span></code></a>(coords)</td>
<td>Return map values at the given map coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.get_by_idx" title="gammapy.maps.WcsMap.get_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">get_by_idx</span></code></a>(idx)</td>
<td>Return map values at the given pixel indices.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.get_by_pix" title="gammapy.maps.WcsMap.get_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">get_by_pix</span></code></a>(pix)</td>
<td>Return map values at the given pixel coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.interp_by_coord" title="gammapy.maps.WcsMap.interp_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">interp_by_coord</span></code></a>(coords[,&nbsp;interp])</td>
<td>Interpolate map values at the given map coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.interp_by_pix" title="gammapy.maps.WcsMap.interp_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">interp_by_pix</span></code></a>(pix[,&nbsp;interp])</td>
<td>Interpolate map values at the given pixel coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.iter_by_coord" title="gammapy.maps.WcsMap.iter_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_coord</span></code></a>([buffersize])</td>
<td>Iterate over elements of the map returning a tuple with values and map coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.iter_by_image" title="gammapy.maps.WcsMap.iter_by_image"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_image</span></code></a>()</td>
<td>Iterate over image planes of the map returning a tuple with the image array and image plane index.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.iter_by_pix" title="gammapy.maps.WcsMap.iter_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_pix</span></code></a>([buffersize])</td>
<td>Iterate over elements of the map returning a tuple with values and pixel coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.make_hdu" title="gammapy.maps.WcsMap.make_hdu"><code class="xref py py-obj docutils literal"><span class="pre">make_hdu</span></code></a>([hdu,&nbsp;hdu_bands,&nbsp;sparse,&nbsp;conv])</td>
<td>Make a FITS HDU from this map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.pad" title="gammapy.maps.WcsMap.pad"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>(pad_width[,&nbsp;mode,&nbsp;cval,&nbsp;order])</td>
<td>Pad the spatial dimension of the map by extending the edge of the map by the given number of pixels.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.read" title="gammapy.maps.WcsMap.read"><code class="xref py py-obj docutils literal"><span class="pre">read</span></code></a>(filename[,&nbsp;hdu,&nbsp;hdu_bands,&nbsp;map_type])</td>
<td>Read a map from a FITS file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.reproject" title="gammapy.maps.WcsMap.reproject"><code class="xref py py-obj docutils literal"><span class="pre">reproject</span></code></a>(geom[,&nbsp;order,&nbsp;mode])</td>
<td>Reproject this map to a different geometry.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.set_by_coord" title="gammapy.maps.WcsMap.set_by_coord"><code class="xref py py-obj docutils literal"><span class="pre">set_by_coord</span></code></a>(coords,&nbsp;vals)</td>
<td>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.set_by_idx" title="gammapy.maps.WcsMap.set_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">set_by_idx</span></code></a>(idx,&nbsp;vals)</td>
<td>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.set_by_pix" title="gammapy.maps.WcsMap.set_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">set_by_pix</span></code></a>(pix,&nbsp;vals)</td>
<td>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.sum_over_axes" title="gammapy.maps.WcsMap.sum_over_axes"><code class="xref py py-obj docutils literal"><span class="pre">sum_over_axes</span></code></a>()</td>
<td>Reduce to a 2D image by summing over non-spatial dimensions.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.to_hdulist" title="gammapy.maps.WcsMap.to_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">to_hdulist</span></code></a>([hdu,&nbsp;hdu_bands,&nbsp;sparse,&nbsp;conv])</td>
<td>Convert to <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.WcsMap.upsample" title="gammapy.maps.WcsMap.upsample"><code class="xref py py-obj docutils literal"><span class="pre">upsample</span></code></a>(factor[,&nbsp;order,&nbsp;preserve_counts])</td>
<td>Upsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.WcsMap.write" title="gammapy.maps.WcsMap.write"><code class="xref py py-obj docutils literal"><span class="pre">write</span></code></a>(filename,&nbsp;**kwargs)</td>
<td>Write to a FITS file.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="gammapy.maps.WcsMap.data">
<code class="descname">data</code><a class="headerlink" href="#gammapy.maps.WcsMap.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.WcsMap.geom">
<code class="descname">geom</code><a class="headerlink" href="#gammapy.maps.WcsMap.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="gammapy.maps.WcsMap.coadd">
<code class="descname">coadd</code><span class="sig-paren">(</span><em>map_in</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.coadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the contents of <code class="docutils literal"><span class="pre">map_in</span></code> to this map.  This method can be
used to combine maps containing integral quantities (e.g. counts)
or differential quantities if the maps have the same binning.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>map_in</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Input map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gammapy.maps.WcsMap.create">
<em class="property">classmethod </em><code class="descname">create</code><span class="sig-paren">(</span><em>map_type='wcs'</em>, <em>npix=None</em>, <em>binsz=0.1</em>, <em>width=None</em>, <em>proj='CAR'</em>, <em>coordsys='CEL'</em>, <em>refpix=None</em>, <em>axes=None</em>, <em>skydir=None</em>, <em>dtype='float32'</em>, <em>conv='gadf'</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/wcsmap.html#WcsMap.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.WcsMap.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to create an empty WCS map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>map_type</strong> : {‘wcs’, ‘wcs-sparse’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.</p>
</div></blockquote>
<p><strong>npix</strong> : int or tuple or list</p>
<blockquote>
<div><p>Width of the map in pixels. A tuple will be interpreted as
parameters for longitude and latitude axes.  For maps with
non-spatial dimensions, list input can be used to define a
different map width in each image plane.  This option
supersedes width.</p>
</div></blockquote>
<p><strong>width</strong> : float or tuple or list</p>
<blockquote>
<div><p>Width of the map in degrees.  A tuple will be interpreted
as parameters for longitude and latitude axes.  For maps
with non-spatial dimensions, list input can be used to
define a different map width in each image plane.</p>
</div></blockquote>
<p><strong>binsz</strong> : float or tuple or list</p>
<blockquote>
<div><p>Map pixel size in degrees.  A tuple will be interpreted
as parameters for longitude and latitude axes.  For maps
with non-spatial dimensions, list input can be used to
define a different bin size in each image plane.</p>
</div></blockquote>
<p><strong>skydir</strong> : tuple or <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a></p>
<blockquote>
<div><p>Sky position of map center.  Can be either a SkyCoord
object or a tuple of longitude and latitude in deg in the
coordinate system of the map.</p>
</div></blockquote>
<p><strong>coordsys</strong> : {‘CEL’, ‘GAL’}, optional</p>
<blockquote>
<div><p>Coordinate system, either Galactic (‘GAL’) or Equatorial (‘CEL’).</p>
</div></blockquote>
<p><strong>axes</strong> : list</p>
<blockquote>
<div><p>List of non-spatial axes.</p>
</div></blockquote>
<p><strong>proj</strong> : string, optional</p>
<blockquote>
<div><p>Any valid WCS projection type. Default is ‘CAR’ (cartesian).</p>
</div></blockquote>
<p><strong>refpix</strong> : tuple</p>
<blockquote>
<div><p>Reference pixel of the projection.  If None then this will
be chosen to be center of the map.</p>
</div></blockquote>
<p><strong>dtype</strong> : str, optional</p>
<blockquote>
<div><p>Data type, default is float32</p>
</div></blockquote>
<p><strong>conv</strong> : {‘fgst-ccube’,’fgst-template’,’gadf’}, optional</p>
<blockquote>
<div><p>FITS format convention.  Default is ‘gadf’.</p>
</div></blockquote>
<p><strong>meta</strong> : <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">OrderedDict</span></code></a></p>
<blockquote>
<div><p>Dictionary to store meta data.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="#gammapy.maps.WcsMap" title="gammapy.maps.WcsMap"><code class="xref py py-obj docutils literal"><span class="pre">WcsMap</span></code></a></p>
<blockquote class="last">
<div><p>A WCS map object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.crop">
<code class="descname">crop</code><span class="sig-paren">(</span><em>crop_width</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the spatial dimension of the map by removing a number of
pixels from the edge of the map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>crop_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of pixels cropped from the edges of each axis.
Defined analogously to <code class="xref py py-obj docutils literal"><span class="pre">pad_with</span></code> from <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Cropped map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.downsample">
<code class="descname">downsample</code><span class="sig-paren">(</span><em>factor</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Downsampling factor.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote>
<div><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Downsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.fill_by_coord">
<code class="descname">fill_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.fill_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.fill_by_idx">
<code class="descname">fill_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.fill_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.fill_by_pix">
<code class="descname">fill_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.fill_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.from_geom">
<code class="descname">from_geom</code><span class="sig-paren">(</span><em>geom</em>, <em>meta=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.from_geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an empty map from a <code class="xref py py-obj docutils literal"><span class="pre">Geom</span></code> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a></p>
<blockquote>
<div><p>Map geometry.</p>
</div></blockquote>
<p><strong>meta</strong> : <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">OrderedDict</span></code></a></p>
<blockquote>
<div><p>Dictionary to store meta data.</p>
</div></blockquote>
<p><strong>map_type</strong> : {‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘auto’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.  The map type should be consistent
with the geometry.  If map_type is ‘auto’ then an
appropriate map type will be inferred from type of
<code class="docutils literal"><span class="pre">geom</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.from_hdu_list">
<code class="descname">from_hdu_list</code><span class="sig-paren">(</span><em>hdulist</em>, <em>hdu=None</em>, <em>hdu_bands=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.from_hdu_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="gammapy.maps.WcsMap.from_hdulist">
<em class="property">classmethod </em><code class="descname">from_hdulist</code><span class="sig-paren">(</span><em>hdu_list</em>, <em>hdu=None</em>, <em>hdu_bands=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/wcsmap.html#WcsMap.from_hdulist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.WcsMap.from_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WcsMap object from a FITS HDUList.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu_list</strong> :  <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a></p>
<blockquote>
<div><p>HDU list containing HDUs for map data and bands.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wcs_map</strong> : <a class="reference internal" href="#gammapy.maps.WcsMap" title="gammapy.maps.WcsMap"><code class="xref py py-obj docutils literal"><span class="pre">WcsMap</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.get_by_coord">
<code class="descname">get_by_coord</code><span class="sig-paren">(</span><em>coords</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.get_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values of pixels in the map.  np.nan used to flag coords
outside of map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.get_by_idx">
<code class="descname">get_by_idx</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.get_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.
np.nan used to flag coordinate outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.get_by_pix">
<code class="descname">get_by_pix</code><span class="sig-paren">(</span><em>pix</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.get_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.  np.nan used to flag coordinates
outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.interp_by_coord">
<code class="descname">interp_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.interp_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Interpolated pixel values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.interp_by_pix">
<code class="descname">interp_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.interp_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel coordinate arrays for each dimension of the
map.  Tuple should be ordered as (p_lon, p_lat, p_0, …,
p_n) where p_i are pixel coordinates for non-spatial
dimensions of the map.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Interpolated pixel values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.iter_by_coord">
<code class="descname">iter_by_coord</code><span class="sig-paren">(</span><em>buffersize=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.iter_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>coords</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of map coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.iter_by_image">
<code class="descname">iter_by_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.iter_by_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over image planes of the map returning a tuple with the image
array and image plane index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Array of image plane values.</p>
</div></blockquote>
<p><strong>idx</strong> : tuple</p>
<blockquote class="last">
<div><p>Index of image plane.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.iter_by_pix">
<code class="descname">iter_by_pix</code><span class="sig-paren">(</span><em>buffersize=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.iter_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>pix</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of pixel coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.make_hdu">
<code class="descname">make_hdu</code><span class="sig-paren">(</span><em>hdu='SKYMAP'</em>, <em>hdu_bands=None</em>, <em>sparse=False</em>, <em>conv=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/wcsmap.html#WcsMap.make_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.WcsMap.make_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a FITS HDU from this map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : str</p>
<blockquote>
<div><p>The HDU extension name.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>The HDU extension name for BANDS table.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote>
<div><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>hdu</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></a> or <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/images.html#astropy.io.fits.ImageHDU" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">ImageHDU</span></code></a></p>
<blockquote class="last">
<div><p>HDU containing the map data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.pad">
<code class="descname">pad</code><span class="sig-paren">(</span><em>pad_width</em>, <em>mode='constant'</em>, <em>cval=0</em>, <em>order=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the spatial dimension of the map by extending the edge of the
map by the given number of pixels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pad_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of pixels padded to the edges of each axis.</p>
</div></blockquote>
<p><strong>mode</strong> : {‘edge’, ‘constant’, ‘interp’}</p>
<blockquote>
<div><p>Padding mode.  ‘edge’ pads with the closest edge value.
‘constant’ pads with a constant value. ‘interp’ pads with
an extrapolated value.</p>
</div></blockquote>
<p><strong>cval</strong> : float</p>
<blockquote>
<div><p>Padding value when mode=’consant’.</p>
</div></blockquote>
<p><strong>order</strong> : int</p>
<blockquote>
<div><p>Order of interpolation when mode=’constant’ (0 =
nearest-neighbor, 1 = linear, 2 = quadratic, 3 = cubic).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Padded map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>filename</em>, <em>hdu=None</em>, <em>hdu_bands=None</em>, <em>map_type='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a map from a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Name of the FITS file.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.  If not
defined this will be inferred from the FITS header of the
map HDU.</p>
</div></blockquote>
<p><strong>map_type</strong> : {‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘auto’}</p>
<blockquote>
<div><p>Map type.  Selects the class that will be used to
instantiate the map.  The map type should be consistent
with the format of the input file.  If map_type is ‘auto’
then an appropriate map type will be inferred from the
input file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.reproject">
<code class="descname">reproject</code><span class="sig-paren">(</span><em>geom</em>, <em>order=1</em>, <em>mode='interp'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject this map to a different geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a></p>
<blockquote>
<div><p>Geometry of projection.</p>
</div></blockquote>
<p><strong>mode</strong> : {‘interp’, ‘exact’}</p>
<blockquote>
<div><p>Method for reprojection.  ‘interp’ method interpolates at pixel
centers.  ‘exact’ method integrates over intersection of pixels.</p>
</div></blockquote>
<p><strong>order</strong> : int or str</p>
<blockquote>
<div><p>Order of interpolating polynomial (0 = nearest-neighbor, 1 =
linear, 2 = quadratic, 3 = cubic).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Reprojected map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.set_by_coord">
<code class="descname">set_by_coord</code><span class="sig-paren">(</span><em>coords</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.set_by_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal"><span class="pre">MapCoord</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector.  Pixels at <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.set_by_idx">
<code class="descname">set_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.set_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.set_by_pix">
<code class="descname">set_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.set_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.sum_over_axes">
<code class="descname">sum_over_axes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.sum_over_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce to a 2D image by summing over non-spatial dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.to_hdulist">
<code class="descname">to_hdulist</code><span class="sig-paren">(</span><em>hdu=None</em>, <em>hdu_bands=None</em>, <em>sparse=False</em>, <em>conv=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/wcsmap.html#WcsMap.to_hdulist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.WcsMap.to_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote>
<div><p>Sparsify the map by only writing pixels with non-zero
amplitude.</p>
</div></blockquote>
<p><strong>conv</strong> : {‘fgst-ccube’,’fgst-template’,’gadf’,None}, optional</p>
<blockquote>
<div><p>FITS format convention.  If None this will be set to the
default convention of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>hdu_list</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.upsample">
<code class="descname">upsample</code><span class="sig-paren">(</span><em>factor</em>, <em>order=0</em>, <em>preserve_counts=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Upsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Upsampling factor.</p>
</div></blockquote>
<p><strong>order</strong> : int</p>
<blockquote>
<div><p>Order of the interpolation used for upsampling.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote>
<div><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal"><span class="pre">Map</span></code></a></p>
<blockquote class="last">
<div><p>Upsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.WcsMap.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.WcsMap.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Output file name.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Set the name of the image extension.  By default this will
be set to SKYMAP (for BINTABLE HDU) or PRIMARY (for IMAGE
HDU).</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Set the name of the bands table extension.  By default this will
be set to BANDS.</p>
</div></blockquote>
<p><strong>conv</strong> : str</p>
<blockquote>
<div><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools).  Supported conventions are ‘gadf’,
‘fgst-ccube’, ‘fgst-ltcube’, ‘fgst-bexpcube’,
‘fgst-template’, ‘fgst-srcmap’, ‘fgst-srcmap-sparse’,
‘galprop’, and ‘galprop2’.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote class="last">
<div><p>Sparsify the map by dropping pixels with zero amplitude.
This option is only compatible with the ‘gadf’ format.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">WcsMap</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/gammapy.maps.WcsMap.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>