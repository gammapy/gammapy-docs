
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SpectrumObservation &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SpectrumObservationList" href="gammapy.spectrum.SpectrumObservationList.html" />
    <link rel="prev" title="SpectrumFitResult" href="gammapy.spectrum.SpectrumFitResult.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="gammapy.spectrum.SpectrumObservationList.html" title="SpectrumObservationList">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="gammapy.spectrum.SpectrumFitResult.html" title="SpectrumFitResult">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      <li><a href="../spectrum/index.html" accesskey="U">Spectrum estimation and modeling (<code class="docutils literal"><span class="pre">gammapy.spectrum</span></code>)</a> &#187;</li>
      
      <li>SpectrumObservation</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="spectrumobservation">
<h1>SpectrumObservation<a class="headerlink" href="#spectrumobservation" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gammapy.spectrum.SpectrumObservation">
<em class="property">class </em><code class="descclassname">gammapy.spectrum.</code><code class="descname">SpectrumObservation</code><span class="sig-paren">(</span><em>on_vector</em>, <em>aeff=None</em>, <em>off_vector=None</em>, <em>edisp=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>1D spectral analysis storage class.</p>
<p>This container holds the ingredients for 1D region based spectral analysis
TODO: describe PHA, ARF, etc.</p>
<p>Meta data is stored in the <code class="docutils literal"><span class="pre">on_vector</span></code> attribute.
This reflects the OGIP convention.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>on_vector</strong> : <a class="reference internal" href="gammapy.spectrum.PHACountsSpectrum.html#gammapy.spectrum.PHACountsSpectrum" title="gammapy.spectrum.PHACountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">PHACountsSpectrum</span></code></a></p>
<blockquote>
<div><p>On vector</p>
</div></blockquote>
<p><strong>aeff</strong> : <a class="reference internal" href="gammapy.irf.EffectiveAreaTable.html#gammapy.irf.EffectiveAreaTable" title="gammapy.irf.EffectiveAreaTable"><code class="xref py py-obj docutils literal"><span class="pre">EffectiveAreaTable</span></code></a></p>
<blockquote>
<div><p>Effective Area</p>
</div></blockquote>
<p><strong>off_vector</strong> : <a class="reference internal" href="gammapy.spectrum.PHACountsSpectrum.html#gammapy.spectrum.PHACountsSpectrum" title="gammapy.spectrum.PHACountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">PHACountsSpectrum</span></code></a>, optional</p>
<blockquote>
<div><p>Off vector</p>
</div></blockquote>
<p><strong>edisp</strong> : <a class="reference internal" href="gammapy.irf.EnergyDispersion.html#gammapy.irf.EnergyDispersion" title="gammapy.irf.EnergyDispersion"><code class="xref py py-obj docutils literal"><span class="pre">EnergyDispersion</span></code></a>, optional</p>
<blockquote class="last">
<div><p>Energy dispersion matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>::</dt>
<dd>from gammapy.spectrum import SpectrumObservation
filename = ‘$GAMMAPY_EXTRA/datasets/hess-crab4_pha/pha_obs23523.fits’
obs = SpectrumObservation.read(filename)
print(obs)</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.alpha" title="gammapy.spectrum.SpectrumObservation.alpha"><code class="xref py py-obj docutils literal"><span class="pre">alpha</span></code></a></td>
<td>Exposure ratio between signal and background regions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.background_vector" title="gammapy.spectrum.SpectrumObservation.background_vector"><code class="xref py py-obj docutils literal"><span class="pre">background_vector</span></code></a></td>
<td>Background <a class="reference internal" href="gammapy.spectrum.CountsSpectrum.html#gammapy.spectrum.CountsSpectrum" title="gammapy.spectrum.CountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">CountsSpectrum</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.e_reco" title="gammapy.spectrum.SpectrumObservation.e_reco"><code class="xref py py-obj docutils literal"><span class="pre">e_reco</span></code></a></td>
<td>Reconstruced energy bounds array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.e_true" title="gammapy.spectrum.SpectrumObservation.e_true"><code class="xref py py-obj docutils literal"><span class="pre">e_true</span></code></a></td>
<td>True energy bounds array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.excess_vector" title="gammapy.spectrum.SpectrumObservation.excess_vector"><code class="xref py py-obj docutils literal"><span class="pre">excess_vector</span></code></a></td>
<td>Excess <a class="reference internal" href="gammapy.spectrum.CountsSpectrum.html#gammapy.spectrum.CountsSpectrum" title="gammapy.spectrum.CountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">CountsSpectrum</span></code></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.hi_threshold" title="gammapy.spectrum.SpectrumObservation.hi_threshold"><code class="xref py py-obj docutils literal"><span class="pre">hi_threshold</span></code></a></td>
<td>High energy threshold</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.livetime" title="gammapy.spectrum.SpectrumObservation.livetime"><code class="xref py py-obj docutils literal"><span class="pre">livetime</span></code></a></td>
<td>Dead-time corrected observation time</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.lo_threshold" title="gammapy.spectrum.SpectrumObservation.lo_threshold"><code class="xref py py-obj docutils literal"><span class="pre">lo_threshold</span></code></a></td>
<td>Low energy threshold</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.nbins" title="gammapy.spectrum.SpectrumObservation.nbins"><code class="xref py py-obj docutils literal"><span class="pre">nbins</span></code></a></td>
<td>Number of reconstruced energy bins</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.obs_id" title="gammapy.spectrum.SpectrumObservation.obs_id"><code class="xref py py-obj docutils literal"><span class="pre">obs_id</span></code></a></td>
<td>Unique identifier</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.total_stats" title="gammapy.spectrum.SpectrumObservation.total_stats"><code class="xref py py-obj docutils literal"><span class="pre">total_stats</span></code></a></td>
<td>Return total <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.total_stats_safe_range" title="gammapy.spectrum.SpectrumObservation.total_stats_safe_range"><code class="xref py py-obj docutils literal"><span class="pre">total_stats_safe_range</span></code></a></td>
<td>Return total <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a> within the tresholds</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.compute_energy_threshold" title="gammapy.spectrum.SpectrumObservation.compute_energy_threshold"><code class="xref py py-obj docutils literal"><span class="pre">compute_energy_threshold</span></code></a>([method_lo,&nbsp;…])</td>
<td>Compute and set the safe energy threshold.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.copy" title="gammapy.spectrum.SpectrumObservation.copy"><code class="xref py py-obj docutils literal"><span class="pre">copy</span></code></a>()</td>
<td>A deep copy.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.peek" title="gammapy.spectrum.SpectrumObservation.peek"><code class="xref py py-obj docutils literal"><span class="pre">peek</span></code></a>([figsize])</td>
<td>Quick-look summary plots.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.predicted_counts" title="gammapy.spectrum.SpectrumObservation.predicted_counts"><code class="xref py py-obj docutils literal"><span class="pre">predicted_counts</span></code></a>(model)</td>
<td>Calculated number of predicted counts given a model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.read" title="gammapy.spectrum.SpectrumObservation.read"><code class="xref py py-obj docutils literal"><span class="pre">read</span></code></a>(filename)</td>
<td>Read <a class="reference internal" href="#gammapy.spectrum.SpectrumObservation" title="gammapy.spectrum.SpectrumObservation"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumObservation</span></code></a> from OGIP files.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.reset_thresholds" title="gammapy.spectrum.SpectrumObservation.reset_thresholds"><code class="xref py py-obj docutils literal"><span class="pre">reset_thresholds</span></code></a>()</td>
<td>Reset energy thresholds (i.e.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.stats" title="gammapy.spectrum.SpectrumObservation.stats"><code class="xref py py-obj docutils literal"><span class="pre">stats</span></code></a>(idx)</td>
<td>Compute stats for one energy bin.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.stats_in_range" title="gammapy.spectrum.SpectrumObservation.stats_in_range"><code class="xref py py-obj docutils literal"><span class="pre">stats_in_range</span></code></a>(bin_min,&nbsp;bin_max)</td>
<td>Compute stats for a range of energy bins.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.stats_table" title="gammapy.spectrum.SpectrumObservation.stats_table"><code class="xref py py-obj docutils literal"><span class="pre">stats_table</span></code></a>()</td>
<td>Per-bin stats as a table.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.to_sherpa" title="gammapy.spectrum.SpectrumObservation.to_sherpa"><code class="xref py py-obj docutils literal"><span class="pre">to_sherpa</span></code></a>()</td>
<td>Convert to <code class="xref py py-obj docutils literal"><span class="pre">DataPHA</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.spectrum.SpectrumObservation.write" title="gammapy.spectrum.SpectrumObservation.write"><code class="xref py py-obj docutils literal"><span class="pre">write</span></code></a>([outdir,&nbsp;use_sherpa,&nbsp;overwrite])</td>
<td>Write OGIP files.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.alpha">
<code class="descname">alpha</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Exposure ratio between signal and background regions</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.background_vector">
<code class="descname">background_vector</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.background_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Background <a class="reference internal" href="gammapy.spectrum.CountsSpectrum.html#gammapy.spectrum.CountsSpectrum" title="gammapy.spectrum.CountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">CountsSpectrum</span></code></a>.</p>
<p>bkg = alpha * n_off</p>
<p>If alpha is a function of energy this will differ from
self.on_vector * self.total_stats.alpha because the latter returns an
average value for alpha.</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.e_reco">
<code class="descname">e_reco</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.e_reco" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruced energy bounds array.</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.e_true">
<code class="descname">e_true</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.e_true" title="Permalink to this definition">¶</a></dt>
<dd><p>True energy bounds array.</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.excess_vector">
<code class="descname">excess_vector</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.excess_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Excess <a class="reference internal" href="gammapy.spectrum.CountsSpectrum.html#gammapy.spectrum.CountsSpectrum" title="gammapy.spectrum.CountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">CountsSpectrum</span></code></a>.</p>
<p>excess = n_on = alpha * n_off</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.hi_threshold">
<code class="descname">hi_threshold</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.hi_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>High energy threshold</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.livetime">
<code class="descname">livetime</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.livetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Dead-time corrected observation time</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.lo_threshold">
<code class="descname">lo_threshold</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.lo_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Low energy threshold</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.nbins">
<code class="descname">nbins</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.nbins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of reconstruced energy bins</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.obs_id">
<code class="descname">obs_id</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.obs_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique identifier</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.total_stats">
<code class="descname">total_stats</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.total_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return total <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.spectrum.SpectrumObservation.total_stats_safe_range">
<code class="descname">total_stats_safe_range</code><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.total_stats_safe_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return total <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a> within the tresholds</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.compute_energy_threshold">
<code class="descname">compute_energy_threshold</code><span class="sig-paren">(</span><em>method_lo='none'</em>, <em>method_hi='none'</em>, <em>reset=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.compute_energy_threshold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.compute_energy_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute and set the safe energy threshold.</p>
<p>Set the high and low energy threshold for each observation based on a
chosen method.</p>
<p>Available methods for setting the low energy threshold:</p>
<ul class="simple">
<li>area_max : Set energy threshold at x percent of the maximum effective
area (x given as kwargs[‘area_percent_lo’])</li>
<li>energy_bias : Set energy threshold at energy where the energy bias
exceeds a value of x percent (given as kwargs[‘bias_percent_lo’])</li>
<li>none : Do not apply a lower threshold</li>
</ul>
<p>Available methods for setting the high energy threshold:</p>
<ul class="simple">
<li>area_max : Set energy threshold at x percent of the maximum effective
area (x given as kwargs[‘area_percent_hi’])</li>
<li>energy_bias : Set energy threshold at energy where the energy bias
exceeds a value of x percent (given as kwargs[‘bias_percent_hi’])</li>
<li>none : Do not apply a higher energy threshold</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method_lo</strong> : {‘area_max’, ‘energy_bias’, ‘none’}</p>
<blockquote>
<div><p>Method for defining the low energy threshold</p>
</div></blockquote>
<p><strong>method_hi</strong> : {‘area_max’, ‘energy_bias’, ‘none’}</p>
<blockquote>
<div><p>Method for defining the high energy threshold</p>
</div></blockquote>
<p><strong>reset</strong> : bool</p>
<blockquote class="last">
<div><p>Reset existing energy thresholds before setting the new ones
(default is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">False</span></code></a>)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>A deep copy.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.peek">
<code class="descname">peek</code><span class="sig-paren">(</span><em>figsize=(10</em>, <em>10)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.peek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.peek" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick-look summary plots.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.predicted_counts">
<code class="descname">predicted_counts</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.predicted_counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.predicted_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculated number of predicted counts given a model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : <a class="reference internal" href="gammapy.spectrum.models.SpectralModel.html#gammapy.spectrum.models.SpectralModel" title="gammapy.spectrum.models.SpectralModel"><code class="xref py py-obj docutils literal"><span class="pre">SpectralModel</span></code></a></p>
<blockquote>
<div><p>Spectral model</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>npred</strong> : <a class="reference internal" href="gammapy.spectrum.CountsSpectrum.html#gammapy.spectrum.CountsSpectrum" title="gammapy.spectrum.CountsSpectrum"><code class="xref py py-obj docutils literal"><span class="pre">CountsSpectrum</span></code></a></p>
<blockquote class="last">
<div><p>Predicted counts</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gammapy.spectrum.SpectrumObservation.read">
<em class="property">classmethod </em><code class="descname">read</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read <a class="reference internal" href="#gammapy.spectrum.SpectrumObservation" title="gammapy.spectrum.SpectrumObservation"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumObservation</span></code></a> from OGIP files.</p>
<p>BKG file, ARF, and RMF must be set in the PHA header and be present in
the same folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote class="last">
<div><p>OGIP PHA file to read</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.reset_thresholds">
<code class="descname">reset_thresholds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.reset_thresholds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.reset_thresholds" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset energy thresholds (i.e. declare all energy bins valid)</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.stats">
<code class="descname">stats</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute stats for one energy bin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : int</p>
<blockquote>
<div><p>Energy bin index</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>stats</strong> : <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a></p>
<blockquote class="last">
<div><p>Stats</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.stats_in_range">
<code class="descname">stats_in_range</code><span class="sig-paren">(</span><em>bin_min</em>, <em>bin_max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.stats_in_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.stats_in_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute stats for a range of energy bins.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bin_min, bin_max: int</strong></p>
<blockquote>
<div><p>Bins to include</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>stats</strong> : <a class="reference internal" href="gammapy.spectrum.SpectrumStats.html#gammapy.spectrum.SpectrumStats" title="gammapy.spectrum.SpectrumStats"><code class="xref py py-obj docutils literal"><span class="pre">SpectrumStats</span></code></a></p>
<blockquote class="last">
<div><p>Stacked stats</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.stats_table">
<code class="descname">stats_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.stats_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.stats_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Per-bin stats as a table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>table</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v3.1.dev21536)"><code class="xref py py-obj docutils literal"><span class="pre">Table</span></code></a></p>
<blockquote class="last">
<div><p>Table with stats for one energy bin in one row.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.to_sherpa">
<code class="descname">to_sherpa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.to_sherpa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.to_sherpa" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to <code class="xref py py-obj docutils literal"><span class="pre">DataPHA</span></code>.</p>
<p>Associated background vectors and IRFs are also translated to sherpa
objects and appended to the PHA instance.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.spectrum.SpectrumObservation.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>outdir=None</em>, <em>use_sherpa=False</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/spectrum/observation.html#SpectrumObservation.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.spectrum.SpectrumObservation.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write OGIP files.</p>
<p>If you want to use the written files with Sherpa you have to set the
<code class="docutils literal"><span class="pre">use_sherpa</span></code> flag. Then all files will be written in units ‘keV’ and
‘cm2’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outdir</strong> : <code class="xref py py-obj docutils literal"><span class="pre">Path</span></code></p>
<blockquote>
<div><p>output directory, default: pwd</p>
</div></blockquote>
<p><strong>use_sherpa</strong> : bool, optional</p>
<blockquote>
<div><p>Write Sherpa compliant files, default: False</p>
</div></blockquote>
<p><strong>overwrite</strong> : bool, optional</p>
<blockquote class="last">
<div><p>Overwrite, default: True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">SpectrumObservation</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/gammapy.spectrum.SpectrumObservation.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>