
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Access datasets (gammapy.datasets) &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulate event lists" href="make_datasets.html" />
    <link rel="prev" title="observatory_locations" href="../api/gammapy.data.observatory_locations.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="make_datasets.html" title="Simulate event lists">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../api/gammapy.data.observatory_locations.html" title="observatory_locations">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      
      <li>Access datasets (<code class="docutils literal"><span class="pre">gammapy.datasets</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="access-datasets-gammapy-datasets">
<span id="datasets"></span><h1>Access datasets (<a class="reference internal" href="#module-gammapy.datasets" title="gammapy.datasets"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.datasets</span></code></a>)<a class="headerlink" href="#access-datasets-gammapy-datasets" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#module-gammapy.datasets" title="gammapy.datasets"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.datasets</span></code></a> contains function to easily access datasets that are
relevant for gamma-ray astronomy.</p>
<p>The functions have a naming pattern (following the <a class="reference external" href="http://scikit-learn.org/stable/modules/classes.html#module-sklearn.datasets" title="(in scikit-learn v0.19.1)"><code class="xref py py-obj docutils literal"><span class="pre">sklearn.datasets</span></code></a> lead):</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">load_*</span></code> functions load datasets that are distributed with Gammapy (bundled in the repo)</li>
<li><code class="docutils literal"><span class="pre">fetch_*</span></code> functions fetch datasets from the web (either from <code class="docutils literal"><span class="pre">gammapy-extra</span></code> or other sites)</li>
<li><code class="docutils literal"><span class="pre">make_*</span></code> functions create datasets programatically (sometimes involving a random number generator)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="#module-gammapy.datasets" title="gammapy.datasets"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.datasets</span></code></a> sub-package shouldn’t be confused with the <a class="reference internal" href="../data/index.html#module-gammapy.data" title="gammapy.data"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.data</span></code></a>
sub-package, which contains classes representing gamma-ray data.
And there is a separate section describing the <a class="reference internal" href="../dataformats/index.html#dataformats"><span class="std std-ref">Data Formats</span></a>
that are commonly used in gamma-ray astronomy.</p>
</div>
</div>
<div class="section" id="gammapy-extra">
<span id="gammapyextra"></span><h2>gammapy-extra<a class="headerlink" href="#gammapy-extra" title="Permalink to this headline">¶</a></h2>
<p>To keep the Gammapy code repository at <a class="reference external" href="https://github.com/gammapy/gammapy">https://github.com/gammapy/gammapy</a> small and clean,
we are putting sample data files and IPython notebooks in an extra repository
at <a class="reference external" href="https://github.com/gammapy/gammapy-extra/">https://github.com/gammapy/gammapy-extra/</a> .</p>
<p>To get the repository, <code class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span></code> it to a location of your choosing using a git protocol of your choosing
(try HTTPS or see the <a class="reference external" href="https://help.github.com/articles/which-remote-url-should-i-use/">Github clone URL help article</a> if you’re not sure which you want).</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/gammapy/gammapy-extra.git
git clone git@github.com:gammapy/gammapy-extra.git
</pre></div>
</div>
<p>If you don’t have git, you can also fetch the latest version as a zip file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>wget https://github.com/gammapy/gammapy-extra/archive/master.zip
unzip master.zip <span class="c1"># will result in a `gammapy-extra-master` folder</span>
</pre></div>
</div>
<p>The Gammapy tests, docs generator, examples and tutorials will access files from the <code class="docutils literal"><span class="pre">gammapy-extra</span></code>
repo using the <a class="reference internal" href="../api/gammapy.datasets.gammapy_extra.html#gammapy.datasets.gammapy_extra" title="gammapy.datasets.gammapy_extra"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.datasets.gammapy_extra</span></code></a> object.</p>
<p>For this to work, you have to set the <code class="docutils literal"><span class="pre">GAMMAPY_EXTRA</span></code> shell environment variable to point to that folder.
We suggest you put this in you <code class="docutils literal"><span class="pre">.bashrc</span></code> or <code class="docutils literal"><span class="pre">.profile</span></code></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">GAMMAPY_EXTRA</span><span class="o">=</span>/path/on/your/machine/to/gammapy-extra
</pre></div>
</div>
<p>After you’ve done this, open up a new terminal (or <code class="docutils literal"><span class="pre">source</span> <span class="pre">.profile</span></code>) and check if <code class="docutils literal"><span class="pre">gammapy-extra</span></code> is found:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># TODO: make this print some info about gammapy-extra (including a version!!!)</span>
gammapy info
</pre></div>
</div>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gammapy.datasets</span> <span class="kn">import</span> <span class="n">gammapy_extra</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gammapy_extra</span><span class="o">.</span><span class="n">filename</span><span class="p">(</span><span class="s1">&#39;logo/gammapy_banner.png&#39;</span><span class="p">)</span>
<span class="go">&#39;/Users/deil/code/gammapy-extra/logo/gammapy_banner.png&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="gamma-cat">
<span id="gammapy-cat"></span><h2>Gamma-cat<a class="headerlink" href="#gamma-cat" title="Permalink to this headline">¶</a></h2>
<p>Gamma-cat is an open catalog for TeV gamma-ray sources. It is maintained as an
open git repository and hosted on github. To get the data you can use the
<code class="xref py py-obj docutils literal"><span class="pre">git</span> <span class="pre">clone</span></code> command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/gammapy/gamma-cat.git
git clone git@github.com:gammapy/gamma-cat.git
</pre></div>
</div>
<p>If you don’t have git, you can also fetch the latest version as a zip file as well:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>wget https://github.com/gammapy/gamma-cat/archive/master.zip
unzip master.zip <span class="c1"># will result in a `gamma-cat-master` folder</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../api/gammapy.catalog.SourceCatalogGammaCat.html#gammapy.catalog.SourceCatalogGammaCat" title="gammapy.catalog.SourceCatalogGammaCat"><code class="xref py py-obj docutils literal"><span class="pre">SourceCatalogGammaCat</span></code></a> and <a class="reference internal" href="../api/gammapy.catalog.SourceCatalogObjectGammaCat.html#gammapy.catalog.SourceCatalogObjectGammaCat" title="gammapy.catalog.SourceCatalogObjectGammaCat"><code class="xref py py-obj docutils literal"><span class="pre">SourceCatalogObjectGammaCat</span></code></a>
classes need to know where the gamma-cat repository is located on your machine.
For this reason the <code class="docutils literal"><span class="pre">GAMMA_CAT</span></code> shell environment variable has to be set using:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">GAMMAPY_CAT</span><span class="o">=</span>/path/on/your/machine/to/gamma-cat
</pre></div>
</div>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Example how to load a dataset that is distributed with the code
in the <code class="docutils literal"><span class="pre">gammapy</span></code> repo (i.e. will be available even if you’re offline)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gammapy.datasets</span> <span class="kn">import</span> <span class="n">load_crab_flux_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flux_points</span> <span class="o">=</span> <span class="n">load_crab_flux_points</span><span class="p">()</span>
</pre></div>
</div>
<p>Example how to fetch a dataset from the web (i.e. will download to
the Astropy cache and need internet access on first call):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gammapy.datasets</span> <span class="kn">import</span> <span class="n">fetch_fermi_diffuse_background_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">catalog</span> <span class="o">=</span> <span class="n">fetch_fermi_diffuse_background_model</span><span class="p">()</span>
</pre></div>
</div>
<p>TODO: explain how the Astropy cache works and make it configurable for Gammapy.</p>
<p>Example how to make a dataset (from scratch, no file is loaded):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gammapy.datasets</span> <span class="kn">import</span> <span class="n">make_test_psf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psf</span> <span class="o">=</span> <span class="n">make_test_psf</span><span class="p">(</span><span class="n">energy_bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-gammapy-datasets">
<h2>Using <a class="reference internal" href="#module-gammapy.datasets" title="gammapy.datasets"><code class="xref py py-obj docutils literal"><span class="pre">gammapy.datasets</span></code></a><a class="headerlink" href="#using-gammapy-datasets" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="make_datasets.html">Simulate event lists</a></li>
</ul>
</div>
</div>
<div class="section" id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-gammapy.datasets">
<span id="gammapy-datasets-package"></span><h3>gammapy.datasets Package<a class="headerlink" href="#module-gammapy.datasets" title="Permalink to this headline">¶</a></h3>
<p>Access datasets.</p>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.fetch_fermi_diffuse_background_model.html#gammapy.datasets.fetch_fermi_diffuse_background_model" title="gammapy.datasets.fetch_fermi_diffuse_background_model"><code class="xref py py-obj docutils literal"><span class="pre">fetch_fermi_diffuse_background_model</span></code></a>([filename])</td>
<td>Fetch Fermi diffuse background model.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.load_crab_flux_points.html#gammapy.datasets.load_crab_flux_points" title="gammapy.datasets.load_crab_flux_points"><code class="xref py py-obj docutils literal"><span class="pre">load_crab_flux_points</span></code></a>([component])</td>
<td>Load published Crab pulsar and nebula flux points.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.load_diffuse_gamma_spectrum.html#gammapy.datasets.load_diffuse_gamma_spectrum" title="gammapy.datasets.load_diffuse_gamma_spectrum"><code class="xref py py-obj docutils literal"><span class="pre">load_diffuse_gamma_spectrum</span></code></a>(reference)</td>
<td>Load published diffuse gamma-ray spectrum.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.load_electron_spectrum.html#gammapy.datasets.load_electron_spectrum" title="gammapy.datasets.load_electron_spectrum"><code class="xref py py-obj docutils literal"><span class="pre">load_electron_spectrum</span></code></a>(reference)</td>
<td>Load published electron spectrum.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.load_lat_psf_performance.html#gammapy.datasets.load_lat_psf_performance" title="gammapy.datasets.load_lat_psf_performance"><code class="xref py py-obj docutils literal"><span class="pre">load_lat_psf_performance</span></code></a>(performance_file)</td>
<td>Loads Fermi-LAT TOTAL PSF performance data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.load_poisson_stats_image.html#gammapy.datasets.load_poisson_stats_image" title="gammapy.datasets.load_poisson_stats_image"><code class="xref py py-obj docutils literal"><span class="pre">load_poisson_stats_image</span></code></a>([extra_info,&nbsp;…])</td>
<td>Load Poisson statistics counts image of a Gaussian source on flat background.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.load_tev_spectrum.html#gammapy.datasets.load_tev_spectrum" title="gammapy.datasets.load_tev_spectrum"><code class="xref py py-obj docutils literal"><span class="pre">load_tev_spectrum</span></code></a>(source_name)</td>
<td>Load published TeV flux point measurements.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.make_test_bg_cube_model.html#gammapy.datasets.make_test_bg_cube_model" title="gammapy.datasets.make_test_bg_cube_model"><code class="xref py py-obj docutils literal"><span class="pre">make_test_bg_cube_model</span></code></a>([detx_range,&nbsp;…])</td>
<td>Make a test bg cube model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.make_test_dataset.html#gammapy.datasets.make_test_dataset" title="gammapy.datasets.make_test_dataset"><code class="xref py py-obj docutils literal"><span class="pre">make_test_dataset</span></code></a>(outdir[,&nbsp;overwrite,&nbsp;…])</td>
<td>Make a test dataset and save it to disk.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.make_test_eventlist.html#gammapy.datasets.make_test_eventlist" title="gammapy.datasets.make_test_eventlist"><code class="xref py py-obj docutils literal"><span class="pre">make_test_eventlist</span></code></a>(observation_table,&nbsp;obs_id)</td>
<td>Make a test event list for a specified observation.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.make_test_observation_table.html#gammapy.datasets.make_test_observation_table" title="gammapy.datasets.make_test_observation_table"><code class="xref py py-obj docutils literal"><span class="pre">make_test_observation_table</span></code></a>([…])</td>
<td>Make a test observation table.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.make_test_psf.html#gammapy.datasets.make_test_psf" title="gammapy.datasets.make_test_psf"><code class="xref py py-obj docutils literal"><span class="pre">make_test_psf</span></code></a>([energy_bins,&nbsp;theta_bins])</td>
<td>Create a test FITS PSF file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.Datasets.html#gammapy.datasets.Datasets" title="gammapy.datasets.Datasets"><code class="xref py py-obj docutils literal"><span class="pre">Datasets</span></code></a>([config])</td>
<td>Download and access for all built-in datasets.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.FermiGalacticCenter.html#gammapy.datasets.FermiGalacticCenter" title="gammapy.datasets.FermiGalacticCenter"><code class="xref py py-obj docutils literal"><span class="pre">FermiGalacticCenter</span></code></a></td>
<td>Fermi high-energy data for the Galactic center region.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.FermiLATDataset.html#gammapy.datasets.FermiLATDataset" title="gammapy.datasets.FermiLATDataset"><code class="xref py py-obj docutils literal"><span class="pre">FermiLATDataset</span></code></a>(filename)</td>
<td>Fermi dataset container class, with lazy data access.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../api/gammapy.datasets.FermiVelaRegion.html#gammapy.datasets.FermiVelaRegion" title="gammapy.datasets.FermiVelaRegion"><code class="xref py py-obj docutils literal"><span class="pre">FermiVelaRegion</span></code></a></td>
<td>Fermi high-energy data for the Vela region.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="variables">
<h4>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../api/gammapy.datasets.gammapy_extra.html#gammapy.datasets.gammapy_extra" title="gammapy.datasets.gammapy_extra"><code class="xref py py-obj docutils literal"><span class="pre">gammapy_extra</span></code></a></td>
<td>Module-level variable to access gammapy-extra.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Access datasets (<code class="docutils literal"><span class="pre">gammapy.datasets</span></code>)</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#gammapy-extra">gammapy-extra</a></li>
<li><a class="reference internal" href="#gamma-cat">Gamma-cat</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#using-gammapy-datasets">Using <code class="docutils literal"><span class="pre">gammapy.datasets</span></code></a></li>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-gammapy.datasets">gammapy.datasets Package</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#variables">Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/datasets/index.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>