
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PIG 1 - PIG purpose and guidelines &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="PIGs" href="index.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="index.html" title="PIGs">
	  &laquo; previous
	</a>
	
      </li>
      <li>
	<a href="../../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      <li><a href="../index.html" >Developer documentation</a> &#187;</li>
      <li><a href="index.html" accesskey="U">PIGs</a> &#187;</li>
      
      <li>PIG 1 - PIG purpose and guidelines</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pig-1-pig-purpose-and-guidelines">
<span id="pig-001"></span><h1>PIG 1 - PIG purpose and guidelines<a class="headerlink" href="#pig-1-pig-purpose-and-guidelines" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Author: Christoph Deil</li>
<li>Created: December 20, 2017</li>
<li>Accepted: Jan 9, 2018</li>
<li>Status: accepted</li>
<li>Discussion: <a class="reference external" href="https://github.com/gammapy/gammapy/pull/1239">GH 1239</a></li>
</ul>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>PIG stands for “proposal for improvement of Gammapy”. This is PIG 1,
describing the purpose of using PIGs as well as giving some guidelines
on how PIGs are authored, discussed and reviewed.</p>
</div>
<div class="section" id="what-is-a-pig">
<h2>What is a PIG?<a class="headerlink" href="#what-is-a-pig" title="Permalink to this headline">¶</a></h2>
<p>This article is about the design document . For other uses, see <a class="reference external" href="https://en.wikipedia.org/wiki/Pig_(disambiguation)">Pig (disambiguation)</a></p>
<p>Proposals for improvement of Gammapy (PIGs) are short documents proposing a major
addition or change to Gammapy.</p>
<p>PIGs are like <a class="reference external" href="https://github.com/astropy/astropy-APEs">APEs</a>, <a class="reference external" href="https://www.python.org/dev/peps/pep-0001/">PEPs</a>, <a class="reference external" href="https://docs.scipy.org/doc/numpy-dev/neps/index.html">NEPs</a> and <a class="reference external" href="https://github.com/jupyter/enhancement-proposals">JEPs</a>, just for Gammapy.
Using such enhancement proposals is common for large and long-term
open-source Python projects.</p>
<p>The primary goal of PIGs is to have an open
and structured way of working on Gammapy, forcing the person making the
change to think it through and motivate the proposal before taking action,
and for others to have a chance to review and comment on the proposal. The PIGs will also
serve as a record of major design decisions taken in Gammapy, which can
be useful in the future when things are re-discussed or new proposals to
do things differently arrive.</p>
<p>We expect that we will not use PIGs very often, but we think they can be useful
e.g. in the following cases:</p>
<ul class="simple">
<li>Outline design for something that requires significant work,
e.g. on topics like “Modeling in Gammapy” or “High-level user interface in Gammapy”.
These PIGs can be rather long, i.e. more than one page, explaining the
design in detail and even explaining which alternatives were
considered and why the proposed solution was preferred.</li>
<li>Have a conscious decision and make sure all interested parties
are aware for things that might be controversial and have long-term
effects for Gammapy, e.g. when to drop Python 2 support or defining
a release cycle for Gammapy. These PIGs can usually be very short, a page or less.</li>
</ul>
</div>
<div class="section" id="writing-a-pig">
<h2>Writing a PIG<a class="headerlink" href="#writing-a-pig" title="Permalink to this headline">¶</a></h2>
<p>Anyone is welcome to write a PIG!</p>
<p>PIGs are written as RST files in the <code class="docutils literal"><span class="pre">docs/development/pigs</span></code> folder in the
main Gammapy repository, and submitted as pull requests.</p>
<p>Most discussions concerning Gammapy will happen by talking to each other directly
(calls or face-to-face), or online on the mailing list or Github.
If you’re not sure if you should write a PIG, please don’t! Instead bring the
topic up in discussions first with other Gammapy developers, or on the mailing list,
to get some initial feedback. This will let you figure out if writing a PIG
will be helpful or not to realise your proposal.</p>
<p>When starting to write a PIG, we suggest you copy &amp; paste &amp; update the header
at the top of this file, i.e. the title, bullet list with “Author” etc, up to
the <code class="docutils literal"><span class="pre">Abstract</span></code> section. A PIG must have a number. If you’re not sure what
the next free number is, put <code class="docutils literal"><span class="pre">X</span></code> and filename <code class="docutils literal"><span class="pre">pig-XXX.rst</span></code> as placeholders,
make the pull request, and we’ll let you know what number to put.</p>
<p>Please make your proposal clearly and keep the initial proposal short.
If more information is needed, people that will review it will ask for it.</p>
<p>In term of content, we don’t require a formal structure for a PIG. We do suggest
that you start with an “Abstract” explaining the proposal in one or a few sentences,
followed by a section motivating the change or addition. Then usually there will be
a detailed description, and at the end or interspersed there will often be some
comments about alternative options that have been discussed and explanation why
proposed one was favoured. Usually a short “Decision rationale” section will be added
at the end of the document after discussion by the reviewers.</p>
<p>If you’re not sure how to structure your proposal, you could have a look at
at the <a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APEtemplate.rst">APE template</a> or some well-written <a class="reference external" href="https://github.com/astropy/astropy-APEs">APEs</a> or <a class="reference external" href="https://www.python.org/dev/peps/pep-0001/">PEPs</a>.
<a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE5.rst">APE 5</a>, <a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE7.rst">APE 7</a> and <a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE13.rst">APE 13</a> are examples of “design documents”,
outlining major changes / extensions to existing code in Astropy.
<a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE2.rst">APE 2</a> and <a class="reference external" href="https://github.com/astropy/astropy-APEs/blob/master/APE10.rst">APE 10</a> are examples of “process” proposals, outlining a release cycle for
Astropy and a timeline for dropping Python 2 support.
<a class="reference external" href="https://www.python.org/dev/peps/pep-0389/">PEP 389</a> is a good example proposing an improvement in the Python standard library,
in that case by adding a new module <code class="docutils literal"><span class="pre">argparse</span></code>, leaving the existing <code class="docutils literal"><span class="pre">optparse</span></code>
alone for backward-compatibility reasons. In Gammapy many PIGs will also be about
implementing better solutions and a major question will be whether to change and improve
the existing implementation, or whether to just put a new one, and in that case what
the plan concerning the old code is. <a class="reference external" href="https://www.python.org/dev/peps/pep-0481/">PEP 481</a> is an example of a “process” PEP,
proposing to move CPython development to git and Github. For Gammapy, we might also have
“process” PIGs in the future, e.g. concerning release cycle or package distribution
or support for users and other projects relying on Gammapy. It’s good to think these
things through and write them down to make sure it’s clear how things work and what
the plan for the future is.</p>
<p>Writing a PIG doesn’t mean you have to implement it. That said, we expect that
most PIGs will propose something that requires developments where someone has
the intention to implement it within the near future (say within the next year).
But it’s not required, e.g. if you have a great idea or vision for Gammapy
that requires a lot of development, without the manpower to execute the idea,
writing a PIG could be a nice way to share this idea in some detail, with the
hope that in collaboration with others it can eventually be realised.</p>
</div>
<div class="section" id="pig-review">
<h2>PIG review<a class="headerlink" href="#pig-review" title="Permalink to this headline">¶</a></h2>
<p>PIG review happens on the pull request on Github.</p>
<p>When a PIG is put up, an announcement with a link to the pull request should
be sent both to the Gammapy mailing list and the Gammapy coordinator list.</p>
<p>Anyone is welcome to review it and is encouraged to share their thoughts
in the discussion!</p>
<p>Please note that Github hides inline comments after they have been edited,
so we suggest that you use inline comments for minor points like spelling mistakes only.
Put your main feedback as normal comments in the “Conversation” tab,
so that for someone reading the discussion later they will see your comment directly.</p>
<p>The final decision on any PIG is made by the Gammapy coordination committee.
We expect that in most cases, the people participating in the PIG review will
reach a consensus and the coordination committee will follow the outcome
of the public discussion. But in unusual cases where disagreement remains,
the coordination committee will talk to the people involved in the discussion
with the goal to reach consensus or compromise, and then make the final decision.</p>
</div>
<div class="section" id="pig-status">
<h2>PIG status<a class="headerlink" href="#pig-status" title="Permalink to this headline">¶</a></h2>
<p>PIGs can have a status of:</p>
<ul class="simple">
<li>“draft” - in draft status, either in the writing or discussion phase</li>
<li>“withdrawn” - withdrawn by the author</li>
<li>“accepted” - accepted by the coordination committee</li>
<li>“rejected” - rejected by the coordination committee</li>
</ul>
<p>When a PIG is put up for discussion as a pull request, it should have a status of
“draft”. Then once the discussion and review is done, the status will change to
one of “withdrawn”, “accepted” or “rejected”. The reviewers should add a section
“Decision rationale” with a sentence or paragraph summarising the discussion and
decision on this PIG. Then in any case, the PIG should be merged, even if it’s
status is “withdrawn” or “rejected”.</p>
</div>
<div class="section" id="final-remarks">
<h2>Final remarks<a class="headerlink" href="#final-remarks" title="Permalink to this headline">¶</a></h2>
<p>This PIG leaves some points open.
This is intentional. We want to keep the process flexible
and first gain some experience. The goal of PIGs is to help the Gammapy developer
team to be more efficient, not to have a rigid or bureaucratic process.</p>
<p>Specifically the following points remain flexible:</p>
<ul class="simple">
<li>When to merge a PIG? There can be cases where the PIG is merged quickly,
as an outline or design document, even if the actual implementation hasn’t
been done yet. There can be other cases where the PIG pull request remains
open for a long time, because the proposal is too vague or requires prototyping
to be evaluated properly. Note that this is normal, e.g. Python <a class="reference external" href="https://www.python.org/dev/peps/pep-0001/">PEPs</a> are usually
only accepted once all development is done and a full implementation exists.</li>
<li>Allow edits of existing PIGs? We don’t say if PIGs are supposed to be fixed
or live documents. We expect that some will remain fixed, while others will
be edited after being merged. E.g. for this PIG 1 we expect that over the years
as we gain experience with the PIG process and see what works well and what
doesn’t, that edits will be made with clarifications or even changes.
Whether to edit an existing PIG or whether to write a new follow-up PIG will
be discussed on a case by case basis.</li>
<li>What to do if the coordination committee doesn’t agree on some PIG?
For now, we leave this question to the future. We expect that this scenario
might arise, it’s normal that opinions on technical solutions or importance
of use cases or projects to support with Gammapy differ. We also expect
that Gammapy coordination committee members will be friendly people that
can collaborate and find a solution or at least compromise that works for everyone.</li>
</ul>
</div>
<div class="section" id="decision-rationale">
<h2>Decision rationale<a class="headerlink" href="#decision-rationale" title="Permalink to this headline">¶</a></h2>
<p>This PIG was discussed extensively in <a class="reference external" href="https://github.com/gammapy/gammapy/pull/1239">GH 1239</a>, resulting in several improvements and additions.
Everyone thought it was one honking good idea - let’s do more of those!</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">PIG 1 - PIG purpose and guidelines</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#what-is-a-pig">What is a PIG?</a></li>
<li><a class="reference internal" href="#writing-a-pig">Writing a PIG</a></li>
<li><a class="reference internal" href="#pig-review">PIG review</a></li>
<li><a class="reference internal" href="#pig-status">PIG status</a></li>
<li><a class="reference internal" href="#final-remarks">Final remarks</a></li>
<li><a class="reference internal" href="#decision-rationale">Decision rationale</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../../_sources/development/pigs/pig-001.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>