
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation with Macports &#8212; gammapy v0.7</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Other package managers" href="other.html" />
    <link rel="prev" title="Installation with pip or setup.py" href="pip.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="other.html" title="Other package managers">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="pip.html" title="Installation with pip or setup.py">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7</a>
	 &#187;
      </li>
      <li><a href="index.html" accesskey="U">Installation</a> &#187;</li>
      
      <li>Installation with Macports</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-with-macports">
<span id="install-macports"></span><h1>Installation with Macports<a class="headerlink" href="#installation-with-macports" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://www.macports.org/">Macports</a> is a popular package manager on Mac.
Gammapy is available via Macports.</p>
<p>To install Gammapy and it’s core dependencies:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo port install py36-gammapy
</pre></div>
</div>
<p>The commands to update Gammapy and it’s dependencies to the latest stable versions are:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo port selfupdate
sudo port upgrade outdated
</pre></div>
</div>
<p>The rest of this section is a quick crash course about Macports, to explain the most common
commands and how to set up and check things. There’s not really anything Gammapy-specific
here, but we thought it might be useful to summarise this information for Macports users here.</p>
<p>To check that Gammapy is installed, and which version you have:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>port installed <span class="s1">&#39;*gammapy&#39;</span>
/opt/local/bin/python3.5 -c <span class="s1">&#39;import gammapy; print(gammapy.__version__)&#39;</span>
</pre></div>
</div>
<p>Macports supports several versions of Python, so you can choose the one you want.
Parallel installation of multiple Python versions works well, but is only really useful for developers.
So if you want Python 2.7 or Python 3.6, you would have to adapt the commands given in this section
to use that version number instead. If you’re not sure which version to use, at this time (January 2017)
we recommend you choose Python 3.5 (because Python 3 is the future, and 3.6 was just released and there
are still a few minor issues being ironed out).</p>
<p>Usually if you’re using Macports, you will add this line to your <code class="docutils literal"><span class="pre">~/.profile</span></code> file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/opt/local/bin:/opt/local/sbin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>This means that you can just execute Python via <code class="docutils literal"><span class="pre">python3.5</span></code> and will get the Macports Python
(and not some other Python, like e.g. the system Python in <code class="docutils literal"><span class="pre">/usr/bin</span></code> or an Anaconda Python in <code class="docutils literal"><span class="pre">$HOME</span></code>).</p>
<p>Macports also has a convenience command <code class="docutils literal"><span class="pre">port</span> <span class="pre">select</span></code> built in to select a given Python version:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo port <span class="k">select</span> python python36
</pre></div>
</div>
<p>This will create a symbolic link <code class="docutils literal"><span class="pre">/opt/local/bin/python</span> <span class="pre">-&gt;</span> <span class="pre">/opt/local/bin/python3.5</span></code> and means that
now if you execute <code class="docutils literal"><span class="pre">python</span></code>, you will get the Macports Python 3.5.
If you’re not sure what your configuration is, you can use these commands to find out:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>port <span class="k">select</span> --summary <span class="c1"># show selection and list other things where one can select a default version</span>
which python
ls -l <span class="sb">`</span>which python<span class="sb">`</span>
python --version
</pre></div>
</div>
<p>From here on out, we assume that you’ve done this setup and <code class="docutils literal"><span class="pre">python</span></code> is the correct Python you want to use.</p>
<p>Many other software, including several optional dependencies of Gammapy, is available via Macports.
Here’s some examples for some scientific computing and astronomy packages:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo port install <span class="se">\</span>
    py36-pip py36-pytest <span class="se">\</span>
    py36-scipy py36-matplotlib py36-scikit-image py36-scikit-learn <span class="se">\</span>
    py36-pandas py36-emcee py36-h5py py36-ipython py36-uncertainties <span class="se">\</span>
    py36-healpy py36-cython
</pre></div>
</div>
<p>To search which software is available in Macports (searches package name and description):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>port search &lt;name&gt;
</pre></div>
</div>
<p>There are about 100,000 Python packages on <a class="reference external" href="https://pypi.python.org">PyPI</a>. Many of those aren’t re-packaged and available in Macports,
and some are outdated (although usually Macports packages are updated within days or weeks of the release
of new package versions).</p>
<p>Using the Macports Python as the basis, you can use the Macports pip to install more Python packages.
The default should be to use Macports and to only pip install what’s not available there,
because then updates usually just work (see commands above), whereas with pip it’s usually a more manual process.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -m pip install --no-deps --user <span class="se">\</span>
    naima photutils reproject astroplan iminuit
</pre></div>
</div>
<p>There’s a few things worth pointing out about how we execute <code class="docutils literal"><span class="pre">pip</span></code> to install packages:</p>
<ul class="simple">
<li>Instead of using the command line tool <code class="docutils literal"><span class="pre">pip</span></code>, we’re executing via <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span></code>.
This is because users frequently accidentally execute the wrong pip (e.g. from system Python or Anaconda)
that happens to be on their <code class="docutils literal"><span class="pre">$PATH</span></code> and then either the install fails, or it succeeds but then
trying to import the package fails because it’s in a <code class="docutils literal"><span class="pre">site-packages</span></code> folder that’s unrelated
to the <code class="docutils literal"><span class="pre">python</span></code> they are using.</li>
<li>The <code class="docutils literal"><span class="pre">--no-deps</span></code> option instructs <code class="docutils literal"><span class="pre">pip</span></code> to not recursively fetch and install all dependencies.
Of course, auto-installing all dependencies can be convenient, but it also often happens that
this leads to the installation of many packages (e.g. Numpy, Scipy, ….) and is not what you want.
So being explicit about which packages to install is the safer thing to do here.</li>
<li>We’re not using <code class="docutils literal"><span class="pre">sudo</span></code> here and we are using the <code class="docutils literal"><span class="pre">--user</span></code> option. Using <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span></code>
would result in the installation of packages in
<code class="docutils literal"><span class="pre">opt/local/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages</span></code>,
the <code class="docutils literal"><span class="pre">site-packages</span></code> folder where Macports installs packages.
This will usually work, but can then cause problems later on when you try to upgrade or add packages
via <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">port</span> <span class="pre">install</span></code>. Macports updates work so well because it is very well organised and e.g. keeps
manifests of all files installed (you can list them with <code class="docutils literal"><span class="pre">port</span> <span class="pre">contents</span> <span class="pre">py36-gammapy</span></code>). So basically,
to not mess with this, you should never touch files in <code class="docutils literal"><span class="pre">/opt/local</span></code> except through <code class="docutils literal"><span class="pre">port</span></code> commands.
The <code class="docutils literal"><span class="pre">--user</span></code> option of <code class="docutils literal"><span class="pre">pip</span></code> means “install in my user site-packages folder”, which at this time
on macOS is <code class="docutils literal"><span class="pre">/Users/&lt;username&gt;/Library/Python/3.5/lib/python/site-packages</span></code> and is by default on the
list of folders searched by Python to find packages to import.</li>
</ul>
<p>To uninstall Python packages:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo port uninstall &lt;packagename&gt;
python -m pip uninstall &lt;packagename&gt;
</pre></div>
</div>
<p>To check where a given package you’re using is installed:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python -c <span class="s1">&#39;import numpy; print(numpy.__file__)&#39;</span>
python -c <span class="s1">&#39;import gammapy; print(gammapy.__file__)&#39;</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Installation with Macports</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/install/macports.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.7. &nbsp;
    Last built 01 Mar 2018. <br/>
  </p>
</footer>
  </body>
</html>