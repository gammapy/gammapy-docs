
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HpxMapSparse &#8212; gammapy v0.7.dev5391</title>
    <link rel="stylesheet" href="../_static/gammapy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.dev5391',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/astropy_logo.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MapAxis" href="gammapy.maps.MapAxis.html" />
    <link rel="prev" title="HpxMapND" href="gammapy.maps.HpxMapND.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>
<script type="text/javascript" src="../_static/copybutton.js"></script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">gamma</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="gammapy.maps.MapAxis.html" title="MapAxis">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="gammapy.maps.HpxMapND.html" title="HpxMapND">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">gammapy v0.7.dev5391</a>
	 &#187;
      </li>
      <li><a href="../maps/index.html" accesskey="U">Data Structures for Images and Cubes (<code class="docutils literal"><span class="pre">gammapy.maps</span></code>)</a> &#187;</li>
      
      <li>HpxMapSparse</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hpxmapsparse">
<h1>HpxMapSparse<a class="headerlink" href="#hpxmapsparse" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gammapy.maps.HpxMapSparse">
<em class="property">class </em><code class="descclassname">gammapy.maps.</code><code class="descname">HpxMapSparse</code><span class="sig-paren">(</span><em>geom</em>, <em>data=None</em>, <em>dtype='float32'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.hpxmap.HpxMap"><code class="docutils literal"><span class="pre">gammapy.maps.HpxMap</span></code></a></p>
<p>Representation of a N+2D map using HEALPIX with two spatial
dimensions and N non-spatial dimensions.</p>
<p>This class uses a sparse matrix for HEALPix pixel values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.HpxGeom.html#gammapy.maps.HpxGeom" title="gammapy.maps.HpxGeom"><code class="xref py py-obj docutils literal"><span class="pre">HpxGeom</span></code></a></p>
<blockquote>
<div><p>HEALPIX geometry object.</p>
</div></blockquote>
<p><strong>data</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>HEALPIX data array.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.data" title="gammapy.maps.HpxMapSparse.data"><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></a></td>
<td>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.geom" title="gammapy.maps.HpxMapSparse.geom"><code class="xref py py-obj docutils literal"><span class="pre">geom</span></code></a></td>
<td>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.create" title="gammapy.maps.HpxMapSparse.create"><code class="xref py py-obj docutils literal"><span class="pre">create</span></code></a>([nside,&nbsp;binsz,&nbsp;nest,&nbsp;map_type,&nbsp;…])</td>
<td>Factory method to create an empty HEALPix map.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.crop" title="gammapy.maps.HpxMapSparse.crop"><code class="xref py py-obj docutils literal"><span class="pre">crop</span></code></a>(crop_width)</td>
<td>Crop the spatial dimension of the map.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.downsample" title="gammapy.maps.HpxMapSparse.downsample"><code class="xref py py-obj docutils literal"><span class="pre">downsample</span></code></a>(factor)</td>
<td>Downsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.fill_by_coords" title="gammapy.maps.HpxMapSparse.fill_by_coords"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_coords</span></code></a>(coords[,&nbsp;weights])</td>
<td>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.fill_by_idx" title="gammapy.maps.HpxMapSparse.fill_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_idx</span></code></a>(idx[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.fill_by_pix" title="gammapy.maps.HpxMapSparse.fill_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">fill_by_pix</span></code></a>(pix[,&nbsp;weights])</td>
<td>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.from_hdu" title="gammapy.maps.HpxMapSparse.from_hdu"><code class="xref py py-obj docutils literal"><span class="pre">from_hdu</span></code></a>(hdu[,&nbsp;hdu_bands])</td>
<td>Make a HpxMapND object from a FITS HDU.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.from_hdulist" title="gammapy.maps.HpxMapSparse.from_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">from_hdulist</span></code></a>(hdulist[,&nbsp;hdu,&nbsp;hdu_bands])</td>
<td>Make a HpxMap object from a FITS HDUList.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.get_by_coords" title="gammapy.maps.HpxMapSparse.get_by_coords"><code class="xref py py-obj docutils literal"><span class="pre">get_by_coords</span></code></a>(coords[,&nbsp;interp])</td>
<td>Return map values at the given map coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.get_by_idx" title="gammapy.maps.HpxMapSparse.get_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">get_by_idx</span></code></a>(idx)</td>
<td>Return map values at the given pixel indices.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.get_by_pix" title="gammapy.maps.HpxMapSparse.get_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">get_by_pix</span></code></a>(pix[,&nbsp;interp])</td>
<td>Return map values at the given pixel coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.interp_by_coords" title="gammapy.maps.HpxMapSparse.interp_by_coords"><code class="xref py py-obj docutils literal"><span class="pre">interp_by_coords</span></code></a>(coords[,&nbsp;interp])</td>
<td>Interpolate map values at the given map coordinates.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.iter_by_coords" title="gammapy.maps.HpxMapSparse.iter_by_coords"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_coords</span></code></a>()</td>
<td>Iterate over elements of the map returning a tuple with values and map coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.iter_by_image" title="gammapy.maps.HpxMapSparse.iter_by_image"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_image</span></code></a>()</td>
<td>Iterate over image planes of the map returning a tuple with the image array and image plane index.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.iter_by_pix" title="gammapy.maps.HpxMapSparse.iter_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">iter_by_pix</span></code></a>()</td>
<td>Iterate over elements of the map returning a tuple with values and pixel coordinates.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.make_hdu" title="gammapy.maps.HpxMapSparse.make_hdu"><code class="xref py py-obj docutils literal"><span class="pre">make_hdu</span></code></a>(**kwargs)</td>
<td>Make a FITS HDU with input data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.pad" title="gammapy.maps.HpxMapSparse.pad"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>(pad_width)</td>
<td>Pad the spatial dimension of the map by extending the edge of the map by the given number of pixels.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.read" title="gammapy.maps.HpxMapSparse.read"><code class="xref py py-obj docutils literal"><span class="pre">read</span></code></a>(filename,&nbsp;**kwargs)</td>
<td>Read a map from a FITS file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.reproject" title="gammapy.maps.HpxMapSparse.reproject"><code class="xref py py-obj docutils literal"><span class="pre">reproject</span></code></a>(geom[,&nbsp;order,&nbsp;mode])</td>
<td>Reproject this map to a different geometry.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.set_by_coords" title="gammapy.maps.HpxMapSparse.set_by_coords"><code class="xref py py-obj docutils literal"><span class="pre">set_by_coords</span></code></a>(coords,&nbsp;vals)</td>
<td>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.set_by_idx" title="gammapy.maps.HpxMapSparse.set_by_idx"><code class="xref py py-obj docutils literal"><span class="pre">set_by_idx</span></code></a>(idx,&nbsp;vals)</td>
<td>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.set_by_pix" title="gammapy.maps.HpxMapSparse.set_by_pix"><code class="xref py py-obj docutils literal"><span class="pre">set_by_pix</span></code></a>(pix,&nbsp;vals)</td>
<td>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code> vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.sum_over_axes" title="gammapy.maps.HpxMapSparse.sum_over_axes"><code class="xref py py-obj docutils literal"><span class="pre">sum_over_axes</span></code></a>()</td>
<td>Reduce to a 2D image by summing over non-spatial dimensions.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.to_hdulist" title="gammapy.maps.HpxMapSparse.to_hdulist"><code class="xref py py-obj docutils literal"><span class="pre">to_hdulist</span></code></a>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.to_swapped_scheme" title="gammapy.maps.HpxMapSparse.to_swapped_scheme"><code class="xref py py-obj docutils literal"><span class="pre">to_swapped_scheme</span></code></a>()</td>
<td>Return a new map with the opposite scheme (ring or nested).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.to_ud_graded" title="gammapy.maps.HpxMapSparse.to_ud_graded"><code class="xref py py-obj docutils literal"><span class="pre">to_ud_graded</span></code></a>()</td>
<td>Upgrade or downgrade the resolution of the map to the chosen nside.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.to_wcs" title="gammapy.maps.HpxMapSparse.to_wcs"><code class="xref py py-obj docutils literal"><span class="pre">to_wcs</span></code></a>([sum_bands,&nbsp;normalize,&nbsp;proj,&nbsp;oversample])</td>
<td>Make a WCS object and convert HEALPIX data into WCS projection.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.upsample" title="gammapy.maps.HpxMapSparse.upsample"><code class="xref py py-obj docutils literal"><span class="pre">upsample</span></code></a>(factor)</td>
<td>Upsample the spatial dimension of the map by a given factor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#gammapy.maps.HpxMapSparse.write" title="gammapy.maps.HpxMapSparse.write"><code class="xref py py-obj docutils literal"><span class="pre">write</span></code></a>(filename,&nbsp;**kwargs)</td>
<td>Write to a FITS file.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="gammapy.maps.HpxMapSparse.data">
<code class="descname">data</code><a class="headerlink" href="#gammapy.maps.HpxMapSparse.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data array (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="gammapy.maps.HpxMapSparse.geom">
<code class="descname">geom</code><a class="headerlink" href="#gammapy.maps.HpxMapSparse.geom" title="Permalink to this definition">¶</a></dt>
<dd><p>Map geometry (<a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a>)</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>nside=None</em>, <em>binsz=None</em>, <em>nest=True</em>, <em>map_type=None</em>, <em>coordsys='CEL'</em>, <em>data=None</em>, <em>skydir=None</em>, <em>width=None</em>, <em>dtype='float32'</em>, <em>region=None</em>, <em>axes=None</em>, <em>conv='gadf'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to create an empty HEALPix map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nside</strong> : int or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>HEALPix NSIDE parameter.  This parameter sets the size of
the spatial pixels in the map.</p>
</div></blockquote>
<p><strong>binsz</strong> : float or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Approximate pixel size in degrees.  An NSIDE will be
chosen that correponds to a pixel size closest to this
value.  This option is superseded by nside.</p>
</div></blockquote>
<p><strong>nest</strong> : bool</p>
<blockquote>
<div><p>True for HEALPix “NESTED” indexing scheme, False for “RING” scheme.</p>
</div></blockquote>
<p><strong>coordsys</strong> : {‘CEL’, ‘GAL’}, optional</p>
<blockquote>
<div><p>Coordinate system, either Galactic (‘GAL’) or Equatorial (‘CEL’).</p>
</div></blockquote>
<p><strong>skydir</strong> : tuple or <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v3.1.dev21140)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a></p>
<blockquote>
<div><p>Sky position of map center.  Can be either a SkyCoord
object or a tuple of longitude and latitude in deg in the
coordinate system of the map.</p>
</div></blockquote>
<p><strong>map_type</strong> : str</p>
<blockquote>
<div><p>Internal map representation.  Valid types are <a class="reference internal" href="gammapy.maps.HpxMapND.html#gammapy.maps.HpxMapND" title="gammapy.maps.HpxMapND"><code class="xref py py-obj docutils literal"><span class="pre">HpxMapND</span></code></a>/<code class="xref py py-obj docutils literal"><span class="pre">hpx</span></code> and
<a class="reference internal" href="#gammapy.maps.HpxMapSparse" title="gammapy.maps.HpxMapSparse"><code class="xref py py-obj docutils literal"><span class="pre">HpxMapSparse</span></code></a>/<code class="xref py py-obj docutils literal"><span class="pre">hpx-sparse</span></code>.</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>Diameter of the map in degrees.  If None then an all-sky
geometry will be created.</p>
</div></blockquote>
<p><strong>axes</strong> : list</p>
<blockquote>
<div><p>List of <a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal"><span class="pre">MapAxis</span></code></a> objects for each non-spatial dimension.</p>
</div></blockquote>
<p><strong>conv</strong> : str, optional</p>
<blockquote class="last">
<div><p>FITS format convention (‘fgst-ccube’, ‘fgst-template’,
‘gadf’).  Default is ‘gadf’.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.crop">
<code class="descname">crop</code><span class="sig-paren">(</span><em>crop_width</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.crop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop the spatial dimension of the map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>crop_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of values cropped from the edges of each axis.
Defined analogously to <code class="xref py py-obj docutils literal"><span class="pre">pad_with</span></code> from <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">pad</span></code></a>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Cropped map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.downsample">
<code class="descname">downsample</code><span class="sig-paren">(</span><em>factor</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.downsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Downsampling factor.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Downsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.fill_by_coords">
<code class="descname">fill_by_coords</code><span class="sig-paren">(</span><em>coords</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.fill_by_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given map coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.fill_by_idx">
<code class="descname">fill_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.fill_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.fill_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel indices with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.fill_by_pix">
<code class="descname">fill_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>weights=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.fill_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill pixels at the given pixel coordinates with values in <code class="xref py py-obj docutils literal"><span class="pre">weights</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Weights vector. If None then a unit weight will be assumed
for each element in <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gammapy.maps.HpxMapSparse.from_hdu">
<em class="property">classmethod </em><code class="descname">from_hdu</code><span class="sig-paren">(</span><em>hdu</em>, <em>hdu_bands=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.from_hdu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.from_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxMapND object from a FITS HDU.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdu</strong> : <code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></p>
<blockquote>
<div><p>The FITS HDU</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : <code class="xref py py-obj docutils literal"><span class="pre">BinTableHDU</span></code></p>
<blockquote class="last">
<div><p>The BANDS table HDU</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.from_hdulist">
<code class="descname">from_hdulist</code><span class="sig-paren">(</span><em>hdulist</em>, <em>hdu=None</em>, <em>hdu_bands=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.from_hdulist" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a HpxMap object from a FITS HDUList.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hdulist</strong> :  <a class="reference external" href="http://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v3.1.dev21140)"><code class="xref py py-obj docutils literal"><span class="pre">HDUList</span></code></a></p>
<blockquote>
<div><p>HDU list containing HDUs for map data and bands.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.  If None then
the method will try to load map data from the first
BinTableHDU in the file.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>hpx_map</strong> : <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal"><span class="pre">HpxMap</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.get_by_coords">
<code class="descname">get_by_coords</code><span class="sig-paren">(</span><em>coords</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.get_by_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values of pixels in the map.  np.nan used to flag coords
outside of map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.get_by_idx">
<code class="descname">get_by_idx</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.get_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.get_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.
np.nan used to flag coordinate outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.get_by_pix">
<code class="descname">get_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.get_by_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.get_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return map values at the given pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of pixel values.  np.nan used to flag coordinates
outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.interp_by_coords">
<code class="descname">interp_by_coords</code><span class="sig-paren">(</span><em>coords</em>, <em>interp=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.interp_by_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.interp_by_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate map values at the given map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>interp</strong> : {None, ‘nearest’, ‘linear’, ‘cubic’, 0, 1, 2, 3}</p>
<blockquote>
<div><p>Method to interpolate data values.  By default no
interpolation is performed and the return value will be
the amplitude of the pixel encompassing the given
coordinate.  Integer values can be used in lieu of strings
to choose the interpolation method of the given order
(0=’nearest’, 1=’linear’, 2=’quadratic’, 3=’cubic’).  Note
that only ‘nearest’ and ‘linear’ methods are supported for
all map types.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values of pixels in the flattened map.
np.nan used to flag coords outside of map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.iter_by_coords">
<code class="descname">iter_by_coords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.iter_by_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.iter_by_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
map coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>coords</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of map coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.iter_by_image">
<code class="descname">iter_by_image</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.iter_by_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.iter_by_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over image planes of the map returning a tuple with the image
array and image plane index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></p>
<blockquote>
<div><p>Array of image plane values.</p>
</div></blockquote>
<p><strong>idx</strong> : tuple</p>
<blockquote class="last">
<div><p>Index of image plane.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.iter_by_pix">
<code class="descname">iter_by_pix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.iter_by_pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.iter_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over elements of the map returning a tuple with values and
pixel coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>buffersize</strong> : int</p>
<blockquote>
<div><p>Set the size of the buffer.  The map will be returned in
chunks of the given size.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote>
<div><p>Map values.</p>
</div></blockquote>
<p><strong>pix</strong> : tuple</p>
<blockquote class="last">
<div><p>Tuple of pixel coordinates.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.make_hdu">
<code class="descname">make_hdu</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.make_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a FITS HDU with input data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>extname</strong> : str</p>
<blockquote>
<div><p>The HDU extension name.</p>
</div></blockquote>
<p><strong>extname_bands</strong> : str</p>
<blockquote>
<div><p>The HDU extension name for BANDS table.</p>
</div></blockquote>
<p><strong>colbase</strong> : str</p>
<blockquote>
<div><p>The prefix for column names</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote class="last">
<div><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.pad">
<code class="descname">pad</code><span class="sig-paren">(</span><em>pad_width</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the spatial dimension of the map by extending the edge of the
map by the given number of pixels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pad_width</strong> : {sequence, array_like, int}</p>
<blockquote>
<div><p>Number of values padded to the edges of each axis, passed to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.pad</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Padded map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a map from a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Name of the FITS file.</p>
</div></blockquote>
<p><strong>hdu</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the map data.</p>
</div></blockquote>
<p><strong>hdu_bands</strong> : str</p>
<blockquote>
<div><p>Name or index of the HDU with the BANDS table.  If not
defined this will be inferred from the FITS header of the
map HDU.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map_out</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Map object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.reproject">
<code class="descname">reproject</code><span class="sig-paren">(</span><em>geom</em>, <em>order=1</em>, <em>mode='interp'</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject this map to a different geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>geom</strong> : <a class="reference internal" href="gammapy.maps.MapGeom.html#gammapy.maps.MapGeom" title="gammapy.maps.MapGeom"><code class="xref py py-obj docutils literal"><span class="pre">MapGeom</span></code></a></p>
<blockquote>
<div><p>Geometry of projection.</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>Method for reprojection.  ‘interp’ method interpolates at pixel
centers.  ‘exact’ method integrates over intersection of pixels.</p>
</div></blockquote>
<p><strong>order</strong> : int or str</p>
<blockquote>
<div><p>Order of interpolating polynomial (0 = nearest-neighbor, 1 =
linear, 2 = quadratic, 3 = cubic).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Reprojected map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.set_by_coords">
<code class="descname">set_by_coords</code><span class="sig-paren">(</span><em>coords</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.set_by_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given map coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>coords</strong> : tuple or <a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a></p>
<blockquote>
<div><p><a class="reference internal" href="gammapy.maps.MapCoords.html#gammapy.maps.MapCoords" title="gammapy.maps.MapCoords"><code class="xref py py-obj docutils literal"><span class="pre">MapCoords</span></code></a> object or tuple of
coordinate arrays for each dimension of the map.  Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector.  Pixels at <code class="xref py py-obj docutils literal"><span class="pre">coords</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.set_by_idx">
<code class="descname">set_by_idx</code><span class="sig-paren">(</span><em>idx</em>, <em>vals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.set_by_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.set_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel indices to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">idx</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.set_by_pix">
<code class="descname">set_by_pix</code><span class="sig-paren">(</span><em>pix</em>, <em>vals</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.set_by_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pixels at the given pixel coordinates to the values in <code class="xref py py-obj docutils literal"><span class="pre">vals</span></code>
vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pix</strong> : tuple</p>
<blockquote>
<div><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.  Float
indices will be rounded to the nearest integer.</p>
</div></blockquote>
<p><strong>vals</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Values vector. Pixels at <code class="xref py py-obj docutils literal"><span class="pre">pix</span></code> will be set to these values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.sum_over_axes">
<code class="descname">sum_over_axes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.sum_over_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.sum_over_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce to a 2D image by summing over non-spatial dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.to_hdulist">
<code class="descname">to_hdulist</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.to_hdulist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.to_swapped_scheme">
<code class="descname">to_swapped_scheme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.to_swapped_scheme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.to_swapped_scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new map with the opposite scheme (ring or nested).</p>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.to_ud_graded">
<code class="descname">to_ud_graded</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.to_ud_graded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.to_ud_graded" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrade or downgrade the resolution of the map to the chosen nside.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nside</strong> : int</p>
<blockquote>
<div><p>NSIDE parameter of the new map.</p>
</div></blockquote>
<p><strong>preserve_counts</strong> : bool</p>
<blockquote class="last">
<div><p>Choose whether to preserve counts (total amplitude) or
intensity (amplitude per unit solid angle).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.to_wcs">
<code class="descname">to_wcs</code><span class="sig-paren">(</span><em>sum_bands=False</em>, <em>normalize=True</em>, <em>proj='AIT'</em>, <em>oversample=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.to_wcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.to_wcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a WCS object and convert HEALPIX data into WCS projection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sum_bands</strong> : bool</p>
<blockquote>
<div><p>Sum over non-spatial axes before reprojecting.  If False
then the WCS map will have the same dimensionality as the
HEALPix one.</p>
</div></blockquote>
<p><strong>normalize</strong> : bool</p>
<blockquote>
<div><p>True -&gt; preserve integral by splitting HEALPIX values between bins</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wcs</strong> : <a class="reference external" href="http://docs.astropy.org/en/latest/api/astropy.wcs.WCS.html#astropy.wcs.WCS" title="(in Astropy v3.1.dev21140)"><code class="xref py py-obj docutils literal"><span class="pre">WCS</span></code></a></p>
<blockquote>
<div><p>WCS object</p>
</div></blockquote>
<p><strong>data</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-obj docutils literal"><span class="pre">ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Reprojected data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.upsample">
<code class="descname">upsample</code><span class="sig-paren">(</span><em>factor</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpxsparse.html#HpxMapSparse.upsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gammapy.maps.HpxMapSparse.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Upsample the spatial dimension of the map by a given factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : int</p>
<blockquote>
<div><p>Upsampling factor.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>map</strong> : <a class="reference internal" href="gammapy.maps.MapBase.html#gammapy.maps.MapBase" title="gammapy.maps.MapBase"><code class="xref py py-obj docutils literal"><span class="pre">MapBase</span></code></a></p>
<blockquote class="last">
<div><p>Upsampled map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gammapy.maps.HpxMapSparse.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxMapSparse.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to a FITS file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : str</p>
<blockquote>
<div><p>Output file name.</p>
</div></blockquote>
<p><strong>extname</strong> : str</p>
<blockquote>
<div><p>Set the name of the image extension.  By default this will
be set to SKYMAP (for BINTABLE HDU) or PRIMARY (for IMAGE
HDU).</p>
</div></blockquote>
<p><strong>extname_bands</strong> : str</p>
<blockquote>
<div><p>Set the name of the bands table extension.  By default this will
be set to BANDS.</p>
</div></blockquote>
<p><strong>conv</strong> : str</p>
<blockquote>
<div><p>FITS format convention.  By default files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools).  Supported conventions are ‘gadf’,
‘fgst-ccube’, ‘fgst-ltcube’, ‘fgst-bexpcube’,
‘fgst-template’, ‘fgst-srcmap’, ‘fgst-srcmap-sparse’,
‘galprop’, and ‘galprop2’.</p>
</div></blockquote>
<p><strong>sparse</strong> : bool</p>
<blockquote class="last">
<div><p>Sparsify the map by dropping pixels with zero amplitude.
This option is only compatible with the ‘gadf’ format.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">HpxMapSparse</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/gammapy.maps.HpxMapSparse.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2018, The Gammapy developers.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.6.5. &nbsp;
    Last built 08 Jan 2018. <br/>
  </p>
</footer>
  </body>
</html>