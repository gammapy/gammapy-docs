
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>HpxNDMap &#8212; gammapy vX.Y.Z</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=947a6bef" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=1f75dfce"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/gammapy.maps.HpxNDMap';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.0';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.gammapy.org/stable/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <script src="../_static/matomo.js?v=52704cab"></script>
    <link rel="icon" href="../_static/gammapy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LabelMapAxis" href="gammapy.maps.LabelMapAxis.html" />
    <link rel="prev" title="HpxMap" href="gammapy.maps.HpxMap.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.0.dev67+gce94f18ca" />
    <meta name="docbuild:last-update" content="25 Nov 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
    
    <img src="../_static/gammapy_logo_nav.png" class="logo__image only-light" alt="gammapy vX.Y.Z - Home"/>
    <img src="../_static/gammapy_logo_nav.png" class="logo__image only-dark pst-js-only" alt="gammapy vX.Y.Z - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting-started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api-reference/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release-notes/index.html">
    Release notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammapy/gammapy" title="Github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/gammapyST" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-square-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gammapy.slack.com/" title="Slack" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-slack fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Slack</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting-started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api-reference/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../development/index.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release-notes/index.html">
    Release notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammapy/gammapy" title="Github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/gammapyST" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-square-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gammapy.slack.com/" title="Slack" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-slack fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Slack</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../api-reference/data.html">data - DL3 data and observations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/irf.html">irf - Instrument response functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/makers.html">makers - Data reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/datasets.html">datasets - Reduced datasets</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../api-reference/maps.html">maps - Sky maps</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.containment_radius.html">containment_radius</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.containment_region.html">containment_region</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.Geom.html">Geom</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.HpxGeom.html">HpxGeom</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.HpxMap.html">HpxMap</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">HpxNDMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.LabelMapAxis.html">LabelMapAxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.Map.html">Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.MapAxes.html">MapAxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.MapAxis.html">MapAxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.MapCoord.html">MapCoord</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.Maps.html">Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.RegionGeom.html">RegionGeom</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.RegionNDMap.html">RegionNDMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.TimeMapAxis.html">TimeMapAxis</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.WcsGeom.html">WcsGeom</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.WcsMap.html">WcsMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="gammapy.maps.WcsNDMap.html">WcsNDMap</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/modeling.html">modeling - Models and fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/estimators.html">estimators - High level estimators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/analysis.html">analysis - High level interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/catalog.html">catalog - Source catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/astro.html">astro - Astrophysics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/stats.html">stats - Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/scripts.html">scripts - Command line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/visualization.html">visualization - Plotting features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/utils.html">utils - Utilities</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../api-reference/index.html" class="nav-link">API reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../api-reference/maps.html" class="nav-link">maps - Sky maps</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">HpxNDMap</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="hpxndmap">
<h1>HpxNDMap<a class="headerlink" href="#hpxndmap" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gammapy.maps.</span></span><span class="sig-name descname"><span class="pre">HpxNDMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.hpx.core.HpxMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">HpxMap</span></code></a></p>
<p>HEALPix map with any number of non-spatial dimensions.</p>
<p>This class uses an N+1D numpy array to represent the sequence of
HEALPix image planes. Following the convention of WCS-based maps
this class uses a column-wise ordering for the data array with the
spatial dimension being tied to the last index of the array.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxGeom.html#gammapy.maps.HpxGeom" title="gammapy.maps.HpxGeom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxGeom</span></code></a></span></dt><dd><p>HEALPix geometry object.</p>
</dd>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>HEALPix data array.
If None, then an empty array will be allocated.</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Dictionary to store metadata.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a></span></dt><dd><p>The map unit.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.data" title="gammapy.maps.HpxNDMap.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>Data array as a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.geom" title="gammapy.maps.HpxNDMap.geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geom</span></code></a></p></td>
<td><p>Map geometry as a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.is_mask" title="gammapy.maps.HpxNDMap.is_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_mask</span></code></a></p></td>
<td><p>Whether map is a mask with boolean data type.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.meta" title="gammapy.maps.HpxNDMap.meta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">meta</span></code></a></p></td>
<td><p>Map metadata as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.quantity" title="gammapy.maps.HpxNDMap.quantity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quantity</span></code></a></p></td>
<td><p>Map data as a <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.tag" title="gammapy.maps.HpxNDMap.tag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tag</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.unit" title="gammapy.maps.HpxNDMap.unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unit</span></code></a></p></td>
<td><p>Map unit as an <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a> object.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Methods Summary</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.coadd" title="gammapy.maps.HpxNDMap.coadd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coadd</span></code></a>(map_in[, weights])</p></td>
<td><p>Add the contents of <code class="docutils literal notranslate"><span class="pre">map_in</span></code> to this map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.convolve" title="gammapy.maps.HpxNDMap.convolve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve</span></code></a>(kernel[, convolution_method])</p></td>
<td><p>Convolve map with a WCS kernel.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.convolve_full" title="gammapy.maps.HpxNDMap.convolve_full"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve_full</span></code></a>(kernel)</p></td>
<td><p>Convolve map with a symmetrical WCS kernel.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.convolve_wcs" title="gammapy.maps.HpxNDMap.convolve_wcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve_wcs</span></code></a>(kernel, **kwargs)</p></td>
<td><p>Convolve map with a WCS kernel.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.copy" title="gammapy.maps.HpxNDMap.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>(**kwargs)</p></td>
<td><p>Copy map instance and overwrite given attributes, except for geometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.create" title="gammapy.maps.HpxNDMap.create"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create</span></code></a>([nside, binsz, nest, map_type, ...])</p></td>
<td><p>Factory method to create an empty HEALPix map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.crop" title="gammapy.maps.HpxNDMap.crop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crop</span></code></a>(crop_width)</p></td>
<td><p>Crop the spatial dimensions of the map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.cumsum" title="gammapy.maps.HpxNDMap.cumsum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cumsum</span></code></a>(axis_name)</p></td>
<td><p>Compute cumulative sum along a given axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.cutout" title="gammapy.maps.HpxNDMap.cutout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cutout</span></code></a>(position, width, *args, **kwargs)</p></td>
<td><p>Create a cutout around a given position.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.dot" title="gammapy.maps.HpxNDMap.dot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dot</span></code></a>(other)</p></td>
<td><p>Apply dot product with the input map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.downsample" title="gammapy.maps.HpxNDMap.downsample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">downsample</span></code></a>(factor[, preserve_counts, axis_name])</p></td>
<td><p>Downsample the spatial dimension by a given factor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="gammapy.maps.HpxNDMap.fill_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_coord</span></code></a>(coords[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="gammapy.maps.HpxNDMap.fill_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_idx</span></code></a>(idx[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="gammapy.maps.HpxNDMap.fill_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_by_pix</span></code></a>(pix[, weights])</p></td>
<td><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.fill_events" title="gammapy.maps.HpxNDMap.fill_events"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fill_events</span></code></a>(events[, weights])</p></td>
<td><p>Fill the map from an <a class="reference internal" href="gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_geom" title="gammapy.maps.HpxNDMap.from_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_geom</span></code></a>(geom[, meta, data, unit, dtype])</p></td>
<td><p>Generate an empty map from a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> instance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdu" title="gammapy.maps.HpxNDMap.from_hdu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_hdu</span></code></a>(hdu[, hdu_bands, format, colname])</p></td>
<td><p>Make a HpxNDMap object from a FITS HDU.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_hdulist" title="gammapy.maps.HpxNDMap.from_hdulist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_hdulist</span></code></a>(hdu_list[, hdu, hdu_bands, ...])</p></td>
<td><p>Make a HpxMap object from a FITS HDUList.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_stack" title="gammapy.maps.HpxNDMap.from_stack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_stack</span></code></a>(maps[, axis, axis_name])</p></td>
<td><p>Create Map from a list of images and a non-spatial axis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.from_wcs_tiles" title="gammapy.maps.HpxNDMap.from_wcs_tiles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_wcs_tiles</span></code></a>(wcs_tiles[, nest])</p></td>
<td><p>Create HEALPix map from WCS tiles.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_coord" title="gammapy.maps.HpxNDMap.get_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_coord</span></code></a>(coords[, fill_value])</p></td>
<td><p>Return map values at the given map coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_idx" title="gammapy.maps.HpxNDMap.get_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_idx</span></code></a>(idx)</p></td>
<td><p>Return map values at the given pixel indices.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_by_pix" title="gammapy.maps.HpxNDMap.get_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_pix</span></code></a>(pix[, fill_value])</p></td>
<td><p>Return map values at the given pixel coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>(coords)</p></td>
<td><p>Return spatial map at the given axis coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="gammapy.maps.HpxNDMap.get_image_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx</span></code></a>(idx)</p></td>
<td><p>Return spatial map at the given axis pixel indices.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="gammapy.maps.HpxNDMap.get_image_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix</span></code></a>(pix)</p></td>
<td><p>Return spatial map at the given axis pixel coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_spectrum" title="gammapy.maps.HpxNDMap.get_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_spectrum</span></code></a>([region, func, weights])</p></td>
<td><p>Extract spectrum in a given region.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.integral" title="gammapy.maps.HpxNDMap.integral"><code class="xref py py-obj docutils literal notranslate"><span class="pre">integral</span></code></a>(axis_name, coords, **kwargs)</p></td>
<td><p>Compute integral along a given axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="gammapy.maps.HpxNDMap.interp_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_by_coord</span></code></a>(coords[, method, fill_value])</p></td>
<td><p>Interpolate map values at the given map coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="gammapy.maps.HpxNDMap.interp_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_by_pix</span></code></a>(pix[, method, fill_value])</p></td>
<td><p>Interpolate map values at the given pixel coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.interp_to_geom" title="gammapy.maps.HpxNDMap.interp_to_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp_to_geom</span></code></a>(geom[, preserve_counts, ...])</p></td>
<td><p>Interpolate map to input geometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.is_allclose" title="gammapy.maps.HpxNDMap.is_allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_allclose</span></code></a>(other[, rtol_axes, atol_axes])</p></td>
<td><p>Compare two Maps for close equivalency.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_axis" title="gammapy.maps.HpxNDMap.iter_by_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_axis</span></code></a>(axis_name[, keepdims])</p></td>
<td><p>Iterate over a given axis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image</span></code></a>([keepdims])</p></td>
<td><p>Iterate over image planes of a map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image_data" title="gammapy.maps.HpxNDMap.iter_by_image_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image_data</span></code></a>()</p></td>
<td><p>Iterate over image planes of the map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image_index" title="gammapy.maps.HpxNDMap.iter_by_image_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image_index</span></code></a>()</p></td>
<td><p>Iterate over image planes of the map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.mask_nearest_position" title="gammapy.maps.HpxNDMap.mask_nearest_position"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_nearest_position</span></code></a>(position)</p></td>
<td><p>Given a sky coordinate return nearest valid position in the mask.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.normalize" title="gammapy.maps.HpxNDMap.normalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize</span></code></a>([axis_name])</p></td>
<td><p>Normalise data in place along a given axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.pad" title="gammapy.maps.HpxNDMap.pad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pad</span></code></a>(pad_width[, axis_name, mode, cval, method])</p></td>
<td><p>Pad the spatial dimensions of the map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot" title="gammapy.maps.HpxNDMap.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>([method, ax, normalize, proj, ...])</p></td>
<td><p>Quickplot method.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot_grid" title="gammapy.maps.HpxNDMap.plot_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_grid</span></code></a>([figsize, ncols])</p></td>
<td><p>Plot map as a grid of subplots for non-spatial axes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot_interactive" title="gammapy.maps.HpxNDMap.plot_interactive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_interactive</span></code></a>([rc_params])</p></td>
<td><p>Plot map with interactive widgets to explore the non-spatial axes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.plot_mask" title="gammapy.maps.HpxNDMap.plot_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mask</span></code></a>([method, ax, proj, oversample, ...])</p></td>
<td><p>Plot the mask as a shaded area.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.read" title="gammapy.maps.HpxNDMap.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(filename[, hdu, hdu_bands, map_type, ...])</p></td>
<td><p>Read a map from a FITS file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reduce" title="gammapy.maps.HpxNDMap.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce</span></code></a>(axis_name[, func, keepdims, weights])</p></td>
<td><p>Reduce map over a single non-spatial axis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reduce_over_axes" title="gammapy.maps.HpxNDMap.reduce_over_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce_over_axes</span></code></a>([func, keepdims, ...])</p></td>
<td><p>Reduce map over non-spatial axes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.rename_axes" title="gammapy.maps.HpxNDMap.rename_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_axes</span></code></a>(names, new_names)</p></td>
<td><p>Rename the Map axes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reorder_axes" title="gammapy.maps.HpxNDMap.reorder_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorder_axes</span></code></a>(axes_names)</p></td>
<td><p>Return a new map re-ordering the non-spatial axes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reproject_by_image" title="gammapy.maps.HpxNDMap.reproject_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reproject_by_image</span></code></a>(geom[, preserve_counts, ...])</p></td>
<td><p>Reproject each image of a ND map to input 2d geometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.reproject_to_geom" title="gammapy.maps.HpxNDMap.reproject_to_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reproject_to_geom</span></code></a>(geom[, preserve_counts, ...])</p></td>
<td><p>Reproject map to input geometry.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.resample" title="gammapy.maps.HpxNDMap.resample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resample</span></code></a>(geom[, weights, preserve_counts])</p></td>
<td><p>Resample pixels to <code class="docutils literal notranslate"><span class="pre">geom</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.resample_axis" title="gammapy.maps.HpxNDMap.resample_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resample_axis</span></code></a>(axis[, weights, ufunc])</p></td>
<td><p>Resample map to a new axis by grouping and reducing smaller bins by a given function <code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.sample_coord" title="gammapy.maps.HpxNDMap.sample_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_coord</span></code></a>(n_events[, random_state])</p></td>
<td><p>Sample position and energy of events.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_coord" title="gammapy.maps.HpxNDMap.set_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_coord</span></code></a>(coords, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_idx" title="gammapy.maps.HpxNDMap.set_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_idx</span></code></a>(idx, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.set_by_pix" title="gammapy.maps.HpxNDMap.set_by_pix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_by_pix</span></code></a>(pix, vals)</p></td>
<td><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.slice_by_idx" title="gammapy.maps.HpxNDMap.slice_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice_by_idx</span></code></a>(slices)</p></td>
<td><p>Slice sub map from map object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.smooth" title="gammapy.maps.HpxNDMap.smooth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">smooth</span></code></a>(width[, kernel])</p></td>
<td><p>Smooth the map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.split_by_axis" title="gammapy.maps.HpxNDMap.split_by_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split_by_axis</span></code></a>(axis_name)</p></td>
<td><p>Split a Map along an axis into multiple maps.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.stack" title="gammapy.maps.HpxNDMap.stack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stack</span></code></a>(other[, weights, nan_to_num])</p></td>
<td><p>Stack cutout into map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="gammapy.maps.HpxNDMap.sum_over_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sum_over_axes</span></code></a>([axes_names, keepdims, weights])</p></td>
<td><p>Sum map values over all non-spatial axes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_cube" title="gammapy.maps.HpxNDMap.to_cube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_cube</span></code></a>(axes)</p></td>
<td><p>Append non-spatial axes to create a higher-dimensional Map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_hdu" title="gammapy.maps.HpxNDMap.to_hdu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_hdu</span></code></a>([hdu, hdu_bands, sparse, format])</p></td>
<td><p>Make a FITS HDU with input data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_hdulist" title="gammapy.maps.HpxNDMap.to_hdulist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_hdulist</span></code></a>([hdu, hdu_bands, sparse, format])</p></td>
<td><p>Convert to <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_nside" title="gammapy.maps.HpxNDMap.to_nside"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_nside</span></code></a>(nside[, preserve_counts])</p></td>
<td><p>Upsample or downsample the map to a given nside.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_region_nd_map" title="gammapy.maps.HpxNDMap.to_region_nd_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_region_nd_map</span></code></a>(region[, func, weights, method])</p></td>
<td><p>Get region ND map in a given region.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_swapped" title="gammapy.maps.HpxNDMap.to_swapped"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_swapped</span></code></a>()</p></td>
<td><p>Return a new map with the opposite scheme (ring or nested).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_unit" title="gammapy.maps.HpxNDMap.to_unit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_unit</span></code></a>(unit)</p></td>
<td><p>Convert map to a different unit.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_wcs" title="gammapy.maps.HpxNDMap.to_wcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_wcs</span></code></a>([sum_bands, normalize, proj, ...])</p></td>
<td><p>Make a WCS object and convert HEALPix data into WCS projection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.to_wcs_tiles" title="gammapy.maps.HpxNDMap.to_wcs_tiles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_wcs_tiles</span></code></a>([nside_tiles, margin, method, ...])</p></td>
<td><p>Convert HpxNDMap to a list of WCS tiles.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.upsample" title="gammapy.maps.HpxNDMap.upsample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upsample</span></code></a>(factor[, order, preserve_counts, ...])</p></td>
<td><p>Upsample the spatial dimension by a given factor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gammapy.maps.HpxNDMap.write" title="gammapy.maps.HpxNDMap.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(filename[, overwrite])</p></td>
<td><p>Write to a FITS file.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.data" title="Link to this definition">#</a></dt>
<dd><p>Data array as a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.geom">
<span class="sig-name descname"><span class="pre">geom</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.geom" title="Link to this definition">#</a></dt>
<dd><p>Map geometry as a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.is_mask">
<span class="sig-name descname"><span class="pre">is_mask</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.is_mask" title="Link to this definition">#</a></dt>
<dd><p>Whether map is a mask with boolean data type.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.meta">
<span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.meta" title="Link to this definition">#</a></dt>
<dd><p>Map metadata as a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.quantity">
<span class="sig-name descname"><span class="pre">quantity</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.quantity" title="Link to this definition">#</a></dt>
<dd><p>Map data as a <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.tag">
<span class="sig-name descname"><span class="pre">tag</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'map'</span></em><a class="headerlink" href="#gammapy.maps.HpxNDMap.tag" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><a class="headerlink" href="#gammapy.maps.HpxNDMap.unit" title="Link to this definition">#</a></dt>
<dd><p>Map unit as an <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a> object.</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.coadd">
<span class="sig-name descname"><span class="pre">coadd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.coadd" title="Link to this definition">#</a></dt>
<dd><p>Add the contents of <code class="docutils literal notranslate"><span class="pre">map_in</span></code> to this map.</p>
<p>This method can be used to combine maps containing integral quantities (e.g. counts)
or differential quantities if the maps have the same binning.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>map_in</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map to add.</p>
</dd>
<dt><strong>weights: `Map` or `~numpy.ndarray`</strong></dt><dd><p>The weight factors while adding. Default is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convolution_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wcs-tan'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.convolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.convolve" title="Link to this definition">#</a></dt>
<dd><p>Convolve map with a WCS kernel.</p>
<p>Project the map into a WCS geometry, convolve with a WCS kernel and
project back into the initial HEALPix geometry.</p>
<p>If the kernel is two-dimensional, it is applied to all image planes likewise.
If the kernel is higher dimensional it must match the map in the number of
dimensions and the corresponding kernel is selected for every image plane.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>kernel</strong><span class="classifier"><a class="reference internal" href="gammapy.irf.PSFKernel.html#gammapy.irf.PSFKernel" title="gammapy.irf.PSFKernel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFKernel</span></code></a></span></dt><dd><p>Convolution kernel. The pixel size must be upsampled by a factor 2 or bigger
with respect to the input map to prevent artifacts in the projection.</p>
</dd>
<dt><strong>convolution_method</strong><span class="classifier">{“wcs-tan”, “”}</span></dt><dd><p>Convolution method. If “wcs-tan”, project on WCS geometry and
convolve with WCS kernel. See <a class="reference internal" href="#gammapy.maps.HpxNDMap.convolve_wcs" title="gammapy.maps.HpxNDMap.convolve_wcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve_wcs</span></code></a>.
If “”, convolve map with a symmetrical WCS kernel. See <a class="reference internal" href="#gammapy.maps.HpxNDMap.convolve_full" title="gammapy.maps.HpxNDMap.convolve_full"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve_full</span></code></a>.
Default is “wcs-tan”.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap.convolve" title="gammapy.maps.WcsNDMap.convolve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Convolved map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.convolve_full">
<span class="sig-name descname"><span class="pre">convolve_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.convolve_full"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.convolve_full" title="Link to this definition">#</a></dt>
<dd><p>Convolve map with a symmetrical WCS kernel.</p>
<p>Extract the radial profile of the kernel (assuming radial symmetry) and
convolve via <code class="xref py py-obj docutils literal notranslate"><span class="pre">smoothing</span></code>. Since no projection is applied, this is
suited for full-sky and large maps.</p>
<p>If the kernel is two-dimensional, it is applied to all image planes likewise.
If the kernel is higher dimensional it must match the map in the number of
dimensions and the corresponding kernel is selected for every image plane.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>kernel</strong><span class="classifier"><a class="reference internal" href="gammapy.irf.PSFKernel.html#gammapy.irf.PSFKernel" title="gammapy.irf.PSFKernel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFKernel</span></code></a></span></dt><dd><p>Convolution kernel. The pixel size must be upsampled by a factor 2 or bigger
with respect to the input map to prevent artifacts in the projection.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Convolved map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.convolve_wcs">
<span class="sig-name descname"><span class="pre">convolve_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.convolve_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.convolve_wcs" title="Link to this definition">#</a></dt>
<dd><p>Convolve map with a WCS kernel.</p>
<p>Project the map into a WCS geometry, convolve with a WCS kernel and
project back into the initial HEALPix geometry.</p>
<p>If the kernel is two-dimensional, it is applied to all image planes likewise.
If the kernel is higher dimensional should either match the map in the number of
dimensions or the map must be an image (no non-spatial axes). In that case, the
corresponding kernel is selected and applied to every image plane or to the single
input image respectively.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>kernel</strong><span class="classifier"><a class="reference internal" href="gammapy.irf.PSFKernel.html#gammapy.irf.PSFKernel" title="gammapy.irf.PSFKernel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PSFKernel</span></code></a></span></dt><dd><p>Convolution kernel. The pixel size must be upsampled by a factor 2 or bigger
with respect to the input map to prevent artifacts in the projection.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap.convolve" title="gammapy.maps.WcsNDMap.convolve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Convolved map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.copy" title="Link to this definition">#</a></dt>
<dd><p>Copy map instance and overwrite given attributes, except for geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keyword arguments to overwrite in the map constructor.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>copy</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Copied Map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.create">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nside</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binsz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hpx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'icrs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skydir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.create" title="Link to this definition">#</a></dt>
<dd><p>Factory method to create an empty HEALPix map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nside</strong><span class="classifier">int or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>HEALPix NSIDE parameter. This parameter sets the size of
the spatial pixels in the map. Default is None.</p>
</dd>
<dt><strong>binsz</strong><span class="classifier">float or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Approximate pixel size in degrees. An NSIDE will be
chosen that corresponds to a pixel size closest to this
value. This option is superseded by <code class="docutils literal notranslate"><span class="pre">nside</span></code>.
Default is None.</p>
</dd>
<dt><strong>nest</strong><span class="classifier">bool, optional</span></dt><dd><p>Indexing scheme. If True, “NESTED” scheme. If False, “RING” scheme.
Default is True.</p>
</dd>
<dt><strong>map_type</strong><span class="classifier">{‘hpx’, ‘hpx-sparse’}, optional</span></dt><dd><p>Map type. Selects the class that will be used to
instantiate the map. Default is “hpx”.</p>
</dd>
<dt><strong>frame</strong><span class="classifier">{“icrs”, “galactic”}</span></dt><dd><p>Coordinate system, either Galactic (“galactic”) or Equatorial (“icrs”).
Default is “icrs”.</p>
</dd>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Data array. Default is None.</p>
</dd>
<dt><strong>skydir</strong><span class="classifier">tuple or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a>, optional</span></dt><dd><p>Sky position of map center. Can be either a SkyCoord
object or a tuple of longitude and latitude in deg in the
coordinate system of the map. Default is None.</p>
</dd>
<dt><strong>width</strong><span class="classifier">float, optional</span></dt><dd><p>Diameter of the map in degrees. If None then an all-sky
geometry will be created. Default is None.</p>
</dd>
<dt><strong>dtype</strong><span class="classifier">str, optional</span></dt><dd><p>Data type. Default is “float32”.</p>
</dd>
<dt><strong>region</strong><span class="classifier">str, optional</span></dt><dd><p>HEALPix region string. Default is None.</p>
</dd>
<dt><strong>axes</strong><span class="classifier">list, optional</span></dt><dd><p>List of <a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a> objects for each non-spatial dimension.
Default is None.</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional</span></dt><dd><p>Dictionary to store the metadata. Default is None.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a>, optional</span></dt><dd><p>The map unit. Default is “”.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>A HEALPix map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.crop">
<span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crop_width</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.crop" title="Link to this definition">#</a></dt>
<dd><p>Crop the spatial dimensions of the map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>crop_width</strong><span class="classifier">{sequence, array_like, int}</span></dt><dd><p>Number of pixels cropped from the edges of each axis.
Defined analogously to <code class="docutils literal notranslate"><span class="pre">pad_with</span></code> from <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.pad.html#numpy.pad" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.pad</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Cropped map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.cumsum">
<span class="sig-name descname"><span class="pre">cumsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.cumsum" title="Link to this definition">#</a></dt>
<dd><p>Compute cumulative sum along a given axis.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axis_name</strong><span class="classifier">str</span></dt><dd><p>Along which axis to sum.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cumsum</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with cumulative sum.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.cutout">
<span class="sig-name descname"><span class="pre">cutout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.cutout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.cutout" title="Link to this definition">#</a></dt>
<dd><p>Create a cutout around a given position.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>position</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></span></dt><dd><p>Center position of the cutout region.</p>
</dd>
<dt><strong>width</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.Angle.html#astropy.coordinates.Angle" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Angle</span></code></a> or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a></span></dt><dd><p>Diameter of the circular cutout region.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>cutout</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Cutout map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.dot">
<span class="sig-name descname"><span class="pre">dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.dot" title="Link to this definition">#</a></dt>
<dd><p>Apply dot product with the input map.</p>
<p>The input Map has to share a single MapAxis with the current Map.
Because it has no spatial dimension, it must be a <a class="reference internal" href="gammapy.maps.RegionNDMap.html#gammapy.maps.RegionNDMap" title="gammapy.maps.RegionNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RegionNDMap</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.RegionNDMap.html#gammapy.maps.RegionNDMap" title="gammapy.maps.RegionNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RegionNDMap</span></code></a></span></dt><dd><p>Map to apply the dot product to.
It must share a unique non-spatial MapAxis with the current Map.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with dot product applied.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.downsample">
<span class="sig-name descname"><span class="pre">downsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.downsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.downsample" title="Link to this definition">#</a></dt>
<dd><p>Downsample the spatial dimension by a given factor.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>factor</strong><span class="classifier">int</span></dt><dd><p>Downsampling factor.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be set to True
if the map is an integral quantity (e.g. counts) and False if
the map is a differential quantity (e.g. intensity). Default is True.</p>
</dd>
<dt><strong>axis_name</strong><span class="classifier">str, optional</span></dt><dd><p>Which axis to downsample. By default, spatial axes are downsampled. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Downsampled map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.fill_by_coord">
<span class="sig-name descname"><span class="pre">fill_by_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_coord" title="Link to this definition">#</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map. Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Weights vector. If None, weights are set to 1. Default is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.fill_by_idx">
<span class="sig-name descname"><span class="pre">fill_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.fill_by_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_idx" title="Link to this definition">#</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Weights vector. If None, weights are set to 1. Default is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.fill_by_pix">
<span class="sig-name descname"><span class="pre">fill_by_pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_by_pix" title="Link to this definition">#</a></dt>
<dd><p>Fill pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type. Float
indices will be rounded to the nearest integer.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Weights vector. If None, weights are set to 1. Default is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.fill_events">
<span class="sig-name descname"><span class="pre">fill_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.fill_events" title="Link to this definition">#</a></dt>
<dd><p>Fill the map from an <a class="reference internal" href="gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a> object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>events</strong><span class="classifier"><a class="reference internal" href="gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a></span></dt><dd><p>Events to fill in the map with.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Weights vector. The weights vector must be of the same length
as the events column length. If None, weights are set to 1. Default is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.from_geom">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_geom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_geom" title="Link to this definition">#</a></dt>
<dd><p>Generate an empty map from a <a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a> instance.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Map geometry.</p>
</dd>
<dt><strong>meta</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional</span></dt><dd><p>Dictionary to store metadata. Default is None.</p>
</dd>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, optional</span></dt><dd><p>Data array. Default is None.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str or <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Unit.html#astropy.units.Unit" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></a></span></dt><dd><p>Data unit.</p>
</dd>
<dt><strong>dtype</strong><span class="classifier">str, optional</span></dt><dd><p>Data type. Default is ‘float32’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.from_hdu">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_hdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.from_hdu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdu" title="Link to this definition">#</a></dt>
<dd><p>Make a HpxNDMap object from a FITS HDU.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hdu</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a></span></dt><dd><p>The FITS HDU.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a>, optional</span></dt><dd><p>The BANDS table HDU. Default is None.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS convention. Default is None.
If None the format is guessed. The following
formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf”</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>colname</strong><span class="classifier">str, optional</span></dt><dd><p>Data column name to be used for the HEALPix map.
Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>HEALPix map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.from_hdulist">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_hdulist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_hdulist" title="Link to this definition">#</a></dt>
<dd><p>Make a HpxMap object from a FITS HDUList.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hdu_list</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a></span></dt><dd><p>HDU list containing HDUs for map data and bands.</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str, optional</span></dt><dd><p>Name or index of the HDU with the map data. If None then
the method will try to load map data from the first
BinTableHDU in the file.
Default is None.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str, optional</span></dt><dd><p>Name or index of the HDU with the BANDS table.
Default is None.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention. By default, files will be written
to the gamma-astro-data-formats (GADF) format. This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>hpx_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.from_stack">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_stack" title="Link to this definition">#</a></dt>
<dd><p>Create Map from a list of images and a non-spatial axis.</p>
<p>The image geometries must be aligned, except for the axis that is stacked.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>maps</strong><span class="classifier">list of <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a> objects</span></dt><dd><p>List of maps.</p>
</dd>
<dt><strong>axis</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a>, optional</span></dt><dd><p>If a <a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a> is provided the maps are stacked along the last data
axis and the new axis is introduced. Default is None.</p>
</dd>
<dt><strong>axis_name</strong><span class="classifier">str, optional</span></dt><dd><p>If an axis name is as string the given the maps are stacked along
the given axis name.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with additional non-spatial axis.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.from_wcs_tiles">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_wcs_tiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wcs_tiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.from_wcs_tiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.from_wcs_tiles" title="Link to this definition">#</a></dt>
<dd><p>Create HEALPix map from WCS tiles.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>wcs_tiles</strong><span class="classifier">list of <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a></span></dt><dd><p>WCS map tiles.</p>
</dd>
<dt><strong>nest</strong><span class="classifier">bool, optional</span></dt><dd><p>Indexing scheme. If True, “NESTED” scheme. If False, “RING” scheme.
Default is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>hpx_map</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>HEALPix map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_by_coord">
<span class="sig-name descname"><span class="pre">get_by_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_coord" title="Link to this definition">#</a></dt>
<dd><p>Return map values at the given map coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map. Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">float</span></dt><dd><p>Value which is returned if the position is outside the projection
footprint. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values of pixels in the map. <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a> is used to flag coordinates
outside the map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_by_idx">
<span class="sig-name descname"><span class="pre">get_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.get_by_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_idx" title="Link to this definition">#</a></dt>
<dd><p>Return map values at the given pixel indices.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Array of pixel values. <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a> is used to flag coordinates outside the map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_by_pix">
<span class="sig-name descname"><span class="pre">get_by_pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_by_pix" title="Link to this definition">#</a></dt>
<dd><p>Return map values at the given pixel coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">float</span></dt><dd><p>Value which is returned if the position is outside the projection
footprint. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Array of pixel values. <a class="reference external" href="https://numpy.org/doc/stable/reference/constants.html#numpy.nan" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a> is used to flag coordinates
outside the map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_image_by_coord">
<span class="sig-name descname"><span class="pre">get_image_by_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="Link to this definition">#</a></dt>
<dd><p>Return spatial map at the given axis coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coords</strong><span class="classifier">tuple or dict</span></dt><dd><p>Tuple should be ordered as (x_0, …, x_n) where x_i are coordinates
for non-spatial dimensions of the map. Dictionary should specify the axis
names of the non-spatial axes such as {‘axes0’: x_0, …, ‘axesn’: x_n}.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="gammapy.maps.HpxNDMap.get_image_by_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix.</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">gammapy.maps</span> <span class="kn">import</span> <span class="n">Map</span><span class="p">,</span> <span class="n">MapAxis</span>
<span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="kn">import</span> <span class="n">SkyCoord</span>
<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>

<span class="c1"># Define map axes</span>
<span class="n">energy_axis</span> <span class="o">=</span> <span class="n">MapAxis</span><span class="o">.</span><span class="n">from_edges</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;TeV&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">time_axis</span> <span class="o">=</span> <span class="n">MapAxis</span><span class="o">.</span><span class="n">from_edges</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Define map center</span>
<span class="n">skydir</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;galactic&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>

<span class="c1"># Create map</span>
<span class="n">m_wcs</span> <span class="o">=</span> <span class="n">Map</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">map_type</span><span class="o">=</span><span class="s1">&#39;wcs&#39;</span><span class="p">,</span>
    <span class="n">binsz</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
    <span class="n">skydir</span><span class="o">=</span><span class="n">skydir</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
    <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">energy_axis</span><span class="p">,</span> <span class="n">time_axis</span><span class="p">],</span>
<span class="p">)</span>

<span class="c1"># Get image by coord tuple</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">((</span><span class="s1">&#39;500 GeV&#39;</span><span class="p">,</span> <span class="s1">&#39;1 h&#39;</span><span class="p">))</span>

<span class="c1"># Get image by coord dict with strings</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">({</span><span class="s1">&#39;energy&#39;</span><span class="p">:</span> <span class="s1">&#39;500 GeV&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="s1">&#39;1 h&#39;</span><span class="p">})</span>

<span class="c1"># Get image by coord dict with quantities</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">m_wcs</span><span class="o">.</span><span class="n">get_image_by_coord</span><span class="p">({</span><span class="s1">&#39;energy&#39;</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">TeV</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">h</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_image_by_idx">
<span class="sig-name descname"><span class="pre">get_image_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_idx" title="Link to this definition">#</a></dt>
<dd><p>Return spatial map at the given axis pixel indices.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of scalar indices for each non-spatial dimension of the map.
Tuple should be ordered as (I_0, …, I_n).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_pix.</span></code></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_image_by_pix">
<span class="sig-name descname"><span class="pre">get_image_by_pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_image_by_pix" title="Link to this definition">#</a></dt>
<dd><p>Return spatial map at the given axis pixel coordinates</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of scalar pixel coordinates for each non-spatial dimension of
the map. Tuple should be ordered as (I_0, …, I_n). Pixel coordinates
can be either float or integer type.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with spatial dimensions only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.get_image_by_coord" title="gammapy.maps.HpxNDMap.get_image_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_coord</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image_by_idx.</span></code></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.get_spectrum">
<span class="sig-name descname"><span class="pre">get_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;function</span> <span class="pre">nansum&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.get_spectrum" title="Link to this definition">#</a></dt>
<dd><p>Extract spectrum in a given region.</p>
<p>The spectrum can be computed by summing (or, more generally, applying <code class="docutils literal notranslate"><span class="pre">func</span></code>)
along the spatial axes in each energy bin. This occurs only inside the <code class="docutils literal notranslate"><span class="pre">region</span></code>,
which by default is assumed to be the whole spatial extension of the map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>region: `~regions.Region`, optional</strong></dt><dd><p>Region to extract the spectrum from. Pixel or sky regions are accepted. Default is None.</p>
</dd>
<dt><strong>func</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.func</span></code>, optional</span></dt><dd><p>Function to reduce the data. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nansum</span></code></a>.
For a boolean Map, use <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.any.html#numpy.any" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.any</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.all.html#numpy.all" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.all</span></code></a>. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.nansum.html#numpy.nansum" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nansum</span></code></a>.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a>, optional</span></dt><dd><p>Array to be used as weights. The geometry must be equivalent. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>spectrum</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.RegionNDMap.html#gammapy.maps.RegionNDMap" title="gammapy.maps.RegionNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RegionNDMap</span></code></a></span></dt><dd><p>Spectrum in the given region.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.integral">
<span class="sig-name descname"><span class="pre">integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.integral" title="Link to this definition">#</a></dt>
<dd><p>Compute integral along a given axis.</p>
<p>This method uses interpolation of the cumulative sum.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_name</strong><span class="classifier">str</span></dt><dd><p>Along which axis to integrate.</p>
</dd>
<dt><strong>coords</strong><span class="classifier">dict or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Map coordinates.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map.interp_by_coord" title="gammapy.maps.Map.interp_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.interp_by_coord</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>array</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a></span></dt><dd><p>2D array with axes offset.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.interp_by_coord">
<span class="sig-name descname"><span class="pre">interp_by_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.interp_by_coord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_coord" title="Link to this definition">#</a></dt>
<dd><p>Interpolate map values at the given map coordinates.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map. Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>method</strong><span class="classifier">{“linear”, “nearest”}</span></dt><dd><p>Method to interpolate data values. Default is “linear”.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">float, optional</span></dt><dd><p>The value to use for points outside the interpolation domain.
If None, values outside the domain are extrapolated. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Interpolated pixel values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.interp_by_pix">
<span class="sig-name descname"><span class="pre">interp_by_pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.interp_by_pix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_by_pix" title="Link to this definition">#</a></dt>
<dd><p>Interpolate map values at the given pixel coordinates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.interp_to_geom">
<span class="sig-name descname"><span class="pre">interp_to_geom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.interp_to_geom" title="Link to this definition">#</a></dt>
<dd><p>Interpolate map to input geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Target Map geometry.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity). Default is False.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">float, optional</span></dt><dd><p>The value to use for points outside the interpolation domain.
If None, values outside the domain are extrapolated.
Default is 0.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map.interp_by_coord" title="gammapy.maps.Map.interp_by_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.interp_by_coord</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>interp_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Interpolated Map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.is_allclose">
<span class="sig-name descname"><span class="pre">is_allclose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.is_allclose" title="Link to this definition">#</a></dt>
<dd><p>Compare two Maps for close equivalency.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gammapy.maps.Map</span></code></a></span></dt><dd><p>The Map to compare against.</p>
</dd>
<dt><strong>rtol_axes</strong><span class="classifier">float, optional</span></dt><dd><p>Relative tolerance for the axes’ comparison. Default is 1e-3.</p>
</dd>
<dt><strong>atol_axes</strong><span class="classifier">float, optional</span></dt><dd><p>Absolute tolerance for the axes’ comparison. Default is 1e-6.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keywords passed to <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.allclose.html#numpy.allclose" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allclose</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>is_allclose</strong><span class="classifier">bool</span></dt><dd><p>Whether the Map is all close.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.iter_by_axis">
<span class="sig-name descname"><span class="pre">iter_by_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_axis" title="Link to this definition">#</a></dt>
<dd><p>Iterate over a given axis.</p>
<dl class="field-list">
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map iteration.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image</span></code></a></dt><dd><p>iterate by image returning a map.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.iter_by_image">
<span class="sig-name descname"><span class="pre">iter_by_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keepdims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_image" title="Link to this definition">#</a></dt>
<dd><p>Iterate over image planes of a map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>Keep dimensions. Default is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map iteration.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image_data" title="gammapy.maps.HpxNDMap.iter_by_image_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image_data</span></code></a></dt><dd><p>iterate by image returning data and index.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.iter_by_image_data">
<span class="sig-name descname"><span class="pre">iter_by_image_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_image_data" title="Link to this definition">#</a></dt>
<dd><p>Iterate over image planes of the map.</p>
<p>The image plane index is in data order, so that the data array can be
indexed directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>(data, idx)</strong><span class="classifier">tuple</span></dt><dd><p>Where <code class="docutils literal notranslate"><span class="pre">data</span></code> is a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> view of the image plane data,
and <code class="docutils literal notranslate"><span class="pre">idx</span></code> is a tuple of int, the index of the image plane.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image</span></code></a></dt><dd><p>iterate by image returning a map.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.iter_by_image_index">
<span class="sig-name descname"><span class="pre">iter_by_image_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.iter_by_image_index" title="Link to this definition">#</a></dt>
<dd><p>Iterate over image planes of the map.</p>
<p>The image plane index is in data order, so that the data array can be
indexed directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">idx</span></code> is a tuple of int, the index of the image plane.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#gammapy.maps.HpxNDMap.iter_by_image" title="gammapy.maps.HpxNDMap.iter_by_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iter_by_image</span></code></a></dt><dd><p>iterate by image returning a map.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.mask_nearest_position">
<span class="sig-name descname"><span class="pre">mask_nearest_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.mask_nearest_position" title="Link to this definition">#</a></dt>
<dd><p>Given a sky coordinate return nearest valid position in the mask.</p>
<p>If the mask contains additional axes, the mask is reduced over those axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>position</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></span></dt><dd><p>Test position.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>position</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SkyCoord</span></code></a></span></dt><dd><p>The nearest position in the mask.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.normalize" title="Link to this definition">#</a></dt>
<dd><p>Normalise data in place along a given axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axis_name</strong><span class="classifier">str, optional</span></dt><dd><p>Along which axis to normalise.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.pad">
<span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.pad" title="Link to this definition">#</a></dt>
<dd><p>Pad the spatial dimensions of the map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pad_width</strong><span class="classifier">{sequence, array_like, int}</span></dt><dd><p>Number of pixels padded to the edges of each axis.</p>
</dd>
<dt><strong>axis_name</strong><span class="classifier">str, optional</span></dt><dd><p>Which axis to downsample. By default, spatial axes are padded. Default is None.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">{‘constant’, ‘edge’, ‘interp’}</span></dt><dd><p>Padding mode.  ‘edge’ pads with the closest edge value.
‘constant’ pads with a constant value. ‘interp’ pads with
an extrapolated value. Default is ‘constant’.</p>
</dd>
<dt><strong>cval</strong><span class="classifier">float, optional</span></dt><dd><p>Padding value when <code class="docutils literal notranslate"><span class="pre">mode='consant'</span></code>. Default is 0.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Padded map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raster'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot" title="Link to this definition">#</a></dt>
<dd><p>Quickplot method.</p>
<p>This will generate a visualization of the map by converting to
a rasterized WCS image (method=’raster’) or drawing polygons
for each pixel (method=’poly’).</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method</strong><span class="classifier">{‘raster’,’poly’}</span></dt><dd><p>Method for mapping HEALPix pixels to a two-dimensional
image. Can be set to ‘raster’ (rasterization to cartesian
image plane) or ‘poly’ (explicit polygons for each pixel).
WARNING: The ‘poly’ method is much slower than ‘raster’
and only suitable for maps with less than ~10k pixels.
Default is “raster”.</p>
</dd>
<dt><strong>proj</strong><span class="classifier">string, optional</span></dt><dd><p>Any valid WCS projection type. Default is “AIT”.</p>
</dd>
<dt><strong>oversample</strong><span class="classifier">float, optional</span></dt><dd><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal notranslate"><span class="pre">width_pix</span></code>. Default is 2.</p>
</dd>
<dt><strong>width_pix</strong><span class="classifier">int, optional</span></dt><dd><p>Width of the WCS geometry in pixels. The pixel size will
be set to the number of pixels satisfying <code class="docutils literal notranslate"><span class="pre">oversample</span></code>
or <code class="docutils literal notranslate"><span class="pre">width_pix</span></code> whichever is smaller. If this parameter
is None then the width will be set from <code class="docutils literal notranslate"><span class="pre">oversample</span></code>.
Default is 1000.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.9.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>ax</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.visualization.wcsaxes.WCSAxes.html#astropy.visualization.wcsaxes.WCSAxes" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WCSAxes</span></code></a></span></dt><dd><p>WCS axes object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.plot_grid">
<span class="sig-name descname"><span class="pre">plot_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot_grid" title="Link to this definition">#</a></dt>
<dd><p>Plot map as a grid of subplots for non-spatial axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>figsize</strong><span class="classifier">tuple of int, optional</span></dt><dd><p>Figsize to plot on. Default is None.</p>
</dd>
<dt><strong>ncols</strong><span class="classifier">int, optional</span></dt><dd><p>Number of columns to plot. Default is 3.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap.plot" title="gammapy.maps.WcsNDMap.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap.plot</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>axes</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Axes</span></code></span></dt><dd><p>Axes grid.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.plot_interactive">
<span class="sig-name descname"><span class="pre">plot_interactive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rc_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot_interactive" title="Link to this definition">#</a></dt>
<dd><p>Plot map with interactive widgets to explore the non-spatial axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>rc_params</strong><span class="classifier">dict, optional</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">matplotlib.rc_context(rc=rc_params)</span></code> to style the plot. Default is None.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict, optional</span></dt><dd><p>Keyword arguments passed to <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap.plot" title="gammapy.maps.WcsNDMap.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap.plot</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>You can try this out e.g. using a Fermi-LAT diffuse model cube with an energy axis:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gammapy.maps</span> <span class="kn">import</span> <span class="n">Map</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">Map</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;$GAMMAPY_DATA/fermi_3fhl/gll_iem_v06_cutout.fits&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">add_cbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="s2">&quot;sqrt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you would like to adjust the figure size you can use the <code class="docutils literal notranslate"><span class="pre">rc_params</span></code> argument:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">rc_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">rc_params</span><span class="o">=</span><span class="n">rc_params</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.plot_mask">
<span class="sig-name descname"><span class="pre">plot_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raster'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.plot_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.plot_mask" title="Link to this definition">#</a></dt>
<dd><p>Plot the mask as a shaded area.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method</strong><span class="classifier">{‘raster’,’poly’}</span></dt><dd><p>Method for mapping HEALPix pixels to a two-dimensional
image. Can be set to ‘raster’ (rasterization to cartesian
image plane) or ‘poly’ (explicit polygons for each pixel).
WARNING: The ‘poly’ method is much slower than ‘raster’
and only suitable for maps with less than ~10k pixels.
Default is “raster”.</p>
</dd>
<dt><strong>proj</strong><span class="classifier">string, optional</span></dt><dd><p>Any valid WCS projection type. Default is “AIT”.</p>
</dd>
<dt><strong>oversample</strong><span class="classifier">float, optional</span></dt><dd><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HPX pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal notranslate"><span class="pre">width_pix</span></code>. Default is 2.</p>
</dd>
<dt><strong>width_pix</strong><span class="classifier">int, optional</span></dt><dd><p>Width of the WCS geometry in pixels. The pixel size will
be set to the number of pixels satisfying <code class="docutils literal notranslate"><span class="pre">oversample</span></code>
or <code class="docutils literal notranslate"><span class="pre">width_pix</span></code> whichever is smaller. If this parameter
is None then the width will be set from <code class="docutils literal notranslate"><span class="pre">oversample</span></code>.
Default is 1000.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">dict</span></dt><dd><p>Keyword arguments passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.9.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>ax</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.visualization.wcsaxes.WCSAxes.html#astropy.visualization.wcsaxes.WCSAxes" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WCSAxes</span></code></a></span></dt><dd><p>WCS axis object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.read">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checksum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.read" title="Link to this definition">#</a></dt>
<dd><p>Read a map from a FITS file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>filename</strong><span class="classifier">str or <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Path</span></code></a></span></dt><dd><p>Name of the FITS file.</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str, optional</span></dt><dd><p>Name or index of the HDU with the map data. Default is None.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str, optional</span></dt><dd><p>Name or index of the HDU with the BANDS table.  If not
defined this will be inferred from the FITS header of the
map HDU. Default is None.</p>
</dd>
<dt><strong>map_type</strong><span class="classifier">{‘auto’, ‘wcs’, ‘wcs-sparse’, ‘hpx’, ‘hpx-sparse’, ‘region’}</span></dt><dd><p>Map type. Selects the class that will be used to
instantiate the map. The map type should be consistent
with the format of the input file. If map_type is ‘auto’
then an appropriate map type will be inferred from the
input file. Default is ‘auto’.</p>
</dd>
<dt><strong>colname</strong><span class="classifier">str, optional</span></dt><dd><p>data column name to be used for HEALPix map.</p>
</dd>
<dt><strong>checksum</strong><span class="classifier">bool</span></dt><dd><p>If True checks both DATASUM and CHECKSUM cards in the file headers. Default is False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.reduce">
<span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;ufunc</span> <span class="pre">'add'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdims=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reduce" title="Link to this definition">#</a></dt>
<dd><p>Reduce map over a single non-spatial axis.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis_name: str</strong></dt><dd><p>The name of the axis to reduce over.</p>
</dd>
<dt><strong>func</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></a>, optional</span></dt><dd><p>Function to use for reducing the data. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.add.html#numpy.add" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.add</span></code></a>.</p>
</dd>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin. Default is False.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Weights to be applied. The map should have the same geometry as this one. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with the given non-spatial axes reduced.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.reduce_over_axes">
<span class="sig-name descname"><span class="pre">reduce_over_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func=&lt;ufunc</span> <span class="pre">'add'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdims=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes_names=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reduce_over_axes" title="Link to this definition">#</a></dt>
<dd><p>Reduce map over non-spatial axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>func</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></a>, optional</span></dt><dd><p>Function to use for reducing the data. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.add.html#numpy.add" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.add</span></code></a>.</p>
</dd>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin. Default is False.</p>
</dd>
<dt><strong>axes_names: list, optional</strong></dt><dd><p>Names of axis to reduce over. If None, all non-spatial axis will be reduced.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a>, optional</span></dt><dd><p>Weights to be applied. The map should have the same geometry as this one. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with non-spatial axes reduced.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.rename_axes">
<span class="sig-name descname"><span class="pre">rename_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.rename_axes" title="Link to this definition">#</a></dt>
<dd><p>Rename the Map axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>names</strong><span class="classifier">str or list of str</span></dt><dd><p>Names of the axes.</p>
</dd>
<dt><strong>new_names</strong><span class="classifier">str or list of str</span></dt><dd><p>New names of the axes. The list must be of the same length as <code class="xref py py-obj docutils literal notranslate"><span class="pre">names</span></code>).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with renamed axes.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.reorder_axes">
<span class="sig-name descname"><span class="pre">reorder_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes_names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reorder_axes" title="Link to this definition">#</a></dt>
<dd><p>Return a new map re-ordering the non-spatial axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axes_names</strong><span class="classifier">list of str</span></dt><dd><p>The list of axes names in the required order.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>The map with axes re-ordered.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.reproject_by_image">
<span class="sig-name descname"><span class="pre">reproject_by_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reproject_by_image" title="Link to this definition">#</a></dt>
<dd><p>Reproject each image of a ND map to input 2d geometry.</p>
<p>For large maps this method is faster than <a class="reference internal" href="#gammapy.maps.HpxNDMap.reproject_to_geom" title="gammapy.maps.HpxNDMap.reproject_to_geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reproject_to_geom</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Target slice geometry in 2D.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be True
if the map is an integral quantity (e.g. counts) and False if
the map is a differential quantity (e.g. intensity). Default is False.</p>
</dd>
<dt><strong>precision_factor</strong><span class="classifier">int, optional</span></dt><dd><p>Minimal factor between the bin size of the output map and the oversampled base map.
Used only for the oversampling method. Default is 10.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>output_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Reprojected Map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.reproject_to_geom">
<span class="sig-name descname"><span class="pre">reproject_to_geom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.reproject_to_geom" title="Link to this definition">#</a></dt>
<dd><p>Reproject map to input geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Target Map geometry.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity). Default is False.</p>
</dd>
<dt><strong>precision_factor</strong><span class="classifier">int, optional</span></dt><dd><p>Minimal factor between the bin size of the output map and the oversampled base map.
Used only for the oversampling method. Default is 10.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>output_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Reprojected Map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.resample">
<span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.resample" title="Link to this definition">#</a></dt>
<dd><p>Resample pixels to <code class="docutils literal notranslate"><span class="pre">geom</span></code> with given <code class="docutils literal notranslate"><span class="pre">weights</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Geom.html#gammapy.maps.Geom" title="gammapy.maps.Geom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Geom</span></code></a></span></dt><dd><p>Target Map geometry.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a>, optional</span></dt><dd><p>Weights vector. It must have same shape as the data of the map.
If set to None, weights will be set to 1. Default is None.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin.  This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity). Default is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>resampled_map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Resampled map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.resample_axis">
<span class="sig-name descname"><span class="pre">resample_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ufunc=&lt;ufunc</span> <span class="pre">'add'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.resample_axis" title="Link to this definition">#</a></dt>
<dd><p>Resample map to a new axis by grouping and reducing smaller bins by a given function <code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code>.</p>
<p>By default, the map content are summed over the smaller bins. Other <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ufunc</span></code></a> can be
used, e.g. <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.logical_and.html#numpy.logical_and" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.logical_and</span></code></a> or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.logical_or.html#numpy.logical_or" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.logical_or</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axis</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.MapAxis.html#gammapy.maps.MapAxis" title="gammapy.maps.MapAxis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapAxis</span></code></a></span></dt><dd><p>New map axis.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a>, optional</span></dt><dd><p>Array to be used as weights. The spatial geometry must be equivalent
to <code class="xref py py-obj docutils literal notranslate"><span class="pre">other</span></code> and additional axes must be broadcastable. If set to None, weights will be set to 1.
Default is None.</p>
</dd>
<dt><strong>ufunc</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ufunc.html#numpy.ufunc" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ufunc</span></code></a></span></dt><dd><p>Universal function to use to resample the axis. Default is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.add.html#numpy.add" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.add</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with resampled axis.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.sample_coord">
<span class="sig-name descname"><span class="pre">sample_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.sample_coord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.sample_coord" title="Link to this definition">#</a></dt>
<dd><p>Sample position and energy of events.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>n_events</strong><span class="classifier">int</span></dt><dd><p>Number of events to sample.</p>
</dd>
<dt><strong>random_state</strong><span class="classifier">{int, ‘random-seed’, ‘global-rng’, <a class="reference external" href="https://numpy.org/doc/stable/reference/random/legacy.html#numpy.random.RandomState" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomState</span></code></a>}</span></dt><dd><p>Defines random number generator initialisation.
Passed to <a class="reference internal" href="gammapy.utils.random.get_random_state.html#gammapy.utils.random.get_random_state" title="gammapy.utils.random.get_random_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_random_state</span></code></a>. Default is 0.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>coords</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a> object.</span></dt><dd><p>Sequence of coordinates and energies of the sampled events.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.set_by_coord">
<span class="sig-name descname"><span class="pre">set_by_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_coord" title="Link to this definition">#</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">coords</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>coords</strong><span class="classifier">tuple or <a class="reference internal" href="gammapy.maps.MapCoord.html#gammapy.maps.MapCoord" title="gammapy.maps.MapCoord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MapCoord</span></code></a></span></dt><dd><p>Coordinate arrays for each dimension of the map. Tuple
should be ordered as (lon, lat, x_0, …, x_n) where x_i
are coordinates for non-spatial dimensions of the map.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.set_by_idx">
<span class="sig-name descname"><span class="pre">set_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.set_by_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_idx" title="Link to this definition">#</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">idx</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>idx</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.set_by_pix">
<span class="sig-name descname"><span class="pre">set_by_pix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.set_by_pix" title="Link to this definition">#</a></dt>
<dd><p>Set pixels at <code class="docutils literal notranslate"><span class="pre">pix</span></code> with given <code class="docutils literal notranslate"><span class="pre">vals</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>pix</strong><span class="classifier">tuple</span></dt><dd><p>Tuple of pixel index arrays for each dimension of the map.
Tuple should be ordered as (I_lon, I_lat, I_0, …, I_n)
for WCS maps and (I_hpx, I_0, …, I_n) for HEALPix maps.
Pixel indices can be either float or integer type. Float
indices will be rounded to the nearest integer.</p>
</dd>
<dt><strong>vals</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code></a></span></dt><dd><p>Values vector.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.slice_by_idx">
<span class="sig-name descname"><span class="pre">slice_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.slice_by_idx" title="Link to this definition">#</a></dt>
<dd><p>Slice sub map from map object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>slices</strong><span class="classifier">dict</span></dt><dd><p>Dictionary of axes names and integers or <a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice</span></code></a> object pairs. Contains one
element for each non-spatial dimension. For integer indexing the
corresponding axes is dropped from the map. Axes not specified in the
dictionary are kept unchanged.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Sliced map object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gammapy.maps</span> <span class="kn">import</span> <span class="n">Map</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Map</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;$GAMMAPY_DATA/fermi_3fhl/gll_iem_v06_cutout.fits&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slices</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sliced</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">slice_by_idx</span><span class="p">(</span><span class="n">slices</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.smooth">
<span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gauss'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.smooth" title="Link to this definition">#</a></dt>
<dd><p>Smooth the map.</p>
<p>Iterates over 2D image planes, processing one at a time.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>width</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code></a>, str or float</span></dt><dd><p>Smoothing width given as quantity or float. If a float is given it is
interpreted as smoothing width in pixels. If an (angular) quantity
is given it is converted to pixels using <code class="xref py py-obj docutils literal notranslate"><span class="pre">nside2resol</span></code>.
It corresponds to the standard deviation in case of a Gaussian kernel,
and the radius in case of a disk kernel.</p>
</dd>
<dt><strong>kernel</strong><span class="classifier">{‘gauss’, ‘disk’}, optional</span></dt><dd><p>Kernel shape. Default is “gauss”.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>image</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Smoothed image (a copy, the original object is unchanged).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.split_by_axis">
<span class="sig-name descname"><span class="pre">split_by_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.split_by_axis" title="Link to this definition">#</a></dt>
<dd><p>Split a Map along an axis into multiple maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axis_name</strong><span class="classifier">str</span></dt><dd><p>Name of the axis to split.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>maps</strong><span class="classifier">list</span></dt><dd><p>A list of <a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.stack">
<span class="sig-name descname"><span class="pre">stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_to_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.stack" title="Link to this definition">#</a></dt>
<dd><p>Stack cutout into map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>Other map to stack.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a>, optional</span></dt><dd><p>Array to be used as weights. The spatial geometry must be equivalent
to <code class="xref py py-obj docutils literal notranslate"><span class="pre">other</span></code> and additional axes must be broadcastable.
Default is None.</p>
</dd>
<dt><strong>nan_to_num: bool, optional</strong></dt><dd><p>Non-finite values are replaced by zero if True.
Default is True.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.sum_over_axes">
<span class="sig-name descname"><span class="pre">sum_over_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.sum_over_axes" title="Link to this definition">#</a></dt>
<dd><p>Sum map values over all non-spatial axes.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>axes_names: list of str</strong></dt><dd><p>Names of the axis to reduce over. If None, all non-spatial axis will be summed over. Default is None.</p>
</dd>
<dt><strong>keepdims</strong><span class="classifier">bool, optional</span></dt><dd><p>If this is set to true, the axes which are summed over are left in
the map with a single bin. Default is True.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a>, optional</span></dt><dd><p>Weights to be applied. The map should have the same geometry as this one. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with non-spatial axes summed over.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_cube">
<span class="sig-name descname"><span class="pre">to_cube</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_cube" title="Link to this definition">#</a></dt>
<dd><p>Append non-spatial axes to create a higher-dimensional Map.</p>
<p>This will result in a Map with a new geometry with
N+M dimensions where N is the number of current dimensions and
M is the number of axes in the list. The data is reshaped onto this
new geometry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>axes</strong><span class="classifier">list</span></dt><dd><p>Axes that will be appended to this Map.
The axes should have only one bin.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a></span></dt><dd><p>New map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_hdu">
<span class="sig-name descname"><span class="pre">to_hdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_hdu" title="Link to this definition">#</a></dt>
<dd><p>Make a FITS HDU with input data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hdu</strong><span class="classifier">str, optional</span></dt><dd><p>The HDU extension name. Default is None.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str, optional</span></dt><dd><p>The HDU extension name for BANDS table. Default is None.</p>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool, optional</span></dt><dd><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.
Default is False.</p>
</dd>
<dt><strong>format</strong><span class="classifier">{None, ‘fgst-ccube’, ‘fgst-template’, ‘gadf’}</span></dt><dd><p>FITS format convention. If None this will be set to the
default convention of the map. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>hdu_out</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/tables.html#astropy.io.fits.BinTableHDU" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BinTableHDU</span></code></a> or <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/images.html#astropy.io.fits.ImageHDU" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageHDU</span></code></a></span></dt><dd><p>Output HDU containing map data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_hdulist">
<span class="sig-name descname"><span class="pre">to_hdulist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SKYMAP'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hdu_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gadf'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_hdulist" title="Link to this definition">#</a></dt>
<dd><p>Convert to <a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>hdu</strong><span class="classifier">str, optional</span></dt><dd><p>The HDU extension name. Default is “SKYMAP”.</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str, optional</span></dt><dd><p>The HDU extension name for BANDS table.
Default is None.</p>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool, optional</span></dt><dd><p>Set INDXSCHM to SPARSE and sparsify the map by only
writing pixels with non-zero amplitude.
Default is False.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention. By default, files will be written
to the gamma-astro-data-formats (GADF) format. This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>hdu_list</strong><span class="classifier"><a class="reference external" href="https://docs.astropy.org/en/latest/io/fits/api/hdulists.html#astropy.io.fits.HDUList" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HDUList</span></code></a></span></dt><dd><p>The FITS HDUList.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_nside">
<span class="sig-name descname"><span class="pre">to_nside</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nside</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.to_nside"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_nside" title="Link to this definition">#</a></dt>
<dd><p>Upsample or downsample the map to a given nside.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nside</strong><span class="classifier">int</span></dt><dd><p>HEALPix NSIDE parameter.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity).
Default is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>geom</strong><span class="classifier"><a class="reference internal" href="#gammapy.maps.HpxNDMap" title="gammapy.maps.HpxNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a></span></dt><dd><p>HEALPix map with new NSIDE.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_region_nd_map">
<span class="sig-name descname"><span class="pre">to_region_nd_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func=&lt;function</span> <span class="pre">nansum&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method='nearest'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.to_region_nd_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_region_nd_map" title="Link to this definition">#</a></dt>
<dd><p>Get region ND map in a given region.</p>
<p>By default, the whole map region is considered.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>region: `~regions.Region` or `~astropy.coordinates.SkyCoord`</strong></dt><dd><p>Region.</p>
</dd>
<dt><strong>func</strong><span class="classifier">numpy.func, optional</span></dt><dd><p>Function to reduce the data. Default is np.nansum.
For boolean Map, use np.any or np.all.</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a>, optional</span></dt><dd><p>Array to be used as weights. The geometry must be equivalent.
Default is None.</p>
</dd>
<dt><strong>method</strong><span class="classifier">{“nearest”, “linear”}</span></dt><dd><p>How to interpolate if a position is given.
Default is “neraest”.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>spectrum</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.RegionNDMap.html#gammapy.maps.RegionNDMap" title="gammapy.maps.RegionNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RegionNDMap</span></code></a></span></dt><dd><p>Spectrum in the given region.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_swapped">
<span class="sig-name descname"><span class="pre">to_swapped</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.to_swapped"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_swapped" title="Link to this definition">#</a></dt>
<dd><p>Return a new map with the opposite scheme (ring or nested).</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.HpxMap.html#gammapy.maps.HpxMap" title="gammapy.maps.HpxMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxMap</span></code></a></span></dt><dd><p>Map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_unit">
<span class="sig-name descname"><span class="pre">to_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_unit" title="Link to this definition">#</a></dt>
<dd><p>Convert map to a different unit.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>unit</strong><span class="classifier">str or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Unit</span></code></span></dt><dd><p>New unit.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Map with new unit and converted data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_wcs">
<span class="sig-name descname"><span class="pre">to_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sum_bands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'AIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_pix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hpx2wcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.to_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_wcs" title="Link to this definition">#</a></dt>
<dd><p>Make a WCS object and convert HEALPix data into WCS projection.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sum_bands</strong><span class="classifier">bool, optional</span></dt><dd><p>Sum over non-spatial axes before reprojecting. If False
then the WCS map will have the same dimensionality as the
HEALPix one. Default is False.</p>
</dd>
<dt><strong>normalize</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve integral by splitting HEALPix values between bins.
Default is True.</p>
</dd>
<dt><strong>proj</strong><span class="classifier">str, optional</span></dt><dd><p>WCS-projection. Default is “AIT”.</p>
</dd>
<dt><strong>oversample</strong><span class="classifier">float, optional</span></dt><dd><p>Oversampling factor for WCS map. This will be the
approximate ratio of the width of a HEALPix pixel to a WCS
pixel. If this parameter is None then the width will be
set from <code class="docutils literal notranslate"><span class="pre">width_pix</span></code>. Default is 2.</p>
</dd>
<dt><strong>width_pix</strong><span class="classifier">int, optional</span></dt><dd><p>Width of the WCS geometry in pixels. The pixel size will
be set to the number of pixels satisfying <code class="docutils literal notranslate"><span class="pre">oversample</span></code>
or <code class="docutils literal notranslate"><span class="pre">width_pix</span></code> whichever is smaller. If this parameter
is None then the width will be set from <code class="docutils literal notranslate"><span class="pre">oversample</span></code>.
Default is None.</p>
</dd>
<dt><strong>hpx2wcs</strong><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpxToWcsMapping</span></code>, optional</span></dt><dd><p>Set the HEALPix to WCS mapping object that will be used to
generate the WCS map. If None then a new mapping will be
generated based on <code class="docutils literal notranslate"><span class="pre">proj</span></code> and <code class="docutils literal notranslate"><span class="pre">oversample</span></code> arguments.
Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map_out</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.WcsMap.html#gammapy.maps.WcsMap" title="gammapy.maps.WcsMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsMap</span></code></a></span></dt><dd><p>WCS map object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.to_wcs_tiles">
<span class="sig-name descname"><span class="pre">to_wcs_tiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nside_tiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'0</span> <span class="pre">deg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oversampling_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.to_wcs_tiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.to_wcs_tiles" title="Link to this definition">#</a></dt>
<dd><p>Convert HpxNDMap to a list of WCS tiles.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nside_tiles</strong><span class="classifier">int, optional</span></dt><dd><p>HEALPix NSIDE parameter for super pixel tiles. Default is 4.</p>
</dd>
<dt><strong>margin</strong><span class="classifier">Angle, optional</span></dt><dd><p>Width margin of the WCS tile. Default is “0 deg”.</p>
</dd>
<dt><strong>method</strong><span class="classifier">{‘nearest’, ‘linear’}</span></dt><dd><p>Interpolation method. Default is “nearest”.</p>
</dd>
<dt><strong>oversampling_factor</strong><span class="classifier">int, optional</span></dt><dd><p>Oversampling factor. Default is 1.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>wcs_tiles</strong><span class="classifier">list of <a class="reference internal" href="gammapy.maps.WcsNDMap.html#gammapy.maps.WcsNDMap" title="gammapy.maps.WcsNDMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap</span></code></a></span></dt><dd><p>WCS tiles.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.upsample">
<span class="sig-name descname"><span class="pre">upsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_counts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gammapy/maps/hpx/ndmap.html#HpxNDMap.upsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gammapy.maps.HpxNDMap.upsample" title="Link to this definition">#</a></dt>
<dd><p>Upsample the spatial dimension by a given factor.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>factor</strong><span class="classifier">int</span></dt><dd><p>Upsampling factor.</p>
</dd>
<dt><strong>order</strong><span class="classifier">int, optional</span></dt><dd><p>Order of the interpolation used for upsampling. Default is 0.</p>
</dd>
<dt><strong>preserve_counts</strong><span class="classifier">bool, optional</span></dt><dd><p>Preserve the integral over each bin. This should be true
if the map is an integral quantity (e.g. counts) and false if
the map is a differential quantity (e.g. intensity). Default is True.</p>
</dd>
<dt><strong>axis_name</strong><span class="classifier">str, optional</span></dt><dd><p>Which axis to upsample. By default, spatial axes are upsampled. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>map</strong><span class="classifier"><a class="reference internal" href="gammapy.maps.Map.html#gammapy.maps.Map" title="gammapy.maps.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code></a></span></dt><dd><p>Upsampled map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gammapy.maps.HpxNDMap.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gammapy.maps.HpxNDMap.write" title="Link to this definition">#</a></dt>
<dd><p>Write to a FITS file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>filename</strong><span class="classifier">str</span></dt><dd><p>Output file name.</p>
</dd>
<dt><strong>overwrite</strong><span class="classifier">bool, optional</span></dt><dd><p>Overwrite existing file. Default is False.</p>
</dd>
<dt><strong>hdu</strong><span class="classifier">str, optional</span></dt><dd><p>Set the name of the image extension. By default, this will
be set to ‘SKYMAP’ (for BINTABLE HDU) or ‘PRIMARY’ (for IMAGE
HDU).</p>
</dd>
<dt><strong>hdu_bands</strong><span class="classifier">str, optional</span></dt><dd><p>Set the name of the bands table extension. Default is ‘BANDS’.</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>FITS format convention. By default, files will be written
to the gamma-astro-data-formats (GADF) format.  This
option can be used to write files that are compliant with
format conventions required by specific software (e.g. the
Fermi Science Tools). The following formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>“gadf” (default)</p></li>
<li><p>“fgst-ccube”</p></li>
<li><p>“fgst-ltcube”</p></li>
<li><p>“fgst-bexpcube”</p></li>
<li><p>“fgst-srcmap”</p></li>
<li><p>“fgst-template”</p></li>
<li><p>“fgst-srcmap-sparse”</p></li>
<li><p>“galprop”</p></li>
<li><p>“galprop2”</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>sparse</strong><span class="classifier">bool, optional</span></dt><dd><p>Sparsify the map by dropping pixels with zero amplitude.
This option is only compatible with the ‘gadf’ format.</p>
</dd>
<dt><strong>checksum</strong><span class="classifier">bool, optional</span></dt><dd><p>When True adds both DATASUM and CHECKSUM cards to the headers written to the file.
Default is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap"><code class="docutils literal notranslate"><span class="pre">HpxNDMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.data"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.data</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.geom"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.geom</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.is_mask"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.is_mask</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.meta"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.meta</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.quantity"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.quantity</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.tag"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.tag</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.unit"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.unit</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.coadd"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.coadd()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.convolve"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.convolve()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.convolve_full"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.convolve_full()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.convolve_wcs"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.convolve_wcs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.copy"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.copy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.create"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.create()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.crop"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.crop()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.cumsum"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.cumsum()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.cutout"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.cutout()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.dot"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.dot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.downsample"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.downsample()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.fill_by_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.fill_by_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.fill_by_idx"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.fill_by_idx()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.fill_by_pix"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.fill_by_pix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.fill_events"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.fill_events()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.from_geom"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.from_geom()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.from_hdu"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.from_hdu()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.from_hdulist"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.from_hdulist()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.from_stack"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.from_stack()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.from_wcs_tiles"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.from_wcs_tiles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_by_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_by_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_by_idx"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_by_idx()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_by_pix"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_by_pix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_image_by_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_image_by_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_image_by_idx"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_image_by_idx()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_image_by_pix"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_image_by_pix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.get_spectrum"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.get_spectrum()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.integral"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.integral()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.interp_by_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.interp_by_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.interp_by_pix"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.interp_by_pix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.interp_to_geom"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.interp_to_geom()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.is_allclose"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.is_allclose()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.iter_by_axis"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.iter_by_axis()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.iter_by_image"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.iter_by_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.iter_by_image_data"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.iter_by_image_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.iter_by_image_index"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.iter_by_image_index()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.mask_nearest_position"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.mask_nearest_position()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.normalize"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.normalize()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.pad"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.pad()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.plot"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.plot_grid"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.plot_grid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.plot_interactive"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.plot_interactive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.plot_mask"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.plot_mask()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.read"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.read()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.reduce"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.reduce()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.reduce_over_axes"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.reduce_over_axes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.rename_axes"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.rename_axes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.reorder_axes"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.reorder_axes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.reproject_by_image"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.reproject_by_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.reproject_to_geom"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.reproject_to_geom()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.resample"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.resample()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.resample_axis"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.resample_axis()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.sample_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.sample_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.set_by_coord"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.set_by_coord()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.set_by_idx"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.set_by_idx()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.set_by_pix"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.set_by_pix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.slice_by_idx"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.slice_by_idx()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.smooth"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.smooth()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.split_by_axis"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.split_by_axis()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.stack"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.stack()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.sum_over_axes"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.sum_over_axes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_cube"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_cube()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_hdu"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_hdu()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_hdulist"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_hdulist()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_nside"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_nside()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_region_nd_map"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_region_nd_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_swapped"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_swapped()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_unit"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_unit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_wcs"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_wcs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.to_wcs_tiles"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.to_wcs_tiles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.upsample"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.upsample()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gammapy.maps.HpxNDMap.write"><code class="docutils literal notranslate"><span class="pre">HpxNDMap.write()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/api/gammapy.maps.HpxNDMap.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, The Gammapy developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
    
     <a href="https://gammapy.org/DataPrivacy.html">Data Privacy.</a>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item"><p class="last-updated">
  Last updated on 25 Nov 2024.
  <br/>
</p></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>