
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1.1 (June 13th 2023) &#8212; gammapy vX.Y.Z</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gammapy.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/gammapy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.0.1 (March 14th, 2023)" href="v1.0.1.html" />
    <link rel="prev" title="Release notes" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/gammapy_logo_nav.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting-started/index.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user-guide/index.html">
  User guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../tutorials/index.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api-reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../development/index.html">
  Developer guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Release notes
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        dev  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables release-notes/v1.1 and {'json_url': 'https://docs.gammapy.org/stable/switcher.json', 'version_match': 'dev'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "release-notes/v1.1.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://docs.gammapy.org/stable/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "release-notes/v1.1.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 1.2.dev992+g8140b39d2 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "dev") {
                node.classList.add("active");
                let btn = document.getElementById("version_switcher_button");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/gammapy/gammapy" rel="noopener" target="_blank" title="Github"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">Github</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/gammapyST" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://gammapy.slack.com/" rel="noopener" target="_blank" title="Slack"><span><i class="fab fa-slack"></i></span>
            <label class="sr-only">Slack</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1.1 (June 13th 2023)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v1.0.1.html">
   1.0.1 (March 14th, 2023)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v1.0.html">
   1.0 (November 10th, 2022)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.20.1.html">
   0.20.1 (June 16th, 2022)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.20.html">
   0.20 (May 12th, 2022)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.19.html">
   0.19 (Nov 22nd, 2021)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.18.2.html">
   0.18.2 (Nov 19th, 2020)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="v0.18.1.html">
   0.18.1 (Nov 6th, 2020)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="v0.18.html">
   0.18 (Nov 4th, 2020)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.17.html">
   0.17 (Apr 1, 2020)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.16.html">
   0.16 (Feb 1, 2020)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.15.html">
   0.15 (Dec 3, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.14.html">
   0.14 (Sep 30, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.13.html">
   0.13 (Jul 26, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.12.html">
   0.12 (May 30, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.11.html">
   0.11 (Mar 29, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.10.html">
   0.10 (Jan 28, 2019)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.9.html">
   0.9 (Nov 29, 2018)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.8.html">
   0.8 (Sep 23, 2018)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.7.html">
   0.7 (Feb 28, 2018)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.6.html">
   0.6 (Apr 28, 2017)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.5.html">
   0.5 (Nov 22, 2016)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.4.html">
   0.4 (Apr 20, 2016)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.3.html">
   0.3 (Aug 13, 2015)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.2.html">
   0.2 (Apr 13, 2015)
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0.1.html">
   0.1 (Aug 25, 2014)
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#new-features">
   New features
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api-changes">
   API changes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bug-fixes-and-improvements">
   Bug fixes and improvements
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#contributors">
   Contributors
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-requests">
   Pull Requests
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="june-13th-2023">
<span id="gammapy-1p1-release"></span><h1>1.1 (June 13th 2023)<a class="headerlink" href="#june-13th-2023" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>Released June 13th, 2023</p></li>
<li><p>17 contributors</p></li>
<li><p>129 pull requests since v1.0 (not all listed below)</p></li>
<li><p>85 closed issues</p></li>
</ul>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p>This release introduces a number of new features as well as some performance improvements.</p>
<p>Support for energy dependent temporal models is introduced. Only template models are supported.
They use a <code class="xref py py-obj docutils literal notranslate"><span class="pre">RegionNDMap</span></code> object with an energy and a time axis. Note that these models
are meant for event simulation with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapDatasetEventSampler</span></code> and cannot be used
for modeling and fitting.</p>
<p>A tutorial demonstrating how to simulate events using this type of models has been added.</p>
<p>Support for multiprocessing is improved. <code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxPointsEstimator</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">LightCurveEstimator</span></code>
can now run on several cores. This is defined with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">n_jobs</span></code> parameter that can be set on
init. The backend used by default is the python multiprocessing. This interface is also used
by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">DatasetsMaker</span></code> that performs the data reduction loop.</p>
<p>A first step in the separation of the internal data model and the GADF format is introduced
in this release in the handling of the pointing and the GTI. This is part of a larger project
that will be implemented in the coming feature releases to allow I/O with multiple data formats.</p>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">#</a></h2>
<p><em>gammapy.data</em></p>
<ul class="simple">
<li><p>A new function <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_irfs_features()</span></code> can extract the features of IRFs
(such as energy resolution bias or PSF radius) of a list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation</span></code>. The output
list can then be passed to the function <code class="xref py py-obj docutils literal notranslate"><span class="pre">hierarchical_clustering()</span></code>
which will find clusters of IRF features allowing to combine <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation</span></code> with similar
IRF characteristics during analysis.</p></li>
</ul>
<p><em>gammapy.maps</em></p>
<ul class="simple">
<li><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.reorder_axes</span></code> helper method has been introduced.</p></li>
<li><p>Dot product is now supported with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.dot()</span></code> function. It applies the dot product on
the axes sharing the same name. It can also be called via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;</span></code> operator.</p></li>
<li><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">WcsNDMap.to_region_nd_map_histogram()</span></code> helper method is introduced to compute
the histogram of the map values along the spatial dimensions for each non spatial axes
bins.</p></li>
</ul>
<p><em>gammapy.modeling</em></p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/gammapy.modeling.models.LightCurveTemplateTemporalModel.html#gammapy.modeling.models.LightCurveTemplateTemporalModel" title="gammapy.modeling.models.LightCurveTemplateTemporalModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LightCurveTemplateTemporalModel</span></code></a> now supports energy dependent
light curve templates. These models are now created from a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code> object with a <a class="reference external" href="https://docs.python.org/3/library/time.html#module-time" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code></a> axis
and optionally with an <code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_true</span></code> axis. They can be read from an <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code></a>
(only regular light curve models) or from a serialized <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code>. For now, the energy dependent
models cannot be used for analysis.</p></li>
<li><p>A new function <code class="xref py py-obj docutils literal notranslate"><span class="pre">select_nested_models</span></code> has been introduced to perform
nested model fits and compute the resulting test statistic (TS) between two nested hypotheses.
It can be used to determine whether the addition of a source to the model is significant or
to test for specific features in a model (e.g. test the existence of a spectral cutoff).</p></li>
<li><p>A new method has been added on <code class="xref py py-obj docutils literal notranslate"><span class="pre">SpectralModel.spectral_index_error()</span></code> to compute
the spectral index at a given energy as well as its error by error propagation of
the covariance matrix elements.</p></li>
<li><p>The Franceschini (2018) and Saldana-Lopez (2021) EBL are now part of the built-ins
EBL models.</p></li>
<li><p>A spatial correction model can now be added to the <a class="reference internal" href="../api/gammapy.modeling.models.FoVBackgroundModel.html#gammapy.modeling.models.FoVBackgroundModel" title="gammapy.modeling.models.FoVBackgroundModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FoVBackgroundModel</span></code></a>.
It can be used with a new spatial model, the <a class="reference internal" href="../api/gammapy.modeling.models.PiecewiseNormSpatialModel.html#gammapy.modeling.models.PiecewiseNormSpatialModel" title="gammapy.modeling.models.PiecewiseNormSpatialModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PiecewiseNormSpatialModel</span></code></a>.</p></li>
</ul>
<p><em>gammapy.estimators</em></p>
<ul class="simple">
<li><p>Multiprocessing is now supported for <code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxPointsEstimator</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">LightCurveEstimator</span></code>. Setting
the number of cores used is done with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">n_jobs</span></code> property that is available on these
classes.</p></li>
</ul>
<p><em>gammapy.visualization</em></p>
<ul class="simple">
<li><p>A function to plot <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code> as RGB is now proposed: <a class="reference internal" href="../api/gammapy.visualization.plot_map_rgb.html#gammapy.visualization.plot_map_rgb" title="gammapy.visualization.plot_map_rgb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_map_rgb()</span></code></a>.</p></li>
<li><p>A function to plot the spectral distributions of predicted counts of models defined
on a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Dataset</span></code> is now available : <a class="reference internal" href="../api/gammapy.visualization.plot_npred_signal.html#gammapy.visualization.plot_npred_signal" title="gammapy.visualization.plot_npred_signal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_npred_signal()</span></code></a></p></li>
</ul>
<p><em>documentation</em></p>
<ul class="simple">
<li><p>A new tutorial to demonstrate how to use Gammapy with HAWC data.</p></li>
<li><p>The pulsar analysis tutorial now shows how to create a <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapDatasetOnOff</span></code> using phase
information.</p></li>
<li><p>A new tutorial demonstrating event sampling with energy dependent temporal models has
been added.</p></li>
</ul>
<p><em>infrastructure</em></p>
<ul class="simple">
<li><p>Deprecation warnings can now be raised by Gammapy deprecated code. The warnings will appear
in the documentation and docstrings as well. Deprecated features will usually be removed
in the following feature release.</p></li>
<li><p>Minimal python version is now 3.9. Python 3.10 is supported as well.</p></li>
</ul>
</section>
<section id="api-changes">
<h2>API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">#</a></h2>
<p><em>gammapy.data</em></p>
<ul class="simple">
<li><p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation.pointing_radec</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation.pointing_altaz</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation.pointing_zen</span></code>
are now deprecated. One should use <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation.get_pointing_icrs(time)</span></code> instead. This approach
will support different pointing strategies. In most cases, taking the pointing at the mid
time of an observation is sufficient. This is provided by the property <code class="xref py py-obj docutils literal notranslate"><span class="pre">Observation.tmid</span></code>.</p></li>
<li><p>To separate data format and data model and to support observations with fixed pointing,
the <a class="reference internal" href="../api/gammapy.data.FixedPointingInfo.html#gammapy.data.FixedPointingInfo" title="gammapy.data.FixedPointingInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FixedPointingInfo</span></code></a> has been restructured. Most of its properties
have been deprecated. The main functions are <code class="xref py py-obj docutils literal notranslate"><span class="pre">FixedPointingInfo.get_icrs(time,</span> <span class="pre">location)</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">FixedPointingInfo.get_altaz(time,</span> <span class="pre">location)</span></code></p></li>
<li><p>the <code class="xref py py-obj docutils literal notranslate"><span class="pre">GTI</span></code> now consists in a simple <code class="xref py py-obj docutils literal notranslate"><span class="pre">Table</span></code> with <code class="xref py py-obj docutils literal notranslate"><span class="pre">START</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">STOP</span></code> as <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code></a>
object. <code class="xref py py-obj docutils literal notranslate"><span class="pre">GTI.table</span></code> no longer contains a GADF formatted table with columns representing
start and stop time as METs (Mission Elpased Time). All methods should behave equivalently
with the same interface.</p></li>
</ul>
<p><em>gammapy.irf</em></p>
<ul class="simple">
<li><p><a class="reference internal" href="../api/gammapy.irf.load_cta_irfs.html#gammapy.irf.load_cta_irfs" title="gammapy.irf.load_cta_irfs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_cta_irfs</span></code></a> is now deprecated. Use instead the more general
<a class="reference internal" href="../api/gammapy.irf.load_irf_dict_from_file.html#gammapy.irf.load_irf_dict_from_file" title="gammapy.irf.load_irf_dict_from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_irf_dict_from_file</span></code></a></p></li>
</ul>
<p><em>gammapy.modeling</em></p>
<ul class="simple">
<li><p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">FitResult.iminuit</span></code> attribute is now deprecated. It should be accessed from <code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize_result</span></code>
property instead, via: <code class="xref py py-obj docutils literal notranslate"><span class="pre">FitResult.optimize_result.iminuit</span></code>.</p></li>
</ul>
<p><em>gammapy.utils</em></p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/gammapy.utils.table.table_from_row_data.html#gammapy.utils.table.table_from_row_data" title="gammapy.utils.table.table_from_row_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_from_row_data()</span></code></a> is now deprecated. It can be simply replaced
by the regular constructor : <code class="xref py py-obj docutils literal notranslate"><span class="pre">Table(rows)</span></code>.</p></li>
</ul>
</section>
<section id="bug-fixes-and-improvements">
<h2>Bug fixes and improvements<a class="headerlink" href="#bug-fixes-and-improvements" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map.fill_events()</span></code> method now supports adding weights to the input events.</p></li>
<li><p>The output of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">FitResult</span></code> has been clarified in some failure cases.</p></li>
<li><p>The energy dependent RADMAX cut is now supported by the <a class="reference internal" href="../api/gammapy.makers.PhaseBackgroundMaker.html#gammapy.makers.PhaseBackgroundMaker" title="gammapy.makers.PhaseBackgroundMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PhaseBackgroundMaker</span></code></a>.</p></li>
<li><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">scale</span></code> attribute was added to <code class="xref py py-obj docutils literal notranslate"><span class="pre">TemporalModel</span></code> classes. It is used to treat the <code class="xref py py-obj docutils literal notranslate"><span class="pre">t_ref</span></code>
parameter in a consistent manner via a <code class="xref py py-obj docutils literal notranslate"><span class="pre">TemporalModel.reference_time</span></code> that converts the
parameter (defined in mjd) in a proper <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.time.Time.html#astropy.time.Time" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Time</span></code></a>. It avoids comparing
inconsistent scales when evaluating temporal models.</p></li>
<li><p>The <a class="reference internal" href="../api/gammapy.estimators.TSMapEstimator.html#gammapy.estimators.TSMapEstimator" title="gammapy.estimators.TSMapEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TSMapEstimator</span></code></a> now accepts <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapDatasetOnOff</span></code> as well
as regular <code class="xref py py-obj docutils literal notranslate"><span class="pre">MapDataset</span></code>.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">FluxPoints.plot()</span></code> now includes a <code class="xref py py-obj docutils literal notranslate"><span class="pre">time_format</span></code> argument to adapt the time display in the
resulting plot (can be either <code class="xref py py-obj docutils literal notranslate"><span class="pre">iso</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">mjd</span></code>).</p></li>
<li><p>Units representation in plot labels is improved using <code class="xref py py-obj docutils literal notranslate"><span class="pre">to_sting(latex_inline)</span></code>. The default
behavior can be changed adapting the global variable <code class="xref py py-obj docutils literal notranslate"><span class="pre">UNIT_STRING_FORMAT</span></code> defined in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">axes</span></code>.</p></li>
</ul>
</section>
<section id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Arnau Aguasca</p></li>
<li><p>Axel Donath</p></li>
<li><p>Kirsty Feijen</p></li>
<li><p>Luca Giunti</p></li>
<li><p>Lucas Gréaux</p></li>
<li><p>Bruno Khélifi</p></li>
<li><p>Maximilian Linhoff</p></li>
<li><p>Simone Mender</p></li>
<li><p>Lars Mohrmann</p></li>
<li><p>Cosimo Nigro</p></li>
<li><p>Laura Olivera-Nieto</p></li>
<li><p>Fabio Pintore</p></li>
<li><p>Maxime Regeard</p></li>
<li><p>Quentin Remy</p></li>
<li><p>Atreyee Sinha</p></li>
<li><p>Katrin Streil</p></li>
<li><p>Régis Terrier</p></li>
</ul>
</section>
<section id="pull-requests">
<h2>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">#</a></h2>
<p>This list is incomplete. Small improvements and bug fixes are not listed here.</p>
<ul class="simple">
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4545">#4545</a>] Tutorial on event sampling for energy dependent temporal models (Fabio Pintore)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4521">#4521</a>] Add covariance copy to support ray (Axel Donath)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4510">#4510</a>] Introduce WcsNDMap.cutout_and_mask_region (Axel Donath)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4508">#4508</a>] Implement WcsNDMap.to_region_nd_map_histogram (Axel Donath)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4506">#4506</a>] Rename append method of MapAxis and LabelMapAxis to concatenate (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4504">#4504</a>] Deprecate Fit.minuit member (Axel Donath)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4500">#4500</a>] Fix SpectrumDatasetOnOff.stat_sum to support when counts_off is None (Kirsty Feijen)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4495">#4495</a>] Introduce move_axis method on Map (Régis Terrier)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4486">#4486</a>] Scale handling in temporal models (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4466">#4466</a>] Add tutorial for the use of HAWC data (Laura Olivera-Nieto)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4459">#4459</a>] Evaluation of energy dep temporal model (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4458">#4458</a>] adding weights option to fill_events (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4453">#4453</a>] Add scale in temporal model (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4444">#4444</a>] Integral sensitivity in FluxPointsEstimator (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4435">#4435</a>] Fix wrong ticks in rad_max plot (Simone Mender)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4430">#4430</a>] Add squash method to LabelMapAxis (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4428">#4428</a>] Add .to_string() to axis y/xlabel (Arnau Aguasca)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4418">#4418</a>] Update the _evaluate_timevar_source function in MapDatasetEventSampler (Fabio PINTORE)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4417">#4417</a>] adding from_stack and append to LabelMapAxis (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4412">#4412</a>] LightCurveTemplateModel serialisation (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4409">#4409</a>] Add a function that plot the npred_signal of models of a dataset (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4406">#4406</a>] Add configuration and helper function to run multiprocessing or ray (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4402">#4402</a>] Support for parallel evaluation in FluxPointsEstimator (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4397">#4397</a>] Fix plot_spectrum_datasets_off_regions with too many regions (Bruno Khélifi)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4395">#4395</a>] Add the possibility to plot in MJD the light curves (Bruno Khélifi)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4393">#4393</a>] Iminuit output (Bruno Khélifi)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4380">#4380</a>] Adapt default offset for plotting point like IRFs (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4370">#4370</a>] Implement the _sample_coord_time_energy function in MapDatasetEventSampler (Fabio PINTORE)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4369">#4369</a>] Pulsar analysis tutorial (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4359">#4359</a>] Fix interpolation values_scale in TemplateSpatialModel (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4352">#4352</a>] Adding rad max cut in PhaseBackgroundMaker (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4350">#4350</a>] Always use FixedPointingInfo from events header in DataStore (Maximilian Linhoff)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4346">#4346</a>] Add helper functions for delta TS to significance conversion (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4336">#4336</a>] Change label units within parentheses to brackets (Arnau Aguasca)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4326">#4326</a>] Introduce internal data model for GTI (Régis Terrier)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4324">#4324</a>] Fix Parameter init if scale is not one (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4305">#4305</a>] Add SpectralModel.spectral_index_error (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4301">#4301</a>] Add TIMESYS to lightcurve table meta (Régis Terrier)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4294">#4294</a>] Addition of a Map.dot operator (Régis Terrier)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4288">#4288</a>] Add MapDatasetOnOff type test and associated error for TSMapEstimator (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4282">#4282</a>] Add from_region() to DiskSpatialModel (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4280">#4280</a>] Allow to load observations with only IRFs defined (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4277">#4277</a>] Fix datasets io with RecoPSFMap (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4275">#4275</a>] Remove safe mask in background stacking (Atreyee Sinha)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4264">#4264</a>] Deprecate load_cta_irfs, replace usage with load_irf_dict_from_file (Maximilian Linhoff)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4252">#4252</a>] Map dataset on off in phase maker (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4245">#4245</a>] Added an evaluate method for CompoundSpectralModel (Lucas Gréaux)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4243">#4243</a>] Change _check_intervals from PhaseBackgroundMaker (REGEARD Maxime)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4242">#4242</a>] Add Observations clustering by IRFs quality (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4231">#4231</a>] Fix bug in safe mask computation for SpectrumDatasetOnOff (Lars Mohrmann)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4219">#4219</a>] Allow reading of IRF files with single-value axes (Lars Mohrmann)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4216">#4216</a>] Add TestStatisticNested class (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4215">#4215</a>] Adds built-in Franceschini (2018) and Saldana-Lopez (2021) EBL models (Cosimo Nigro)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4213">#4213</a>] Add deprecation warning system (Régis Terrier)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4212">#4212</a>] Remove unneeded table util function (Maximilian Linhoff)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4210">#4210</a>] Add plot_rgb() function in gammapy.visualization (luca GIUNTI)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4209">#4209</a>] Add support for spatial model correction on background models (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4208">#4208</a>] Add PiecewiseNormSpatialModel (Quentin Remy)</p></li>
<li><p>[<a class="reference external" href="https://github.com/gammapy/gammapy/issues/4191">#4191</a>] Modified Dark Matter Jfactor Computation and Dark Matter Tutorial (Katrin Streil)</p></li>
</ul>
</section>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2023, The Gammapy developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>