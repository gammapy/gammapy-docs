
<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CTAO with Gammapy &#8212; gammapy vX.Y.Z</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=35abb870" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=1f75dfce"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/data/cta';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.gammapy.org/stable/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script src="../../_static/matomo.js?v=52704cab"></script>
    <link rel="canonical" href="https://docs.gammapy.org/stable/tutorials/data/cta.html" />
    <link rel="icon" href="../../_static/gammapy_logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Fermi-LAT with Gammapy" href="fermi_lat.html" />
    <link rel="prev" title="H.E.S.S. with Gammapy" href="hess.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.0.dev2152+g445fd4f59" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../_static/gammapy_logo.png" class="logo__image only-light" alt="gammapy vX.Y.Z - Home"/>
    <img src="../../_static/gammapy_logo.png" class="logo__image only-dark pst-js-only" alt="gammapy vX.Y.Z - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting-started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api-reference/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../development/index.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release-notes/index.html">
    Release notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammapy/gammapy" title="Github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gammapy.slack.com/" title="Slack" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-slack fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Slack</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting-started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api-reference/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../development/index.html">
    Developer guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../release-notes/index.html">
    Release notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/gammapy/gammapy" title="Github" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Github</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gammapy.slack.com/" title="Slack" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-slack fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Slack</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../starting/index.html">Introduction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../starting/overview.html">Data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starting/analysis_1.html">High level interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starting/analysis_2.html">Low level API</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Data exploration</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hess.html">H.E.S.S. with Gammapy</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">CTAO with Gammapy</a></li>
<li class="toctree-l2"><a class="reference internal" href="fermi_lat.html">Fermi-LAT with Gammapy</a></li>
<li class="toctree-l2"><a class="reference internal" href="hawc.html">HAWC with Gammapy</a></li>
<li class="toctree-l2"><a class="reference internal" href="veritas.html">VERITAS with Gammapy</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../model-gallery/index.html">Model Gallery</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../details/index.html">Detailed explanation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../details/irfs.html">Using Gammapy IRFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/observation_clustering.html">Observational clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/theta_square_plot.html">Make a theta-square plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/makers.html">Makers - Data reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/datasets.html">Datasets - Reduced data, IRFs, models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/maps.html">Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/mask_maps.html">Mask maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/catalog.html">Source catalogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/priors.html">Priors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/model_management.html">Modelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/fitting.html">Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/nested_sampling_Crab.html">Bayesian analysis with nested sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/estimators.html">Estimators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/parameter_ul.html">Constraining parameter limits</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../analysis-1d/index.html">Data analysis</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/cta_sensitivity.html">Point source sensitivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/spectral_analysis.html">Spectral analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/spectral_analysis_hli.html">Spectral analysis with the HLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/spectral_analysis_rad_max.html">Spectral analysis with energy-dependent directional cuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/extended_source_spectral_analysis.html">Spectral analysis of extended sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/spectrum_simulation.html">1D spectrum simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-1d/sed_fitting.html">Flux point fitting</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../analysis-2d/index.html">2D Image</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-2d/detect.html">Source detection and significance maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-2d/ring_background.html">Ring background map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-2d/modeling_2D.html">2D map fitting</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../analysis-3d/index.html">3D Cube</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/analysis_3d.html">3D detailed analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/cta_data_analysis.html">Basic image exploration and fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/analysis_mwl.html">Multi instrument joint 3D and 1D analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/simulate_3d.html">3D map simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/event_sampling.html">Event sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/event_sampling_nrg_depend_models.html">Sample a source with energy-dependent temporal evolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/flux_profiles.html">Flux Profile Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-3d/non_detected_source.html">Computing flux upper limits</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../analysis-time/index.html">Time series</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-time/light_curve.html">Light curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-time/light_curve_flare.html">Light curves for flares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-time/variability_estimation.html">Estimation of time variability in a lightcurve</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-time/time_resolved_spectroscopy.html">Time resolved spectroscopy estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-time/light_curve_simulation.html">Simulating and fitting a time varying source</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../astrophysics/index.html">Astrophysics use cases</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../astrophysics/ebl.html">Account for spectral absorption due to the EBL</a></li>

<li class="toctree-l2"><a class="reference internal" href="../astrophysics/energy_dependent_estimation.html">Morphological energy dependence estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astrophysics/pulsar_analysis.html">Pulsar analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../astrophysics/astro_dark_matter.html">Dark matter spatial and spectral models</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../scripts/index.html">Scripts</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripts/survey_map.html">Survey Map Script</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Tutorials</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Data exploration</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">CTAO with Gammapy</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-tutorials-data-cta-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code. or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="ctao-with-gammapy">
<span id="sphx-glr-tutorials-data-cta-py"></span><h1>CTAO with Gammapy<a class="headerlink" href="#ctao-with-gammapy" title="Link to this heading">#</a></h1>
<p>Access and inspect CTAO data and instrument response functions (IRFs) using Gammapy.</p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>The <a class="reference external" href="https://www.ctao.org/">Cherenkov Telescope Array Observatory (CTAO)</a> is the next generation
ground-based observatory for gamma-ray astronomy. Gammapy is the core
library for the Cherenkov Telescope Array Observatory (CTAO) science tools
(<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2017ICRC...35..766D">2017ICRC…35..766D</a>
and <a class="reference external" href="https://www.ctao.org/news/ctao-adopts-the-gammapy-software-package-for-science-analysis/">CTAO Press
Release</a>).</p>
<p>CTAO will start taking data in the coming years. For now, to learn how to
analyse CTAO data and to use Gammapy, if you are a member of the CTAO
consortium, you can use the simulated dataset from:</p>
<ul class="simple">
<li><p>the CTA first data challenge which ran in 2017 and 2018 (see <a class="reference external" href="https://forge.in2p3.fr/projects/data-challenge-1-dc-1/wiki">here</a>
for CTAO members)</p></li>
<li><p>the CTAO Science Data Challenge of 2024 (see <a class="reference external" href="https://ctaoobservatory.sharepoint.com/:f:/r/sites/share-open-data/Shared%20Documents/Reference%20datasets/Internal%20Science%20Data%20Challenge?csf=1&amp;web=1&amp;e=gNuFzI">here</a>
for CTAO members)</p></li>
</ul>
<p>Gammapy fully supports the FITS data formats (events, IRFs) used in CTA
1DC and SDC. The XML sky model format is not supported, but are also not needed
to analyse the data, you have to specify your model via the Gammapy YAML
model format, or Python code, as shown below.</p>
<p>You can also use Gammapy to simulate CTAO data and evaluate CTAO performance
using the CTAO response files. Two sets of responses are available for different
array layouts:</p>
<ul class="simple">
<li><p>the Omega configuration (prod3b, 2016):  <a class="reference external" href="https://zenodo.org/records/5163273">https://zenodo.org/records/5163273</a>,</p></li>
<li><p>the Alpha configuration (prod5, 2021): <a class="reference external" href="https://zenodo.org/records/5499840">https://zenodo.org/records/5499840</a>.</p></li>
</ul>
<p>They are all fully supported by Gammapy.</p>
</section>
<section id="tutorial-overview">
<h2>Tutorial overview<a class="headerlink" href="#tutorial-overview" title="Link to this heading">#</a></h2>
<p>This notebook shows how to access CTAO data and instrument response
functions (IRFs) using Gammapy, and gives some examples how to quick
look the content of CTAO files, especially to see the shape of CTAO IRFs.</p>
<p>At the end of the notebooks, we give several links to other tutorial
notebooks that show how to simulate CTAO data and how to evaluate CTAO
observability and sensitivity, or how to analyse CTAO data.</p>
<p>Note that the FITS data and IRF format currently used by CTAO is the one
documented at <a class="reference external" href="https://gamma-astro-data-formats.readthedocs.io/">https://gamma-astro-data-formats.readthedocs.io/</a>, and is
also used by H.E.S.S. and other Imaging Atmospheric Cherenkov Telescopes
(IACTs). So if you see other Gammapy tutorials using e.g. H.E.S.S.
example data, know that they also apply to CTAO, all you have to do is to
change the loaded data or IRFs to CTAO.</p>
</section>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class"><span class="n">Path</span></a>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy</span><span class="w"> </span><span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>

<span class="c1"># %matplotlib inline</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gammapy.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataStore</span><span class="p">,</span> <span class="n">EventList</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gammapy.irf</span><span class="w"> </span><span class="kn">import</span> <span class="n">EffectiveAreaTable2D</span><span class="p">,</span> <a href="../../api/gammapy.irf.load_irf_dict_from_file.html#gammapy.irf.load_irf_dict_from_file" title="gammapy.irf.load_irf_dict_from_file" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-function"><span class="n">load_irf_dict_from_file</span></a>
</pre></div>
</div>
</section>
<section id="cta-1dc">
<h2>CTA 1DC<a class="headerlink" href="#cta-1dc" title="Link to this heading">#</a></h2>
<p>The CTA first data challenge (1DC) ran in 2017 and 2018. It is described
in detail
<a class="reference external" href="https://forge.in2p3.fr/projects/data-challenge-1-dc-1/wiki">here</a>
and a description of the data and how to download it is
<a class="reference external" href="https://forge.in2p3.fr/projects/data-challenge-1-dc-1/wiki#Data-access">here</a>.</p>
<p>You should download <code class="xref py py-obj docutils literal notranslate"><span class="pre">caldb.tar.gz</span></code> (1.2 MB), <code class="xref py py-obj docutils literal notranslate"><span class="pre">models.tar.gz</span></code> (0.9
GB), <code class="xref py py-obj docutils literal notranslate"><span class="pre">index.tar.gz</span></code> (0.5 MB), as well as optionally the simulated
survey data you are interested in: Galactic plane survey <code class="xref py py-obj docutils literal notranslate"><span class="pre">gps.tar.gz</span></code>
(8.3 GB), Galactic center <code class="xref py py-obj docutils literal notranslate"><span class="pre">gc.tar.gz</span></code> (4.4 MB), Extragalactic survey
<code class="xref py py-obj docutils literal notranslate"><span class="pre">egal.tar.gz</span></code> (2.5 GB), AGN monitoring <code class="xref py py-obj docutils literal notranslate"><span class="pre">agn.wobble.tar.gz</span></code> (4.7 GB).
After download, follow the instructions how to <code class="xref py py-obj docutils literal notranslate"><span class="pre">untar</span></code> the files, and
set a <code class="xref py py-obj docutils literal notranslate"><span class="pre">CTADATA</span></code> environment variable to point to the data.</p>
<p><strong>For convenience</strong>, since the 1DC data files are large and not publicly
available to anyone, we have taken a tiny subset of the CTA 1DC data,
four observations with the southern array from the GPS survey, pointing
near the Galactic center, and <strong>included them at</strong> <code class="xref py py-obj docutils literal notranslate"><span class="pre">$GAMMAPY_DATA/cta-1dc</span></code>.</p>
<section id="files">
<h3>Files<a class="headerlink" href="#files" title="Link to this heading">#</a></h3>
<p>Next we will show a quick overview of the files and how to load them,
and some quick look plots showing the shape of the CTAO IRFs. How to do
CTAO simulations and analyses is shown in other tutorials, see links at
the end of this notebook.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !ls -1 $GAMMAPY_DATA/cta-1dc</span>

<span class="c1"># !ls -1 $GAMMAPY_DATA/cta-1dc/data/baseline/gps</span>

<span class="c1"># !ls -1 $GAMMAPY_DATA/cta-1dc/caldb/data/cta/1dc/bcf/South_z20_50h</span>

<span class="c1"># !ls -1 $GAMMAPY_DATA/cta-1dc/index/gps</span>
</pre></div>
</div>
<p>The access to the IRFs files requires to define a <code class="xref py py-obj docutils literal notranslate"><span class="pre">CALDB</span></code> environment
variable. We are going to define it only for this notebook so it won’t
overwrite the one you may have already defined.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/os.html#os.environ" title="os.environ" class="sphx-glr-backref-module-os sphx-glr-backref-type-py-data"><span class="n">os</span><span class="o">.</span><span class="n">environ</span></a><span class="p">[</span><span class="s2">&quot;CALDB&quot;</span><span class="p">]</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/os.html#os.environ" title="os.environ" class="sphx-glr-backref-module-os sphx-glr-backref-type-py-data"><span class="n">os</span><span class="o">.</span><span class="n">environ</span></a><span class="p">[</span><span class="s2">&quot;GAMMAPY_DATA&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/cta-1dc/caldb&quot;</span>
</pre></div>
</div>
</section>
<section id="datastore">
<h3>Datastore<a class="headerlink" href="#datastore" title="Link to this heading">#</a></h3>
<p>You can use the <a class="reference internal" href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataStore</span></code></a> to load via the index files</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_store</span></a> <span class="o">=</span> <a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore.from_dir" title="gammapy.data.DataStore.from_dir" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-method"><span class="n">DataStore</span><span class="o">.</span><span class="n">from_dir</span></a><span class="p">(</span><span class="s2">&quot;$GAMMAPY_DATA/cta-1dc/index/gps&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_store</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Data store:
HDU index table:
BASE_DIR: /home/runner/work/gammapy-docs/gammapy-docs/gammapy-datasets/dev/cta-1dc/index/gps
Rows: 24
OBS_ID: 110380 -- 111630
HDU_TYPE: [np.str_(&#39;aeff&#39;), np.str_(&#39;bkg&#39;), np.str_(&#39;edisp&#39;), np.str_(&#39;events&#39;), np.str_(&#39;gti&#39;), np.str_(&#39;psf&#39;)]
HDU_CLASS: [np.str_(&#39;aeff_2d&#39;), np.str_(&#39;bkg_3d&#39;), np.str_(&#39;edisp_2d&#39;), np.str_(&#39;events&#39;), np.str_(&#39;gti&#39;), np.str_(&#39;psf_3gauss&#39;)]


Observation table:
Observatory name: &#39;CTA first data challenge (1DC)&#39;
Number of observations: 4
</pre></div>
</div>
<p>If you can’t download the index files, or got errors related to the data
access using them, you can generate the <a class="reference internal" href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataStore</span></code></a> directly from the
event files.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">path</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class"><span class="n">Path</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/os.html#os.environ" title="os.environ" class="sphx-glr-backref-module-os sphx-glr-backref-type-py-data"><span class="n">os</span><span class="o">.</span><span class="n">environ</span></a><span class="p">[</span><span class="s2">&quot;GAMMAPY_DATA&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="s2">&quot;cta-1dc/data&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">paths</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rglob" title="pathlib.Path.rglob" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-method"><span class="n">path</span><span class="o">.</span><span class="n">rglob</span></a><span class="p">(</span><span class="s2">&quot;*.fits&quot;</span><span class="p">))</span>
<a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_store</span></a> <span class="o">=</span> <a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore.from_events_files" title="gammapy.data.DataStore.from_events_files" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-method"><span class="n">DataStore</span><span class="o">.</span><span class="n">from_events_files</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">paths</span></a><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore" title="gammapy.data.DataStore" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_store</span></a><span class="p">)</span>

<a href="../../api/gammapy.data.ObservationTable.html#gammapy.data.ObservationTable" title="gammapy.data.ObservationTable" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data_store</span><span class="o">.</span><span class="n">obs_table</span></a><span class="p">[[</span><span class="s2">&quot;OBS_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;GLON_PNT&quot;</span><span class="p">,</span> <span class="s2">&quot;GLAT_PNT&quot;</span><span class="p">,</span> <span class="s2">&quot;IRF&quot;</span><span class="p">]]</span>

<a href="../../api/gammapy.data.Observation.html#gammapy.data.Observation" title="gammapy.data.Observation" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">observation</span></a> <span class="o">=</span> <a href="../../api/gammapy.data.DataStore.html#gammapy.data.DataStore.obs" title="gammapy.data.DataStore.obs" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-method"><span class="n">data_store</span><span class="o">.</span><span class="n">obs</span></a><span class="p">(</span><span class="mi">110380</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.data.Observation.html#gammapy.data.Observation" title="gammapy.data.Observation" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">observation</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Data store:
HDU index table:
BASE_DIR: .
Rows: 24
OBS_ID: 110380 -- 111630
HDU_TYPE: [np.str_(&#39;aeff&#39;), np.str_(&#39;bkg&#39;), np.str_(&#39;edisp&#39;), np.str_(&#39;events&#39;), np.str_(&#39;gti&#39;), np.str_(&#39;psf&#39;)]
HDU_CLASS: [np.str_(&#39;aeff_2d&#39;), np.str_(&#39;bkg_3d&#39;), np.str_(&#39;edisp_2d&#39;), np.str_(&#39;events&#39;), np.str_(&#39;gti&#39;), np.str_(&#39;psf_3gauss&#39;)]


Observation table:
Observatory name: &#39;N/A&#39;
Number of observations: 4

Observation

        obs id            : 110380
        tstart            : 59235.50
        tstop             : 59235.52
        duration          : 1800.00 s
        pointing (icrs)   : 267.7 deg, -29.6 deg

        deadtime fraction : 2.0%
</pre></div>
</div>
</section>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="Link to this heading">#</a></h2>
<p>We can load events data via the data store and observation, or
equivalently via the <a class="reference internal" href="../../api/gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a> class by specifying the
EVENTS filename.</p>
<p>The quick-look <code class="xref py py-obj docutils literal notranslate"><span class="pre">events.peek()</span></code> plot below shows that CTAO has a field
of view of a few degrees, and two energy thresholds, one significantly
below 100 GeV where the CTAO large-size telescopes (LSTs) detect events,
and a second one near 100 GeV where the mid-sized telescopes (MSTs)
start to detect events.</p>
<p>Note that most events are “hadronic background” due to cosmic ray
showers in the atmosphere that pass the gamma-hadron selection cuts for
this analysis configuration. Since this is simulated data, column
<code class="xref py py-obj docutils literal notranslate"><span class="pre">MC_ID</span></code> is available that gives an emission component identifier code,
and the EVENTS header in <code class="xref py py-obj docutils literal notranslate"><span class="pre">events.table.meta</span></code> can be used to look up
which <code class="xref py py-obj docutils literal notranslate"><span class="pre">MC_ID</span></code> corresponds to which emission component.</p>
<p>Events can be accessed from the observation object like:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../../api/gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a> <span class="o">=</span> <a href="../../api/gammapy.data.Observation.html#gammapy.data.Observation.events" title="gammapy.data.Observation.events" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-attribute"><span class="n">observation</span><span class="o">.</span><span class="n">events</span></a>
</pre></div>
</div>
<p>Or read directly from an event file:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../../api/gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a> <span class="o">=</span> <a href="../../api/gammapy.data.EventList.html#gammapy.data.EventList.read" title="gammapy.data.EventList.read" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-method"><span class="n">EventList</span><span class="o">.</span><span class="n">read</span></a><span class="p">(</span>
    <span class="s2">&quot;$GAMMAPY_DATA/cta-1dc/data/baseline/gps/gps_baseline_110380.fits&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Here we print the data from the first 5 events listed in the table:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><a href="https://docs.astropy.org/en/stable/api/astropy.table.Table.html#astropy.table.Table" title="astropy.table.Table" class="sphx-glr-backref-module-astropy-table sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span><span class="o">.</span><span class="n">table</span></a><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>       TIME          ENERGY       RA     ...    DETX       DETY    MC_ID
                      TeV        deg     ...    deg        deg
----------------- ----------- ---------- ... ---------- ---------- -----
59235.50003524848  0.03902182  -92.63541 ... -0.9077294 -0.2727693     2
59235.50006085648 0.030796371  -92.64103 ...  1.3443842 -0.2838398     2
59235.50010208971  0.04009629  -93.20372 ...  1.0049409 -0.7769775     2
59235.50010433306 0.039580025  -94.03383 ... 0.32684833  -1.496021     2
59235.50017140133  0.03035851 -93.330505 ...  -0.716062 -0.8733348     2
</pre></div>
</div>
<p>And show a summary plot:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../../api/gammapy.data.EventList.html#gammapy.data.EventList.peek" title="gammapy.data.EventList.peek" class="sphx-glr-backref-module-gammapy-data sphx-glr-backref-type-py-method"><span class="n">events</span><span class="o">.</span><span class="n">peek</span></a><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_001.png" srcset="../../_images/sphx_glr_cta_001.png" alt="cta" class = "sphx-glr-single-img"/></section>
<section id="irfs">
<h2>IRFs<a class="headerlink" href="#irfs" title="Link to this heading">#</a></h2>
<p>The CTAO instrument response functions (IRFs) are given as FITS files in
the <code class="xref py py-obj docutils literal notranslate"><span class="pre">caldb</span></code> folder, the following IRFs are available:</p>
<ul class="simple">
<li><p>effective area</p></li>
<li><p>energy dispersion</p></li>
<li><p>point spread function</p></li>
<li><p>background</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The IRFs contain the energy and offset dependence of the CTAO response</p></li>
<li><p>CTA 1DC was based on an early version of the CTAO FITS responses
produced in 2017, improvements have been made since.</p></li>
<li><p>The point spread function was approximated by a Gaussian shape</p></li>
<li><p>The background is from hadronic and electron air shower events that
pass CTAO selection cuts. It was given as a function of field of view
coordinates, although it is radially symmetric.</p></li>
<li><p>The energy dispersion in CTA 1DC is noisy at low energy, leading to
unreliable spectral points for some analyses.</p></li>
<li><p>The CTA 1DC response files have the first node at field of view
offset 0.5 deg, so to get the on-axis response at offset 0 deg,
Gammapy has to extrapolate. Furthermore, because diffuse gamma-rays
in the FOV were used to derive the IRFs, and the solid angle at small
FOV offset circles is small, the IRFs at the center of the FOV are
somewhat noisy. This leads to unstable analysis and simulation issues
when using the DC1 IRFs for some analyses.</p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.irf.EffectiveAreaTable2D.html#gammapy.irf.EffectiveAreaTable2D" title="gammapy.irf.EffectiveAreaTable2D" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">observation</span><span class="o">.</span><span class="n">aeff</span></a><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irf_filename</span></a> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;$GAMMAPY_DATA/cta-1dc/caldb/data/cta/1dc/bcf/South_z20_50h/irf_file.fits&quot;</span>
<span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a> <span class="o">=</span> <a href="../../api/gammapy.irf.load_irf_dict_from_file.html#gammapy.irf.load_irf_dict_from_file" title="gammapy.irf.load_irf_dict_from_file" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-function"><span class="n">load_irf_dict_from_file</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irf_filename</span></a><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>EffectiveAreaTable2D
--------------------

  axes  : [&#39;energy_true&#39;, &#39;offset&#39;]
  shape : (42, 6)
  ndim  : 2
  unit  : m2
  dtype : &gt;f4

/home/runner/work/gammapy-docs/gammapy-docs/gammapy/.tox/build_docs/lib/python3.11/site-packages/astropy/units/core.py:2085: UnitsWarning: &#39;1/s/MeV/sr&#39; did not parse as fits unit: Numeric factor not supported by FITS If this is meant to be a custom unit, define it with &#39;u.def_unit&#39;. To have it recognized inside a file reader or other code, enable it with &#39;u.add_enabled_units&#39;. For details, see https://docs.astropy.org/en/latest/units/combining_and_defining.html
  warnings.warn(msg, UnitsWarning)
{&#39;aeff&#39;: &lt;gammapy.irf.effective_area.EffectiveAreaTable2D object at 0x7f57605ed2d0&gt;, &#39;psf&#39;: &lt;gammapy.irf.psf.parametric.EnergyDependentMultiGaussPSF object at 0x7f5761bd99d0&gt;, &#39;edisp&#39;: &lt;gammapy.irf.edisp.core.EnergyDispersion2D object at 0x7f5761fbc090&gt;, &#39;bkg&#39;: &lt;gammapy.irf.background.Background3D object at 0x7f5760199610&gt;}
</pre></div>
</div>
<section id="effective-area">
<h3>Effective area<a class="headerlink" href="#effective-area" title="Link to this heading">#</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Equivalent alternative way to load IRFs directly</span>
<a href="../../api/gammapy.irf.EffectiveAreaTable2D.html#gammapy.irf.EffectiveAreaTable2D" title="gammapy.irf.EffectiveAreaTable2D" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">aeff</span></a> <span class="o">=</span> <a href="../../api/gammapy.irf.EffectiveAreaTable2D.html#gammapy.irf.EffectiveAreaTable2D.read" title="gammapy.irf.EffectiveAreaTable2D.read" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-method"><span class="n">EffectiveAreaTable2D</span><span class="o">.</span><span class="n">read</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irf_filename</span></a><span class="p">,</span> <span class="n">hdu</span><span class="o">=</span><span class="s2">&quot;EFFECTIVE AREA&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.irf.EffectiveAreaTable2D.html#gammapy.irf.EffectiveAreaTable2D" title="gammapy.irf.EffectiveAreaTable2D" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">aeff</span></a><span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;aeff&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>

<span class="c1"># What is the on-axis effective area at 10 TeV?</span>
<span class="nb">print</span><span class="p">(</span><a href="../../api/gammapy.irf.EffectiveAreaTable2D.html#gammapy.irf.EffectiveAreaTable2D.evaluate" title="gammapy.irf.EffectiveAreaTable2D.evaluate" class="sphx-glr-backref-module-gammapy-irf sphx-glr-backref-type-py-method"><span class="n">aeff</span><span class="o">.</span><span class="n">evaluate</span></a><span class="p">(</span><span class="n">energy_true</span><span class="o">=</span><span class="s2">&quot;10 TeV&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="s2">&quot;0 deg&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;km2&quot;</span><span class="p">))</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_002.png" srcset="../../_images/sphx_glr_cta_002.png" alt="cta" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>EffectiveAreaTable2D
--------------------

  axes  : [&#39;energy_true&#39;, &#39;offset&#39;]
  shape : (42, 6)
  ndim  : 2
  unit  : m2
  dtype : &gt;f4

3.783587001383003 km2
</pre></div>
</div>
</section>
<section id="energy-dispersion">
<h3>Energy dispersion<a class="headerlink" href="#energy-dispersion" title="Link to this heading">#</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;edisp&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_003.png" srcset="../../_images/sphx_glr_cta_003.png" alt="cta" class = "sphx-glr-single-img"/></section>
<section id="point-spread-function">
<h3>Point spread function<a class="headerlink" href="#point-spread-function" title="Link to this heading">#</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;psf&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_004.png" srcset="../../_images/sphx_glr_cta_004.png" alt="cta" class = "sphx-glr-single-img"/><p>This is how for analysis you could slice out the PSF
at a given field of view offset</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html#matplotlib.pyplot.figure" title="matplotlib.pyplot.figure" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span></a><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;psf&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot_containment_radius_vs_energy</span><span class="p">(</span>
    <span class="n">offset</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <a href="https://docs.astropy.org/en/stable/api/astropy.units.Unit.html#astropy.units.Unit" title="astropy.units.Unit" class="sphx-glr-backref-module-astropy-units sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">u</span><span class="o">.</span><span class="n">deg</span></a><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="p">[</span><span class="mf">0.68</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">]</span>
<span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_005.png" srcset="../../_images/sphx_glr_cta_005.png" alt="cta" class = "sphx-glr-single-img"/></section>
<section id="background">
<h3>Background<a class="headerlink" href="#background" title="Link to this heading">#</a></h3>
<p>The background is given as a rate in units <code class="xref py py-obj docutils literal notranslate"><span class="pre">MeV-1</span> <span class="pre">s-1</span> <span class="pre">sr-1</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;bkg&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">peek</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;bkg&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">energy</span><span class="o">=</span><span class="s2">&quot;3 TeV&quot;</span><span class="p">,</span> <span class="n">fov_lon</span><span class="o">=</span><span class="s2">&quot;1 deg&quot;</span><span class="p">,</span> <span class="n">fov_lat</span><span class="o">=</span><span class="s2">&quot;0 deg&quot;</span><span class="p">))</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_006.png" srcset="../../_images/sphx_glr_cta_006.png" alt="cta" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>1.2053315944536949e-05 1 / (MeV s sr)
</pre></div>
</div>
<p>To visualise the background at particular energies:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">irfs</span></a><span class="p">[</span><span class="s2">&quot;bkg&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot_at_energy</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;100 GeV&quot;</span><span class="p">,</span> <span class="s2">&quot;500 GeV&quot;</span><span class="p">,</span> <span class="s2">&quot;1 TeV&quot;</span><span class="p">,</span> <span class="s2">&quot;3 TeV&quot;</span><span class="p">,</span> <span class="s2">&quot;10 TeV&quot;</span><span class="p">,</span> <span class="s2">&quot;100 TeV&quot;</span><span class="p">]</span>
<span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_cta_007.png" srcset="../../_images/sphx_glr_cta_007.png" alt="100 GeV, 500 GeV, 1 TeV, 3 TeV, 10 TeV, 100 TeV" class = "sphx-glr-single-img"/></section>
</section>
<section id="source-models">
<h2>Source models<a class="headerlink" href="#source-models" title="Link to this heading">#</a></h2>
<p>The 1DC sky model is distributed as a set of XML files, which link
to numerous other FITS and text files. Gammapy does not natively support this
XML format. Instead, we use YAML-based model format that improves on the XML format
by being easier to write and read, add
relevant information (units for physical quantities), and omit useless
information (e.g. parameter scales in addition to values).</p>
<p>If you need or prefer to work with the original XML model files, you can use tools like
<a class="reference external" href="https://docs.python.org/3/library/xml.etree.elementtree.html">ElementTree</a>
from the Python standard library, or
<a class="reference external" href="https://github.com/martinblech/xmltodict">xmltodict</a> installed through
<code class="xref py py-obj docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">xmltodict</span></code>. Here’s an example how to load the information
for a given source, and convert it into the sky model format Gammapy
understands.</p>
<p>With the following command we can see what the XML file looks like
(uncomment it if you have installed <code class="xref py py-obj docutils literal notranslate"><span class="pre">xmltodict</span></code>).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !tail -n 20 $CTADATA/models/models_gps.xml</span>
</pre></div>
</div>
<p>Here is an example on how to create a gammapy source model from this</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import xmltodict</span>
<span class="c1"># from astropy import units as u</span>
<span class="c1"># from gammapy.modeling.models import PowerLawSpectralModel, PointSpatialModel, SkyModel</span>

<span class="c1"># # Read XML file</span>
<span class="c1"># filename = &quot;$CTADATA/models/models_gps.xml&quot;</span>

<span class="c1"># # Access spectrum parameters</span>
<span class="c1"># data = xmltodict.parse(open(filename).read())</span>
<span class="c1"># source0 = data[&quot;source_library&quot;][&quot;source&quot;][0]</span>
<span class="c1"># spectrum0 = source0[&quot;spectrum&quot;][&quot;parameter&quot;]</span>
<span class="c1"># spatial0 = source0[&quot;spatialModel&quot;]</span>

<span class="c1"># # Printing the type shows we have a point-like model</span>
<span class="c1"># print(spatial0[&#39;@type&#39;])</span>

<span class="c1"># # Helper function to get parameter by name</span>
<span class="c1"># def get_param(params, name):</span>
<span class="c1">#     for p in params:</span>
<span class="c1">#         if p[&quot;@name&quot;] == name:</span>
<span class="c1">#             return float(p[&quot;@value&quot;]) * float(p[&quot;@scale&quot;])</span>
<span class="c1">#     raise KeyError(f&quot;Parameter &#39;{name}&#39; not found.&quot;)</span>

<span class="c1"># # Helper to convert parameter value * scale</span>
<span class="c1"># par_to_val = lambda par: float(par[&quot;@value&quot;]) * float(par[&quot;@scale&quot;])</span>

<span class="c1"># # Create a spectral model</span>
<span class="c1"># spectral_model = PowerLawSpectralModel(</span>
<span class="c1">#     amplitude=par_to_val(spectrum0[0]) * u.Unit(&quot;cm-2 s-1 MeV-1&quot;),</span>
<span class="c1">#     index=par_to_val(spectrum0[1]),</span>
<span class="c1">#     reference=par_to_val(spectrum0[2]) * u.Unit(&quot;MeV&quot;),</span>
<span class="c1"># )</span>
<span class="c1"># print(spectral_model)</span>

<span class="c1"># # Create the spatial model</span>
<span class="c1"># spatial_params = spatial0[&quot;parameter&quot;]</span>
<span class="c1"># spatial_model = PointSpatialModel(</span>
<span class="c1">#     lon_0=get_param(spatial_params, &quot;RA&quot;) * u.deg,</span>
<span class="c1">#     lat_0=get_param(spatial_params, &quot;DEC&quot;) * u.deg,</span>
<span class="c1">#     frame=&quot;icrs&quot;</span>
<span class="c1"># )</span>
<span class="c1"># print(spatial_model)</span>

<span class="c1"># # Create the SkyModel</span>
<span class="c1"># sky_model = SkyModel(spectral_model=spectral_model, spatial_model=spatial_model, name=source0[&#39;@name&#39;])</span>
<span class="c1"># print(sky_model)</span>
</pre></div>
</div>
</section>
<section id="latest-ctao-performance-files">
<h2>Latest CTAO performance files<a class="headerlink" href="#latest-ctao-performance-files" title="Link to this heading">#</a></h2>
<p>CTA 1DC is useful to learn how to analyse CTAO data. But to do
simulations and studies for CTAO now, you should get the most recent CTAO
IRFs in FITS format from <a class="reference external" href="https://www.ctao.org/for-scientists/performance/">https://www.ctao.org/for-scientists/performance/</a>.</p>
<p>If you want to use other response files, the following code cells (remove the # to uncomment)
explain how to proceed. This example is made with the Alpha configuration (Prod5).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># !curl -o cta-prod5-zenodo-fitsonly-v0.1.zip https://zenodo.org/records/5499840/files/cta-prod5-zenodo-fitsonly-v0.1.zip</span>
<span class="c1"># !unzip cta-prod5-zenodo-fitsonly-v0.1.zip</span>
<span class="c1"># !ls fits/</span>

<span class="c1"># !tar xf fits/CTA-Performance-prod5-v0.1-South-40deg.FITS.tar.gz -C fits/.</span>
<span class="c1"># !ls fits/*.fits.gz</span>

<span class="c1"># irfs1 = load_irf_dict_from_file(&quot;fits/Prod5-South-40deg-SouthAz-14MSTs37SSTs.180000s-v0.1.fits.gz&quot;)</span>
<span class="c1"># irfs1[&quot;aeff&quot;].plot_energy_dependence()</span>

<span class="c1"># irfs2 = load_irf_dict_from_file(&quot;fits/Prod5-South-40deg-SouthAz-14MSTs37SSTs.1800s-v0.1.fits.gz&quot;)</span>
<span class="c1"># irfs2[&quot;aeff&quot;].plot_energy_dependence()</span>
</pre></div>
</div>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Load the EVENTS file for <code class="xref py py-obj docutils literal notranslate"><span class="pre">obs_id=111159</span></code> as a
<a class="reference internal" href="../../api/gammapy.data.EventList.html#gammapy.data.EventList" title="gammapy.data.EventList"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EventList</span></code></a> object.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">EventList.table</span></code> to find the energy, sky coordinate and time of
the highest-energy event.</p></li>
<li><p>Use <a class="reference internal" href="../../api/gammapy.data.EventList.html#gammapy.data.EventList.pointing_radec" title="gammapy.data.EventList.pointing_radec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pointing_radec</span></code></a> to find the pointing position of this
observation, and use <a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v7.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.coordinates.SkyCoord</span></code></a> methods to find
the field of view offset of the highest-energy event.</p></li>
<li><p>What is the effective area and PSF 68% containment radius of CTAO at 1
TeV for the <code class="xref py py-obj docutils literal notranslate"><span class="pre">South_z20_50h</span></code> configuration used for the CTA 1DC
simulation?</p></li>
<li><p>Get the latest CTAO FITS performance files from
<a class="reference external" href="https://www.ctao.org/for-scientists/performance/">https://www.ctao.org/for-scientists/performance/</a> and run the
code example above. Make an effective area ratio plot of 40 deg
zenith versus 20 deg zenith for the <code class="xref py py-obj docutils literal notranslate"><span class="pre">South_z40_50h</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">South_z20_50h</span></code> configurations.</p></li>
</ul>
</section>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Learn how to analyse data with
<a class="reference internal" href="../starting/analysis_1.html"><span class="doc">High level interface</span></a> and
<a class="reference internal" href="../starting/analysis_2.html"><span class="doc">Low level API</span></a> or any other
Gammapy analysis tutorial.</p></li>
<li><p>Learn how to evaluate CTAO observability and sensitivity with
<a class="reference internal" href="../analysis-3d/simulate_3d.html"><span class="doc">3D map simulation</span></a>,
<a class="reference internal" href="../analysis-1d/spectrum_simulation.html"><span class="doc">1D spectrum simulation</span></a>
or <a class="reference internal" href="../analysis-1d/cta_sensitivity.html"><span class="doc">Point source sensitivity</span></a>.</p></li>
</ul>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-data-cta-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/gammapy/gammapy-webpage/main?urlpath=lab/tree/notebooks/dev/tutorials/data/cta.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo5.svg" style="width: 150px;" />
</a>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/e2a4ade170c5e85b14ae39a9784b12b1/cta.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">cta.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/52215788338df5a5cca4ad9f70681d84/cta.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">cta.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/42884adaf5dec1438e6da837d7acfad0/cta.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">cta.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tutorial-overview">Tutorial overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup">Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cta-1dc">CTA 1DC</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#files">Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datastore">Datastore</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#events">Events</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#irfs">IRFs</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-area">Effective area</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#energy-dispersion">Energy dispersion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-spread-function">Point spread function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#background">Background</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#source-models">Source models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latest-ctao-performance-files">Latest CTAO performance files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next steps</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/tutorials/data/cta.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, The Gammapy developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
    
    <p>Licensed under
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA</a>.</p>
    <p>Examples, recipes, and other code licensed under
      <a href="https://opensource.org/license/BSD-3-Clause>" target="_blank">BSD 3-Clause "New" or "Revised"</a> license.</p>
    <p>Gammapy <a href="https://gammapy.org/DataPrivacy.html">Data Privacy</a> information.</p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>